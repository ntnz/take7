(function(B,S){typeof exports=="object"&&typeof module<"u"?module.exports=S():typeof define=="function"&&define.amd?define(S):(B=typeof globalThis<"u"?globalThis:B||self,B.AwesomeMenu=S())})(this,function(){"use strict";var Ao=Object.defineProperty;var Lo=(B,S,V)=>S in B?Ao(B,S,{enumerable:!0,configurable:!0,writable:!0,value:V}):B[S]=V;var j=(B,S,V)=>(Lo(B,typeof S!="symbol"?S+"":S,V),V);var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var V={exports:{}};V.exports,function(n,e){var t=200,o="__lodash_hash_undefined__",r=800,l=16,u=9007199254740991,c="[object Arguments]",m="[object Array]",p="[object AsyncFunction]",b="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",y="[object GeneratorFunction]",w="[object Map]",k="[object Number]",T="[object Null]",O="[object Object]",D="[object Proxy]",I="[object RegExp]",M="[object Set]",U="[object String]",Y="[object Undefined]",_="[object WeakMap]",F="[object ArrayBuffer]",q="[object DataView]",ae="[object Float32Array]",X="[object Float64Array]",N="[object Int8Array]",R="[object Int16Array]",le="[object Int32Array]",ce="[object Uint8Array]",W="[object Uint8ClampedArray]",si="[object Uint16Array]",ri="[object Uint32Array]",ai=/[\\^$.*+?()[\]{}|]/g,li=/^\[object .+?Constructor\]$/,ci=/^(?:0|[1-9]\d*)$/,C={};C[ae]=C[X]=C[N]=C[R]=C[le]=C[ce]=C[W]=C[si]=C[ri]=!0,C[c]=C[m]=C[F]=C[b]=C[q]=C[h]=C[d]=C[f]=C[w]=C[k]=C[O]=C[I]=C[M]=C[U]=C[_]=!1;var Rt=typeof B=="object"&&B&&B.Object===Object&&B,ui=typeof self=="object"&&self&&self.Object===Object&&self,ve=Rt||ui||Function("return this")(),$t=e&&!e.nodeType&&e,Ee=$t&&!0&&n&&!n.nodeType&&n,Wt=Ee&&Ee.exports===$t,Je=Wt&&Rt.process,Ht=function(){try{var i=Ee&&Ee.require&&Ee.require("util").types;return i||Je&&Je.binding&&Je.binding("util")}catch{}}(),jt=Ht&&Ht.isTypedArray;function di(i,s,a){switch(a.length){case 0:return i.call(s);case 1:return i.call(s,a[0]);case 2:return i.call(s,a[0],a[1]);case 3:return i.call(s,a[0],a[1],a[2])}return i.apply(s,a)}function fi(i,s){for(var a=-1,g=Array(i);++a<i;)g[a]=s(a);return g}function hi(i){return function(s){return i(s)}}function pi(i,s){return i==null?void 0:i[s]}function gi(i,s){return function(a){return i(s(a))}}var mi=Array.prototype,bi=Function.prototype,Me=Object.prototype,Qe=ve["__core-js_shared__"],_e=bi.toString,J=Me.hasOwnProperty,qt=function(){var i=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Vt=Me.toString,yi=_e.call(Object),wi=RegExp("^"+_e.call(J).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=Wt?ve.Buffer:void 0,zt=ve.Symbol,Ut=ve.Uint8Array,Nt=Ie?Ie.allocUnsafe:void 0,Kt=gi(Object.getPrototypeOf,Object),Gt=Object.create,vi=Me.propertyIsEnumerable,Ei=mi.splice,ue=zt?zt.toStringTag:void 0,Fe=function(){try{var i=tt(Object,"defineProperty");return i({},"",{}),i}catch{}}(),ki=Ie?Ie.isBuffer:void 0,Yt=Math.max,xi=Date.now,Xt=tt(ve,"Map"),ke=tt(Object,"create"),Ci=function(){function i(){}return function(s){if(!fe(s))return{};if(Gt)return Gt(s);i.prototype=s;var a=new i;return i.prototype=void 0,a}}();function de(i){var s=-1,a=i==null?0:i.length;for(this.clear();++s<a;){var g=i[s];this.set(g[0],g[1])}}function Ai(){this.__data__=ke?ke(null):{},this.size=0}function Li(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Oi(i){var s=this.__data__;if(ke){var a=s[i];return a===o?void 0:a}return J.call(s,i)?s[i]:void 0}function Ti(i){var s=this.__data__;return ke?s[i]!==void 0:J.call(s,i)}function Di(i,s){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=ke&&s===void 0?o:s,this}de.prototype.clear=Ai,de.prototype.delete=Li,de.prototype.get=Oi,de.prototype.has=Ti,de.prototype.set=Di;function Q(i){var s=-1,a=i==null?0:i.length;for(this.clear();++s<a;){var g=i[s];this.set(g[0],g[1])}}function Mi(){this.__data__=[],this.size=0}function _i(i){var s=this.__data__,a=Be(s,i);if(a<0)return!1;var g=s.length-1;return a==g?s.pop():Ei.call(s,a,1),--this.size,!0}function Ii(i){var s=this.__data__,a=Be(s,i);return a<0?void 0:s[a][1]}function Fi(i){return Be(this.__data__,i)>-1}function Bi(i,s){var a=this.__data__,g=Be(a,i);return g<0?(++this.size,a.push([i,s])):a[g][1]=s,this}Q.prototype.clear=Mi,Q.prototype.delete=_i,Q.prototype.get=Ii,Q.prototype.has=Fi,Q.prototype.set=Bi;function pe(i){var s=-1,a=i==null?0:i.length;for(this.clear();++s<a;){var g=i[s];this.set(g[0],g[1])}}function Si(){this.size=0,this.__data__={hash:new de,map:new(Xt||Q),string:new de}}function Pi(i){var s=Pe(this,i).delete(i);return this.size-=s?1:0,s}function Ri(i){return Pe(this,i).get(i)}function $i(i){return Pe(this,i).has(i)}function Wi(i,s){var a=Pe(this,i),g=a.size;return a.set(i,s),this.size+=a.size==g?0:1,this}pe.prototype.clear=Si,pe.prototype.delete=Pi,pe.prototype.get=Ri,pe.prototype.has=$i,pe.prototype.set=Wi;function ge(i){var s=this.__data__=new Q(i);this.size=s.size}function Hi(){this.__data__=new Q,this.size=0}function ji(i){var s=this.__data__,a=s.delete(i);return this.size=s.size,a}function qi(i){return this.__data__.get(i)}function Vi(i){return this.__data__.has(i)}function zi(i,s){var a=this.__data__;if(a instanceof Q){var g=a.__data__;if(!Xt||g.length<t-1)return g.push([i,s]),this.size=++a.size,this;a=this.__data__=new pe(g)}return a.set(i,s),this.size=a.size,this}ge.prototype.clear=Hi,ge.prototype.delete=ji,ge.prototype.get=qi,ge.prototype.has=Vi,ge.prototype.set=zi;function Ui(i,s){var a=ot(i),g=!a&&it(i),E=!a&&!g&&tn(i),x=!a&&!g&&!E&&on(i),A=a||g||E||x,v=A?fi(i.length,String):[],L=v.length;for(var H in i)(s||J.call(i,H))&&!(A&&(H=="length"||E&&(H=="offset"||H=="parent")||x&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||Zt(H,L)))&&v.push(H);return v}function Ze(i,s,a){(a!==void 0&&!Re(i[s],a)||a===void 0&&!(s in i))&&et(i,s,a)}function Ni(i,s,a){var g=i[s];(!(J.call(i,s)&&Re(g,a))||a===void 0&&!(s in i))&&et(i,s,a)}function Be(i,s){for(var a=i.length;a--;)if(Re(i[a][0],s))return a;return-1}function et(i,s,a){s=="__proto__"&&Fe?Fe(i,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):i[s]=a}var Ki=ro();function Se(i){return i==null?i===void 0?Y:T:ue&&ue in Object(i)?ao(i):po(i)}function Jt(i){return xe(i)&&Se(i)==c}function Gi(i){if(!fe(i)||fo(i))return!1;var s=rt(i)?wi:li;return s.test(yo(i))}function Yi(i){return xe(i)&&nn(i.length)&&!!C[Se(i)]}function Xi(i){if(!fe(i))return ho(i);var s=en(i),a=[];for(var g in i)g=="constructor"&&(s||!J.call(i,g))||a.push(g);return a}function Qt(i,s,a,g,E){i!==s&&Ki(s,function(x,A){if(E||(E=new ge),fe(x))Ji(i,s,A,a,Qt,g,E);else{var v=g?g(nt(i,A),x,A+"",i,s,E):void 0;v===void 0&&(v=x),Ze(i,A,v)}},sn)}function Ji(i,s,a,g,E,x,A){var v=nt(i,a),L=nt(s,a),H=A.get(L);if(H){Ze(i,a,H);return}var $=x?x(v,L,a+"",i,s,A):void 0,Ce=$===void 0;if(Ce){var at=ot(L),lt=!at&&tn(L),an=!at&&!lt&&on(L);$=L,at||lt||an?ot(v)?$=v:wo(v)?$=io(v):lt?(Ce=!1,$=eo(L,!0)):an?(Ce=!1,$=no(L,!0)):$=[]:vo(L)||it(L)?($=v,it(v)?$=Eo(v):(!fe(v)||rt(v))&&($=lo(L))):Ce=!1}Ce&&(A.set(L,$),E($,L,g,x,A),A.delete(L)),Ze(i,a,$)}function Qi(i,s){return mo(go(i,s,rn),i+"")}var Zi=Fe?function(i,s){return Fe(i,"toString",{configurable:!0,enumerable:!1,value:xo(s),writable:!0})}:rn;function eo(i,s){if(s)return i.slice();var a=i.length,g=Nt?Nt(a):new i.constructor(a);return i.copy(g),g}function to(i){var s=new i.constructor(i.byteLength);return new Ut(s).set(new Ut(i)),s}function no(i,s){var a=s?to(i.buffer):i.buffer;return new i.constructor(a,i.byteOffset,i.length)}function io(i,s){var a=-1,g=i.length;for(s||(s=Array(g));++a<g;)s[a]=i[a];return s}function oo(i,s,a,g){var E=!a;a||(a={});for(var x=-1,A=s.length;++x<A;){var v=s[x],L=g?g(a[v],i[v],v,a,i):void 0;L===void 0&&(L=i[v]),E?et(a,v,L):Ni(a,v,L)}return a}function so(i){return Qi(function(s,a){var g=-1,E=a.length,x=E>1?a[E-1]:void 0,A=E>2?a[2]:void 0;for(x=i.length>3&&typeof x=="function"?(E--,x):void 0,A&&co(a[0],a[1],A)&&(x=E<3?void 0:x,E=1),s=Object(s);++g<E;){var v=a[g];v&&i(s,v,g,x)}return s})}function ro(i){return function(s,a,g){for(var E=-1,x=Object(s),A=g(s),v=A.length;v--;){var L=A[i?v:++E];if(a(x[L],L,x)===!1)break}return s}}function Pe(i,s){var a=i.__data__;return uo(s)?a[typeof s=="string"?"string":"hash"]:a.map}function tt(i,s){var a=pi(i,s);return Gi(a)?a:void 0}function ao(i){var s=J.call(i,ue),a=i[ue];try{i[ue]=void 0;var g=!0}catch{}var E=Vt.call(i);return g&&(s?i[ue]=a:delete i[ue]),E}function lo(i){return typeof i.constructor=="function"&&!en(i)?Ci(Kt(i)):{}}function Zt(i,s){var a=typeof i;return s=s??u,!!s&&(a=="number"||a!="symbol"&&ci.test(i))&&i>-1&&i%1==0&&i<s}function co(i,s,a){if(!fe(a))return!1;var g=typeof s;return(g=="number"?st(a)&&Zt(s,a.length):g=="string"&&s in a)?Re(a[s],i):!1}function uo(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function fo(i){return!!qt&&qt in i}function en(i){var s=i&&i.constructor,a=typeof s=="function"&&s.prototype||Me;return i===a}function ho(i){var s=[];if(i!=null)for(var a in Object(i))s.push(a);return s}function po(i){return Vt.call(i)}function go(i,s,a){return s=Yt(s===void 0?i.length-1:s,0),function(){for(var g=arguments,E=-1,x=Yt(g.length-s,0),A=Array(x);++E<x;)A[E]=g[s+E];E=-1;for(var v=Array(s+1);++E<s;)v[E]=g[E];return v[s]=a(A),di(i,this,v)}}function nt(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var mo=bo(Zi);function bo(i){var s=0,a=0;return function(){var g=xi(),E=l-(g-a);if(a=g,E>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}function yo(i){if(i!=null){try{return _e.call(i)}catch{}try{return i+""}catch{}}return""}function Re(i,s){return i===s||i!==i&&s!==s}var it=Jt(function(){return arguments}())?Jt:function(i){return xe(i)&&J.call(i,"callee")&&!vi.call(i,"callee")},ot=Array.isArray;function st(i){return i!=null&&nn(i.length)&&!rt(i)}function wo(i){return xe(i)&&st(i)}var tn=ki||Co;function rt(i){if(!fe(i))return!1;var s=Se(i);return s==f||s==y||s==p||s==D}function nn(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=u}function fe(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function xe(i){return i!=null&&typeof i=="object"}function vo(i){if(!xe(i)||Se(i)!=O)return!1;var s=Kt(i);if(s===null)return!0;var a=J.call(s,"constructor")&&s.constructor;return typeof a=="function"&&a instanceof a&&_e.call(a)==yi}var on=jt?hi(jt):Yi;function Eo(i){return oo(i,sn(i))}function sn(i){return st(i)?Ui(i,!0):Xi(i)}var ko=so(function(i,s,a){Qt(i,s,a)});function xo(i){return function(){return i}}function rn(i){return i}function Co(){return!1}n.exports=ko}(V,V.exports);var ln=V.exports;const cn=S(ln),un=n=>{const e=new Set;do for(const t of Reflect.ownKeys(n))e.add([n,t]);while((n=Reflect.getPrototypeOf(n))&&n!==Object.prototype);return e};var dn=(n,{include:e,exclude:t}={})=>{const o=r=>{const l=u=>typeof u=="string"?r===u:u.test(r);return e?e.some(l):t?!t.some(l):!0};for(const[r,l]of un(n.constructor.prototype)){if(l==="constructor"||!o(l))continue;const u=Reflect.getOwnPropertyDescriptor(r,l);u&&typeof u.value=="function"&&(n[l]=n[l].bind(n))}return n};const $e=S(dn),ct="button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])",fn="input, select, textarea, button";class We{constructor(e,t){j(this,"element");j(this,"parent");const o=hn(e);if(!o)throw"Element not found.";this.element=o,this.parent=t}query(e,t){return(t??this.element).querySelector(e)}queryAll(e,t){const o=t??this.element;return Array.from(o.querySelectorAll(e))}get(){return this.element}add(e){this.get().classList.add(e)}has(e){return this.get().classList.contains(e)}remove(e){this.get().classList.remove(e)}getVariable(e){return getComputedStyle(this.get()).getPropertyValue(`--${e}`)}setVariable(e,t){this.get().style.setProperty(`--${e}`,t)}setVariables(e){for(const[t,o]of Object.entries(e))this.setVariable(t,o)}removeVariable(e){this.get().style.removeProperty(`--${e}`)}bounds(){return this.get().getBoundingClientRect()}getFocusContainer(){return this.get()}isFocusWithin(){return this.get().contains(document.activeElement)}isFocusOnFormElement(){return document.activeElement.matches(fn)&&this.isFocusWithin()}getFirstFocusableElement(){return this.getFocusContainer().querySelector(ct)}getFocusableElements(){return Array.from(this.getFocusContainer().querySelectorAll(ct))}focusInside(){const e=this.getFirstFocusableElement();e&&e.focus()}}function hn(n){return typeof n=="string"?document.querySelector(n):n}function pn(n){n.offsetHeight}async function ut(n){return getComputedStyle(n).getPropertyValue("transition-duration").startsWith("0s")?Promise.resolve():new Promise(o=>{n.addEventListener("transitionend",o,{once:!0})})}function dt(n){const e=n.getBoundingClientRect().height;return Math.max(n.scrollHeight,e)}async function He(n){const e=n.classList.contains("is-visible");if(n.classList.contains("is-collapsing")||e)return;n.classList.add("is-collapsing"),n.style.height="0";const o=dt(n);n.style.height=`${o}px`,await ut(n),n.classList.add("is-visible"),n.classList.remove("is-collapsing"),n.style.height=""}async function je(n){const e=n.classList.contains("is-visible");if(n.classList.contains("is-collapsing")||!e)return;const o=dt(n);n.style.height=`${o}px`,pn(n),n.classList.add("is-collapsing"),n.classList.remove("is-visible"),n.style.height="",await ut(n),n.classList.remove("is-collapsing")}function gn(n,e,t){n.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false"),t&&t.setAttribute("aria-expanded","true")}function mn(n,e,t){n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),t&&t.setAttribute("aria-expanded","false")}function bn(n,e){n.removeAttribute("aria-expanded"),e.removeAttribute("aria-hidden")}function yn(n){n.forEach(e=>{e.setAttribute("aria-expanded","true")})}function wn(n){n.forEach(e=>{e.setAttribute("aria-expanded","false")})}const Z={afterMenuIsOpened:gn,afterMenuIsClosed:mn,clear:bn,afterMobileMenuIsOpened:yn,afterMobileMenuIsClosed:wn};class vn extends We{constructor(){super(...arguments);j(this,"responsiveOpenClass","breakdance-responsive-menu--open");j(this,"bottomClass","breakdance-responsive-menu--bottom")}canCollapse(){const{mode:t}=this.parent.options.mobile,o=["offcanvas","fullscreen"].includes(t);return this.parent.isMobile()&&!o}getList(){return this.query(".breakdance-menu-list")}getAllToggle(){return this.queryAll(".breakdance-menu-toggle")}getAllCloseButtons(){return this.queryAll(".breakdance-menu-close-button")}getAllBackButtons(){return this.queryAll(".breakdance-dropdown-back-button")}getAllCollapsibleColumns(){return this.queryAll(".breakdance-menu--collapse .breakdance-dropdown-column--collapsible").map(t=>bt(t,this.parent))}getAllDropdowns(){return this.queryAll(".breakdance-dropdown").map(t=>ie(t,this.parent))}getAllCustomDropdowns(){return this.queryAll(".breakdance-dropdown--custom").map(t=>ie(t,this.parent))}getAllLinks(){return this.queryAll("a.breakdance-menu-link, a.breakdance-link, a.breakdance-dropdown-link")}getAllFloaters(){return this.queryAll(".breakdance-dropdown-floater")}getOpenDropdown(){const t=this.query(".breakdance-dropdown--open");return t?ie(t,this.parent):null}getOverlay(){return this.query(".breakdance-menu-overlay")}isMobileMenuOpen(){return this.has(this.responsiveOpenClass)}shouldStopScrolling(){const{mode:t}=this.parent.options.mobile;return["offcanvas","fullscreen"].includes(t)}async openMobileMenu(){const t=this.getList();this.reposition(),this.add(this.responsiveOpenClass),document.documentElement.classList.add("is-breakdance-menu-open"),this.shouldStopScrolling()&&document.documentElement.classList.add("bde-stop-scrolling"),this.canCollapse()&&await He(t),Z.afterMobileMenuIsOpened(this.getAllToggle())}async closeMobileMenu(){if(!this.isMobileMenuOpen())return;const t=this.getList();this.remove(this.responsiveOpenClass),this.canCollapse()&&await je(t),document.documentElement.classList.remove("is-breakdance-menu-open"),document.documentElement.classList.remove("bde-stop-scrolling"),this.closeAllDropdowns(),Z.afterMobileMenuIsClosed(this.getAllToggle())}async toggleMobileMenu(){this.getList().classList.contains("is-collapsing")||(this.isMobileMenuOpen()?await this.closeMobileMenu():await this.openMobileMenu())}reposition(){this.isBottom()?this.add(this.bottomClass):this.remove(this.bottomClass),this.calcMobileOffset()}calcMobileOffset(){const t=this.isBottom()?"bottom":"top",o=Dn(this.getList(),t);this.setVariable("mobile-buffer-y",`${o}px`),this.alignMobileMenuToLeftEdgeOfTheViewport()}alignMobileMenuToLeftEdgeOfTheViewport(){const t=this.getList();this.setVariable("mobile-offset-x",null);const{left:o}=t.getBoundingClientRect();this.setVariable("mobile-offset-x",`-${Math.abs(o)}px`)}closeAllDropdowns(){this.getAllDropdowns().forEach(t=>t.close())}closeAllDropdownsExceptFor(t){this.getAllDropdowns().filter(o=>o.get()!==t.get()).forEach(o=>o.close())}closeAllColumns(){this.getAllCollapsibleColumns().forEach(t=>t.close())}isBottom(){const{y:t}=this.getAllToggle()[0].getBoundingClientRect();return t>window.innerHeight*.65}focusInside(){const t=this.getAllLinks();setTimeout(()=>{t.length&&t[0].focus()},50)}focusToggle(){this.getAllToggle()[0].focus()}}class En extends We{getLinks(){return this.query(".breakdance-dropdown-links")}getTitle(){return this.query(".breakdance-dropdown-column__title")}getDropdown(){const e=this.get().closest(".breakdance-dropdown");return ie(e,this.parent)}isOpen(){return this.has("breakdance-dropdown-column--open")}async open(){const e=this.getLinks();this.add("breakdance-dropdown-column--open"),Z.afterMenuIsOpened(this.getTitle(),e),await He(e)}async close(){const e=this.getLinks();this.remove("breakdance-dropdown-column--open"),Z.afterMenuIsClosed(this.getTitle(),e),await je(e)}async toggle(){this.isOpen()?await this.close():await this.open()}}let ne=null,me=null;function ft(){me=null,ne==null||ne.abort()}function ht(n,e){if(!me)return!1;const{bottom:t,left:o,right:r,top:l}=me;return e>=Math.floor(l)&&e<=t&&n>o&&n<r}function kn(n){ne&&ne.abort(),ne=new AbortController;const e=t=>{const o=n.getToggle().getBoundingClientRect(),r=n.getFloater().getBoundingClientRect();o.top>r.top?me={top:r.bottom,bottom:o.top,left:r.left,right:r.right}:me={top:o.bottom,bottom:r.top,left:r.left,right:r.right};const l=t.target,u=ht(t.clientX,t.clientY),c=n.get().contains(l);u||c||(n.close(),ft())};addEventListener("mousemove",e,{signal:ne.signal})}function xn(n){try{const{matchMedia:e}=BreakdanceFrontend.utils,{BASE_BREAKPOINT_ID:t}=BreakdanceFrontend.data;return n===t?!0:e(n)}catch{return window.matchMedia("(max-width: 767px)").matches}}function Cn(n,e){const t=document.createElement("span");return t.classList.add("breakdance-menu-overlay"),t.addEventListener("click",()=>{n.closeMobileMenu()},{signal:e.signal}),t}function An(){try{return window.parent.Breakdance}catch{return null}}function qe(n){return n?["spacing-bar","node-titlebar-wrapper"].some(o=>n.classList.contains(o)):!1}function Ln(n,e){const t=e.get(),o=n.target,r=z(n,e.parent),l=r==null?void 0:r.get(),u=l&&t.contains(l);return qe(o)?!1:!r||!u}function pt(){return window.innerWidth||document.documentElement.clientWidth}function gt(){return window.innerWidth-document.documentElement.clientWidth}function On(n){return n==="full-width"?`calc(100vw - ${gt()}px)`:`${Math.min(n,pt())}px`}const Tn={name:"viewportCenter",fn({y:n,elements:e}){const t=e.floating.getBoundingClientRect(),o=gt(),r=pt()-o;return{x:(t.x-(r-t.width)/2)*-1,y:n}}};function Dn(n,e="top"){const t=n.getBoundingClientRect();return e==="bottom"?window.innerHeight-t.bottom:t.top}function Ve(n,e,t,o){(Array.isArray(e)?e:[e]).forEach(l=>{l.addEventListener(n,t,o)})}function mt(n,e){return new vn(n,e)}function ie(n,e){return new Yn(n,e)}function bt(n,e){return new En(n,e)}function oe(n){return n.split("-")[0]}function se(n){return n.split("-")[1]}function be(n){return["top","bottom"].includes(oe(n))?"x":"y"}function ze(n){return n==="y"?"height":"width"}function yt(n,e,t){let{reference:o,floating:r}=n;const l=o.x+o.width/2-r.width/2,u=o.y+o.height/2-r.height/2,c=be(e),m=ze(c),p=o[m]/2-r[m]/2,b=c==="x";let h;switch(oe(e)){case"top":h={x:l,y:o.y-r.height};break;case"bottom":h={x:l,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:u};break;case"left":h={x:o.x-r.width,y:u};break;default:h={x:o.x,y:o.y}}switch(se(e)){case"start":h[c]-=p*(t&&b?-1:1);break;case"end":h[c]+=p*(t&&b?-1:1)}return h}const Mn=async(n,e,t)=>{const{placement:o="bottom",strategy:r="absolute",middleware:l=[],platform:u}=t,c=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:r}),{x:b,y:h}=yt(p,o,m),d=o,f={},y=0;for(let w=0;w<c.length;w++){const{name:k,fn:T}=c[w],{x:O,y:D,data:I,reset:M}=await T({x:b,y:h,initialPlacement:o,placement:d,strategy:r,middlewareData:f,rects:p,platform:u,elements:{reference:n,floating:e}});b=O??b,h=D??h,f={...f,[k]:{...f[k],...I}},M&&y<=50&&(y++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(p=M.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:r}):M.rects),{x:b,y:h}=yt(p,d,m)),w=-1)}return{x:b,y:h,placement:d,strategy:r,middlewareData:f}};function wt(n){return typeof n!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(n):{top:n,right:n,bottom:n,left:n}}function Ae(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function Ue(n,e){var t;e===void 0&&(e={});const{x:o,y:r,platform:l,rects:u,elements:c,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:b="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=e,y=wt(f),w=c[d?h==="floating"?"reference":"floating":h],k=Ae(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(w)))==null||t?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:p,rootBoundary:b,strategy:m})),T=Ae(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h==="floating"?{...u.floating,x:o,y:r}:u.reference,offsetParent:await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),strategy:m}):u[h]);return{top:k.top-T.top+y.top,bottom:T.bottom-k.bottom+y.bottom,left:k.left-T.left+y.left,right:T.right-k.right+y.right}}const _n=Math.min,In=Math.max;function Ne(n,e,t){return In(n,_n(e,t))}const Fn=n=>({name:"arrow",options:n,async fn(e){const{element:t,padding:o=0}=n??{},{x:r,y:l,placement:u,rects:c,platform:m}=e;if(t==null)return{};const p=wt(o),b={x:r,y:l},h=be(u),d=se(u),f=ze(h),y=await m.getDimensions(t),w=h==="y"?"top":"left",k=h==="y"?"bottom":"right",T=c.reference[f]+c.reference[h]-b[h]-c.floating[f],O=b[h]-c.reference[h],D=await(m.getOffsetParent==null?void 0:m.getOffsetParent(t));let I=D?h==="y"?D.clientHeight||0:D.clientWidth||0:0;I===0&&(I=c.floating[f]);const M=T/2-O/2,U=p[w],Y=I-y[f]-p[k],_=I/2-y[f]/2+M,F=Ne(U,_,Y),q=(d==="start"?p[w]:p[k])>0&&_!==F&&c.reference[f]<=c.floating[f];return{[h]:b[h]-(q?_<U?U-_:Y-_:0),data:{[h]:F,centerOffset:_-F}}}}),Bn={left:"right",right:"left",bottom:"top",top:"bottom"};function Le(n){return n.replace(/left|right|bottom|top/g,e=>Bn[e])}function vt(n,e,t){t===void 0&&(t=!1);const o=se(n),r=be(n),l=ze(r);let u=r==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Le(u)),{main:u,cross:Le(u)}}const Sn={start:"end",end:"start"};function Ke(n){return n.replace(/start|end/g,e=>Sn[e])}const Pn=["top","right","bottom","left"],Rn=Pn.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]),$n=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(e){var t,o,r,l,u;const{x:c,y:m,rects:p,middlewareData:b,placement:h,platform:d,elements:f}=e,{alignment:y=null,allowedPlacements:w=Rn,autoAlignment:k=!0,...T}=n,O=function(R,le,ce){return(R?[...ce.filter(W=>se(W)===R),...ce.filter(W=>se(W)!==R)]:ce.filter(W=>oe(W)===W)).filter(W=>!R||se(W)===R||!!le&&Ke(W)!==W)}(y,k,w),D=await Ue(e,T),I=(t=(o=b.autoPlacement)==null?void 0:o.index)!=null?t:0,M=O[I];if(M==null)return{};const{main:U,cross:Y}=vt(M,p,await(d.isRTL==null?void 0:d.isRTL(f.floating)));if(h!==M)return{x:c,y:m,reset:{placement:O[0]}};const _=[D[oe(M)],D[U],D[Y]],F=[...(r=(l=b.autoPlacement)==null?void 0:l.overflows)!=null?r:[],{placement:M,overflows:_}],q=O[I+1];if(q)return{data:{index:I+1,overflows:F},reset:{placement:q}};const ae=F.slice().sort((R,le)=>R.overflows[0]-le.overflows[0]),X=(u=ae.find(R=>{let{overflows:le}=R;return le.every(ce=>ce<=0)}))==null?void 0:u.placement,N=X??ae[0].placement;return N!==h?{data:{index:I+1,overflows:F},reset:{placement:N}}:{}}}},Wn=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:o,middlewareData:r,rects:l,initialPlacement:u,platform:c,elements:m}=e,{mainAxis:p=!0,crossAxis:b=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",flipAlignment:f=!0,...y}=n,w=oe(o),k=h||(w===u||!f?[Le(u)]:function(_){const F=Le(_);return[Ke(_),F,Ke(F)]}(u)),T=[u,...k],O=await Ue(e,y),D=[];let I=((t=r.flip)==null?void 0:t.overflows)||[];if(p&&D.push(O[w]),b){const{main:_,cross:F}=vt(o,l,await(c.isRTL==null?void 0:c.isRTL(m.floating)));D.push(O[_],O[F])}if(I=[...I,{placement:o,overflows:D}],!D.every(_=>_<=0)){var M,U;const _=((M=(U=r.flip)==null?void 0:U.index)!=null?M:0)+1,F=T[_];if(F)return{data:{index:_,overflows:I},reset:{placement:F}};let q="bottom";switch(d){case"bestFit":{var Y;const ae=(Y=I.map(X=>[X,X.overflows.filter(N=>N>0).reduce((N,R)=>N+R,0)]).sort((X,N)=>X[1]-N[1])[0])==null?void 0:Y[0].placement;ae&&(q=ae);break}case"initialPlacement":q=u}if(o!==q)return{reset:{placement:q}}}return{}}}},Hn=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:o}=e,r=await async function(l,u){const{placement:c,platform:m,elements:p}=l,b=await(m.isRTL==null?void 0:m.isRTL(p.floating)),h=oe(c),d=se(c),f=be(c)==="x",y=["left","top"].includes(h)?-1:1,w=b&&f?-1:1,k=typeof u=="function"?u(l):u;let{mainAxis:T,crossAxis:O,alignmentAxis:D}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...k};return d&&typeof D=="number"&&(O=d==="end"?-1*D:D),f?{x:O*w,y:T*y}:{x:T*y,y:O*w}}(e,n);return{x:t+r.x,y:o+r.y,data:r}}}};function jn(n){return n==="x"?"y":"x"}const Et=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:o,placement:r}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:c={fn:k=>{let{x:T,y:O}=k;return{x:T,y:O}}},...m}=n,p={x:t,y:o},b=await Ue(e,m),h=be(oe(r)),d=jn(h);let f=p[h],y=p[d];if(l){const k=h==="y"?"bottom":"right";f=Ne(f+b[h==="y"?"top":"left"],f,f-b[k])}if(u){const k=d==="y"?"bottom":"right";y=Ne(y+b[d==="y"?"top":"left"],y,y-b[k])}const w=c.fn({...e,[h]:f,[d]:y});return{...w,data:{x:w.x-t,y:w.y-o}}}}};function kt(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function P(n){if(n==null)return window;if(!kt(n)){const e=n.ownerDocument;return e&&e.defaultView||window}return n}function K(n){return P(n).getComputedStyle(n)}function ee(n){return kt(n)?"":n?(n.nodeName||"").toLowerCase():""}function xt(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function G(n){try{return n instanceof P(n).HTMLElement||n instanceof P(n).parent.HTMLElement}catch{return n instanceof P(n).HTMLElement}}function he(n){try{return n instanceof P(n).Element||n instanceof P(n).parent.Element}catch{return n instanceof P(n).Element}}function Ct(n){return typeof ShadowRoot>"u"?!1:n instanceof P(n).ShadowRoot||n instanceof ShadowRoot}function Oe(n){const{overflow:e,overflowX:t,overflowY:o,display:r}=K(n);return/auto|scroll|overlay|hidden/.test(e+o+t)&&!["inline","contents"].includes(r)}function qn(n){return["table","td","th"].includes(ee(n))}function Ge(n){const e=/firefox/i.test(xt()),t=K(n),o=t.backdropFilter||t.WebkitBackdropFilter;return t.transform!=="none"||t.perspective!=="none"||!!o&&o!=="none"||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"||["transform","perspective"].some(r=>t.willChange.includes(r))||["paint","layout","strict","content"].some(r=>{const l=t.contain;return l!=null&&l.includes(r)})}function At(){return!/^((?!chrome|android).)*safari/i.test(xt())}function Ye(n){return["html","body","#document"].includes(ee(n))}const Lt=Math.min,ye=Math.max,Te=Math.round;function re(n,e,t){var o,r,l,u;e===void 0&&(e=!1),t===void 0&&(t=!1);const c=n.getBoundingClientRect();let m=1,p=1;e&&G(n)&&(m=n.offsetWidth>0&&Te(c.width)/n.offsetWidth||1,p=n.offsetHeight>0&&Te(c.height)/n.offsetHeight||1);const b=he(n)?P(n):window,h=!At()&&t,d=(c.left+(h&&(o=(r=b.visualViewport)==null?void 0:r.offsetLeft)!=null?o:0))/m,f=(c.top+(h&&(l=(u=b.visualViewport)==null?void 0:u.offsetTop)!=null?l:0))/p,y=c.width/m,w=c.height/p;return{width:y,height:w,top:f,right:d+y,bottom:f+w,left:d,x:d,y:f}}function te(n){return(e=n,(e instanceof P(e).Node||e instanceof P(e).parent.Node?n.ownerDocument:n.document)||window.document).documentElement;var e}function De(n){return he(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Ot(n){return re(te(n)).left+De(n).scrollLeft}function Vn(n,e,t){const o=G(e),r=te(e),l=re(n,o&&function(m){const p=re(m);return Te(p.width)!==m.offsetWidth||Te(p.height)!==m.offsetHeight}(e),t==="fixed");let u={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(o||!o&&t!=="fixed")if((ee(e)!=="body"||Oe(r))&&(u=De(e)),G(e)){const m=re(e,!0);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else r&&(c.x=Ot(r));return{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function we(n){if(ee(n)==="html")return n;const e=n.assignedSlot||n.parentNode||(Ct(n)?n.host:null)||te(n);return Ct(e)?e.host:e}function Tt(n){return G(n)&&K(n).position!=="fixed"?n.offsetParent:null}function Dt(n){const e=P(n);let t=Tt(n);for(;t&&qn(t)&&K(t).position==="static";)t=Tt(t);return t&&(ee(t)==="html"||ee(t)==="body"&&K(t).position==="static"&&!Ge(t))?e:t||function(o){let r=we(o);for(;G(r)&&!Ye(r);){if(Ge(r))return r;r=we(r)}return null}(n)||e}function Mt(n){const e=we(n);return Ye(e)?n.ownerDocument.body:G(e)&&Oe(e)?e:Mt(e)}function _t(n,e){var t;e===void 0&&(e=[]);const o=Mt(n),r=o===((t=n.ownerDocument)==null?void 0:t.body),l=P(o),u=r?[l].concat(l.visualViewport||[],Oe(o)?o:[]):o,c=e.concat(u);return r?c:c.concat(_t(u))}function It(n,e,t){return e==="viewport"?Ae(function(o,r){const l=P(o),u=te(o),c=l.visualViewport;let m=u.clientWidth,p=u.clientHeight,b=0,h=0;if(c){m=c.width,p=c.height;const d=At();(d||!d&&r==="fixed")&&(b=c.offsetLeft,h=c.offsetTop)}return{width:m,height:p,x:b,y:h}}(n,t)):he(e)?function(o,r){const l=re(o,!1,r==="fixed"),u=l.top+o.clientTop,c=l.left+o.clientLeft;return{top:u,left:c,x:c,y:u,right:c+o.clientWidth,bottom:u+o.clientHeight,width:o.clientWidth,height:o.clientHeight}}(e,t):Ae(function(o){var r;const l=te(o),u=De(o),c=(r=o.ownerDocument)==null?void 0:r.body,m=ye(l.scrollWidth,l.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=ye(l.scrollHeight,l.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0);let b=-u.scrollLeft+Ot(o);const h=-u.scrollTop;return K(c||l).direction==="rtl"&&(b+=ye(l.clientWidth,c?c.clientWidth:0)-m),{width:m,height:p,x:b,y:h}}(te(n)))}const zn={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:o,strategy:r}=n;const l=t==="clippingAncestors"?function(p){let b=_t(p).filter(y=>he(y)&&ee(y)!=="body"),h=null;const d=K(p).position==="fixed";let f=d?we(p):p;for(;he(f)&&!Ye(f);){const y=K(f),w=Ge(f);(d?w||h:w||y.position!=="static"||!h||!["absolute","fixed"].includes(h.position))?h=y:b=b.filter(k=>k!==f),f=we(f)}return b}(e):[].concat(t),u=[...l,o],c=u[0],m=u.reduce((p,b)=>{const h=It(e,b,r);return p.top=ye(h.top,p.top),p.right=Lt(h.right,p.right),p.bottom=Lt(h.bottom,p.bottom),p.left=ye(h.left,p.left),p},It(e,c,r));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:o}=n;const r=G(t),l=te(t);if(t===l)return e;let u={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((r||!r&&o!=="fixed")&&((ee(t)!=="body"||Oe(l))&&(u=De(t)),G(t))){const m=re(t,!0);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}return{...e,x:e.x-u.scrollLeft+c.x,y:e.y-u.scrollTop+c.y}},isElement:he,getDimensions:function(n){if(G(n))return{width:n.offsetWidth,height:n.offsetHeight};const e=re(n);return{width:e.width,height:e.height}},getOffsetParent:Dt,getDocumentElement:te,async getElementRects(n){let{reference:e,floating:t,strategy:o}=n;const r=this.getOffsetParent||Dt,l=this.getDimensions;return{reference:Vn(e,await r(t),o),floating:{x:0,y:0,...await l(t)}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>K(n).direction==="rtl"},Ft=(n,e,t)=>Mn(n,e,{platform:zn,...t}),Un=(n,e,t)=>{e.createCaretIfDoesntExist();const o=e.getFloater(),r=e.getToggle(),l=e.getCaret(),u=()=>{const p="bottom";return{center:p,left:`${p}-start`,right:`${p}-end`,"full-width":p,"section-width":`${p}-start`}[t]},c=()=>parseInt(n.getVariable("dropdown-edge-offset"),10),m=()=>{const b=getComputedStyle(e.getFloater()).getPropertyValue("--bde-dropdown-width");if(b.endsWith("%")){const h=b.replace("%","vw");e.getFloater().style.setProperty("--bde-dropdown-width",h)}};return{async align(){const p=c(),b=u(),h=[Et({padding:p}),Wn(),Fn({element:l})];t==="section-width"&&(h.unshift(Tn),m());const{x:d,y:f,middlewareData:y,placement:w}=await Ft(r,o,{placement:b,middleware:h});if(e.setVariables({"dropdown-offset-x":`${d}px`,"dropdown-offset-y":`${f}px`}),y.arrow){const{x:k,y:T,centerOffset:O}=y.arrow;e.alignCaret(w,k,T,O)}w.startsWith("top")?e.add("breakdance-dropdown--top"):e.remove("breakdance-dropdown--top")},beforeOpen(){},beforeClose(){}}},Nn=(n,e,t)=>({align(){},beforeOpen(){},beforeClose(){}}),Kn=(n,e,t)=>({align(){const o=n.bounds(),r=e.bounds(),l=o.y-r.y;e.setVariable("dropdown-offset-y",`${l}px`)},beforeOpen(){if(e.createBackButtonIfDoesntExist(),e.parent.isDesktop()){const r=e.getFloater().getBoundingClientRect();n.setVariable("menu-height",`${r.height}px`)}},beforeClose(){n.removeVariable("menu-height")}}),Gn=(n,e,t)=>{const o=e.getFloater(),r=e.getToggle();return{async align(){const l=[Hn(10),Et(),$n({allowedPlacements:["right","right-start","right-end","bottom","bottom-start","bottom-end"],alignment:"start"})],{x:u,y:c}=await Ft(r,o,{middleware:l});e.setVariables({"dropdown-offset-x":`${u}px`,"dropdown-offset-y":`${c}px`})},beforeOpen(){},beforeClose(){}}};class Yn extends We{canCollapse(){return this.parent.getCurrentDropdownMode()==="accordion"}isOpen(){return this.has("breakdance-dropdown--open")}getToggle(){return this.query(".breakdance-menu-link")}getArrow(){return this.query(".breakdance-menu-link-arrow")}getFloater(){return this.query(".breakdance-dropdown-floater")}getBody(){return this.query(".breakdance-dropdown-body")}getMenu(){const e=this.get().closest(".breakdance-menu");return mt(e,this.parent)}getCaret(){return this.query(".breakdance-dropdown-caret")}getBackButton(){return this.query(".breakdance-dropdown-back-button")}hasLink(){return this.has("breakdance-dropdown--with-link")}get mode(){const{placement:e}=this.parent.options.dropdown,t=this.getMenu(),o=this.parent.getCurrentDropdownMode(),r={dropdown:Un,accordion:Nn,slide:Kn,side:Gn};if(!r[o])throw new Error(`Unknown dropdown mode "${o}" specified.`);return r[o](t,this,e)}align(){this.removeVariable("dropdown-offset-x"),this.removeVariable("dropdown-offset-y"),this.mode.align()}createBackButtonIfDoesntExist(){if(this.getBackButton())return;const e=document.createElement("button");e.classList.add("breakdance-dropdown-back-button");const t=document.createTextNode("Back");e.appendChild(t),this.getBody().prepend(e),e.addEventListener("click",()=>{this.close()})}createCaretIfDoesntExist(){if(this.getCaret())return;const e=document.createElement("span");e.classList.add("breakdance-dropdown-caret"),this.getFloater().appendChild(e)}alignCaret(e,t,o,r){if(t){const u=this.getArrow(),c=u.offsetParent!==null?u.offsetWidth/2:0;this.setVariable("dropdown-caret-x",`${t+c}px`)}o&&this.setVariable("dropdown-caret-y",`${o}px`);const l=this.getCaret();r!==0?l.classList.add("breakdance-dropdown-caret--hide"):l.classList.remove("breakdance-dropdown-caret--hide")}async open(){if(this.isOpen())return;this.align(),this.mode.beforeOpen();const e=this.getFloater(),t=this.getToggle(),o=this.getArrow();this.getMenu().add("breakdance-menu--dp-open"),this.add("breakdance-dropdown--open"),Z.afterMenuIsOpened(t,e,o),this.canCollapse()&&await He(e)}async close(){if(!this.isOpen())return;this.mode.beforeClose();const e=this.getFloater(),t=this.getToggle(),o=this.getArrow();this.getMenu().remove("breakdance-menu--dp-open"),this.remove("breakdance-dropdown--open"),Z.afterMenuIsClosed(t,e,o),this.canCollapse()&&await je(e)}async toggle(){this.isOpen()?await this.close():await this.open()}getFocusContainer(){return this.getFloater()}focusToggle(){const e=this.getArrow();if(e&&e.offsetParent!==null){e.focus();return}this.getToggle().focus()}}function z(n,e){const o=n.target.closest(".breakdance-dropdown");return o?ie(o,e):null}function Xn(){return{dropdown:{openOnClick:!1,mode:{desktop:"dropdown",mobile:"accordion"},placement:"left",animation:"fade",keyboardNavigation:!0,clickOutsideToClose:!0,overlay:!1},mobile:{showMultiple:!1,followLinks:!1,mode:"default"},link:{},isBuilder:!1}}function Bt(){const n=An();return n==null?void 0:n.stores.uiStore.isCanvasElementBeingDragged}function Jn(n,e){const t=e.get();t.addEventListener("mouseenter",()=>{Bt()&&(n.closeAllDropdownsExceptFor(e),e.open())},{signal:n.parent.ac.signal}),t.addEventListener("mouseleave",()=>{Bt()&&e.close()},{signal:n.parent.ac.signal})}function Qn(n){n.getAllCustomDropdowns().forEach(e=>{Jn(n,e)})}var St={exports:{}},Xe={exports:{}},Pt;function Zn(){return Pt||(Pt=1,function(n){(function(e,t){n.exports?n.exports=t():e.EvEmitter=t()})(typeof window<"u"?window:B,function(){function e(){}let t=e.prototype;return t.on=function(o,r){if(!o||!r)return this;let l=this._events=this._events||{},u=l[o]=l[o]||[];return u.includes(r)||u.push(r),this},t.once=function(o,r){if(!o||!r)return this;this.on(o,r);let l=this._onceEvents=this._onceEvents||{},u=l[o]=l[o]||{};return u[r]=!0,this},t.off=function(o,r){let l=this._events&&this._events[o];if(!l||!l.length)return this;let u=l.indexOf(r);return u!=-1&&l.splice(u,1),this},t.emitEvent=function(o,r){let l=this._events&&this._events[o];if(!l||!l.length)return this;l=l.slice(0),r=r||[];let u=this._onceEvents&&this._onceEvents[o];for(let c of l)u&&u[c]&&(this.off(o,c),delete u[c]),c.apply(this,r);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Xe)),Xe.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(n){(function(e,t){n.exports?n.exports=t(e,Zn()):e.imagesLoaded=t(e,e.EvEmitter)})(typeof window<"u"?window:B,function(t,o){let r=t.jQuery,l=t.console;function u(d){return Array.isArray(d)?d:typeof d=="object"&&typeof d.length=="number"?[...d]:[d]}function c(d,f,y){if(!(this instanceof c))return new c(d,f,y);let w=d;if(typeof d=="string"&&(w=document.querySelectorAll(d)),!w){l.error(`Bad element for imagesLoaded ${w||d}`);return}this.elements=u(w),this.options={},typeof f=="function"?y=f:Object.assign(this.options,f),y&&this.on("always",y),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))}c.prototype=Object.create(o.prototype),c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const m=[1,9,11];c.prototype.addElementImages=function(d){d.nodeName==="IMG"&&this.addImage(d),this.options.background===!0&&this.addElementBackgroundImages(d);let{nodeType:f}=d;if(!f||!m.includes(f))return;let y=d.querySelectorAll("img");for(let w of y)this.addImage(w);if(typeof this.options.background=="string"){let w=d.querySelectorAll(this.options.background);for(let k of w)this.addElementBackgroundImages(k)}};const p=/url\((['"])?(.*?)\1\)/gi;c.prototype.addElementBackgroundImages=function(d){let f=getComputedStyle(d);if(!f)return;let y=p.exec(f.backgroundImage);for(;y!==null;){let w=y&&y[2];w&&this.addBackground(w,d),y=p.exec(f.backgroundImage)}},c.prototype.addImage=function(d){let f=new b(d);this.images.push(f)},c.prototype.addBackground=function(d,f){let y=new h(d,f);this.images.push(y)},c.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let d=(f,y,w)=>{setTimeout(()=>{this.progress(f,y,w)})};this.images.forEach(function(f){f.once("progress",d),f.check()})},c.prototype.progress=function(d,f,y){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!d.isLoaded,this.emitEvent("progress",[this,d,f]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,d),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&l&&l.log(`progress: ${y}`,d,f)},c.prototype.complete=function(){let d=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(d,[this]),this.emitEvent("always",[this]),this.jqDeferred){let f=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[f](this)}};function b(d){this.img=d}b.prototype=Object.create(o.prototype),b.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},b.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},b.prototype.confirm=function(d,f){this.isLoaded=d;let{parentNode:y}=this.img,w=y.nodeName==="PICTURE"?y:this.img;this.emitEvent("progress",[this,w,f])},b.prototype.handleEvent=function(d){let f="on"+d.type;this[f]&&this[f](d)},b.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},b.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},b.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function h(d,f){this.url=d,this.element=f,this.img=new Image}return h.prototype=Object.create(b.prototype),h.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},h.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype.confirm=function(d,f){this.isLoaded=d,this.emitEvent("progress",[this,this.element,f])},c.makeJQueryPlugin=function(d){d=d||t.jQuery,d&&(r=d,r.fn.imagesLoaded=function(f,y){return new c(this,f,y).jqDeferred.promise(r(this))})},c.makeJQueryPlugin(),c})})(St);var ei=St.exports;const ti=S(ei),Oo="";class ni{constructor(e,t,o){j(this,"initialized",!1);this.am=e,this.menu=t,this.ac=o,$e(this),this.init()}init(){this.initialized||this.am.isMobile()||(this.initialized=!0,this.setColumnTitleAsHeading(),this.bindDropdownListeners(),addEventListener("keydown",this.onEscClick,{signal:this.ac.signal}),addEventListener("keydown",this.onArrowKeysClick,{signal:this.ac.signal}))}destroy(){if(!this.initialized)return;this.initialized=!1,removeEventListener("keydown",this.onEscClick),removeEventListener("keydown",this.onArrowKeysClick),this.menu.getAllDropdowns().forEach(t=>{t.getToggle().removeEventListener("keyup",this.onDropdownEnterClick),t.getArrow().removeEventListener("keyup",this.onDropdownEnterClick),t.get().removeEventListener("keydown",this.onDropdownSpaceClick),t.get().removeEventListener("focusout",this.onDropdownFocusOut)})}onResize(){this.am.isDesktop()?this.init():this.destroy()}setColumnTitleAsHeading(){this.menu.getAllCollapsibleColumns().forEach(e=>{const t=e.getTitle(),o=e.getLinks();Z.clear(t,o),t.setAttribute("role","heading"),t.removeAttribute("tabindex"),t.setAttribute("aria-level","3")})}bindDropdownListeners(){this.menu.getAllDropdowns().forEach(t=>{const o=t.get(),r=t.getToggle(),l=t.getArrow();r.addEventListener("keyup",this.onDropdownEnterClick,{signal:this.ac.signal}),l.addEventListener("keyup",this.onDropdownEnterClick,{signal:this.ac.signal}),this.am.options.isBuilder||o.addEventListener("keydown",this.onDropdownSpaceClick,{signal:this.ac.signal})})}listenForFocusOut(e){e.get().addEventListener("focusout",this.onDropdownFocusOut,{signal:this.ac.signal})}onDropdownEnterClick(e){if(e.key!=="Enter")return;const t=z(e,this.am);t!=null&&t.isOpen()&&(t.focusInside(),this.listenForFocusOut(t))}onDropdownSpaceClick(e){if(e.key!==" ")return;const t=z(e,this.am);t&&(t.isFocusOnFormElement()||(e.preventDefault(),t.isOpen()?(t.close(),t.focusToggle()):(t.open(),this.listenForFocusOut(t),setTimeout(()=>{t.focusInside()},50))))}onDropdownFocusOut(e){const t=z(e,this.am),o=e.relatedTarget,r=t==null?void 0:t.get().contains(o);qe(o)||t!=null&&t.isOpen()&&!r&&(t.close(),t==null||t.get().removeEventListener("focusout",this.onDropdownFocusOut))}onEscClick(e){if(e.key!=="Escape")return;const t=this.menu.getOpenDropdown();t&&(t.isFocusWithin()&&t.focusToggle(),t.close())}onArrowKeysClick(e){if(!["ArrowUp","ArrowDown"].includes(e.key))return;const t=this.menu.getOpenDropdown();if(!t||!t.isFocusWithin()||t.isFocusOnFormElement())return;e.preventDefault();const o=t.getFocusableElements(),r=o.findIndex(l=>l===document.activeElement);if(e.key==="ArrowUp"){const l=r===0?o.length-1:r-1;o[l].focus()}if(e.key==="ArrowDown"){const l=r===o.length-1?0:r+1;o[l].focus()}}}class ii{constructor(e,t,o){j(this,"initialized",!1);this.am=e,this.menu=t,this.ac=o,$e(this),this.init()}init(){this.initialized||this.am.isDesktop()||(this.initialized=!0,this.setColumnTitleAsButton(),this.bindColumnListeners(),this.bindDropdownListeners(),this.menu.getAllToggle().forEach(e=>{e.addEventListener("keypress",this.onTogglePress,{signal:this.ac.signal})}),addEventListener("keydown",this.onEscClick,{signal:this.ac.signal}),addEventListener("keydown",this.onArrowKeysClick,{signal:this.ac.signal}))}destroy(){if(!this.initialized)return;this.initialized=!1,removeEventListener("keydown",this.onEscClick),removeEventListener("keydown",this.onArrowKeysClick),this.menu.getAllToggle().forEach(t=>{t.removeEventListener("keypress",this.onTogglePress)}),this.menu.getAllCollapsibleColumns().forEach(t=>{t.getTitle().removeEventListener("keyup",this.onColumnTitleKeyUp)}),this.menu.getAllDropdowns().forEach(t=>{t.getToggle().removeEventListener("keyup",this.onDropdownEnterClick),t.get().removeEventListener("keydown",this.onDropdownSpaceClick)}),this.menu.get().removeEventListener("focusout",this.onMenuFocusOut)}onResize(){this.am.isMobile()?this.init():this.destroy()}setColumnTitleAsButton(){this.menu.getAllCollapsibleColumns().forEach(e=>{const t=e.getTitle(),o=e.getLinks();Z.afterMenuIsClosed(t,o),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.removeAttribute("aria-level")})}bindColumnListeners(){this.menu.getAllCollapsibleColumns().forEach(e=>{e.getTitle().addEventListener("keyup",this.onColumnTitleKeyUp,{signal:this.ac.signal})})}onTogglePress(e){["Enter"," "].includes(e.key)&&(this.menu.isMobileMenuOpen()||(this.menu.focusInside(),this.menu.get().addEventListener("focusout",this.onMenuFocusOut,{signal:this.ac.signal})))}onColumnTitleKeyUp(e){if(!["Enter"," "].includes(e.key))return;e.preventDefault();const o=e.target.closest(".breakdance-dropdown-column");if(!o)return;const r=bt(o,this.am);r.isOpen()?(r.close(),r.getTitle().focus()):(r.open(),r.focusInside())}bindDropdownListeners(){this.menu.getAllDropdowns().forEach(t=>{const o=t.getToggle();o.addEventListener("keyup",this.onDropdownEnterClick,{signal:this.ac.signal}),o.addEventListener("keyup",this.onDropdownSpaceClick,{signal:this.ac.signal})})}listenForDropdownFocusOut(e){e.get().addEventListener("focusout",this.onDropdownFocusOut,{signal:this.ac.signal})}onDropdownEnterClick(e){if(e.key!=="Enter")return;const t=z(e,this.am);t!=null&&t.isOpen()&&(t.focusInside(),this.listenForDropdownFocusOut(t))}onDropdownSpaceClick(e){if(e.key!==" ")return;const t=z(e,this.am);t&&(e.preventDefault(),t.isOpen()?(t.close(),t.focusToggle()):(t.open(),this.listenForDropdownFocusOut(t),setTimeout(()=>{t.focusInside()},50)))}onDropdownFocusOut(e){const t=z(e,this.am),o=e.relatedTarget,r=t==null?void 0:t.get().contains(o);qe(o)||t!=null&&t.isOpen()&&!r&&(t.close(),t==null||t.get().removeEventListener("focusout",this.onDropdownFocusOut))}onMenuFocusOut(e){if(!this.menu.isMobileMenuOpen())return;const t=e.relatedTarget;this.menu.get().contains(t)||(this.menu.closeMobileMenu(),this.menu.get().removeEventListener("focusout",this.onMenuFocusOut))}onEscClick(e){if(e.key!=="Escape")return;const t=this.menu.getOpenDropdown();t?(t.isFocusWithin()&&t.focusToggle(),t.close()):this.menu.isMobileMenuOpen()&&(this.menu.closeMobileMenu(),this.menu.focusToggle())}onArrowKeysClick(e){if(!["ArrowUp","ArrowDown"].includes(e.key)||!this.menu.isMobileMenuOpen())return;e.preventDefault();const t=this.menu.getFocusableElements().slice(1).filter(r=>!r.closest('[aria-hidden="true"]')),o=t.findIndex(r=>r===document.activeElement);if(e.key==="ArrowUp"){const r=o===0?t.length-1:o-1;t[r].focus()}if(e.key==="ArrowDown"){const r=o===t.length-1?0:o+1;t[r].focus()}}}class oi{constructor(e,t){j(this,"menu");j(this,"ac");j(this,"options",Xn());j(this,"modules",[]);j(this,"isTouch",window.matchMedia("(pointer: coarse)").matches);$e(this),this.menu=mt(e,this),this.options=cn(this.options,t),this.menu.get().bdMenu=this,this.init()}setupDropdownListeners(e){const t=this.menu.getAllDropdowns(),o=!e;t.forEach(r=>{const l=r.get(),u=r.getToggle(),c=r.getArrow();r.align(),u.addEventListener("click",this.maybeOpenDropdownOnClick,{signal:this.ac.signal}),c.addEventListener("click",this.maybeOpenDropdownOnClick,{signal:this.ac.signal}),(o||r.hasLink())&&!this.isTouch&&(u.addEventListener("mouseenter",this.maybeOpenDropdownOnHover,{signal:this.ac.signal}),c.addEventListener("mouseenter",this.maybeOpenDropdownOnHover,{signal:this.ac.signal}),l.addEventListener("mouseleave",this.onMouseLeave,{signal:this.ac.signal}))})}maybeOpenDropdownOnClick(e){const t=z(e,this),o=e.target===(t==null?void 0:t.getToggle());if(!t)return;if(t.hasLink()&&o&&!this.options.isBuilder)if(this.isMobile()&&!this.options.mobile.followLinks)e.preventDefault();else return;const{showMultiple:r}=this.options.mobile;t.toggle(),(!r||this.isDesktop())&&this.menu.closeAllDropdownsExceptFor(t),this.listenForClicksOutside()}maybeOpenDropdownOnHover(e){const t=z(e,this);ht(e.pageX,e.pageY)||(ft(),t&&this.isDesktop()&&(t.open(),this.menu.closeAllDropdownsExceptFor(t)))}onMouseLeave(e){const t=z(e,this);if(e.pageY<0){t==null||t.close();return}!t||!this.isDesktop()||kn(t)}listenForClicksOutside(){const{clickOutsideToClose:e}=this.options.dropdown;e&&addEventListener("pointerup",this.onClickOutside,{signal:this.ac.signal})}stopListenForClicksOutside(){removeEventListener("pointerup",this.onClickOutside)}onClickOutside(e){Ln(e,this.menu)&&(this.menu.closeAllDropdowns(),this.stopListenForClicksOutside())}setupGlobalListeners(){Ve("click",this.menu.getAllToggle(),this.toggleMobileMenu,{signal:this.ac.signal}),Ve("click",this.menu.getAllCloseButtons(),()=>this.menu.closeMobileMenu(),{signal:this.ac.signal}),addEventListener("resize",this.onResize,{signal:this.ac.signal}),addEventListener("scroll",this.onScroll,{signal:this.ac.signal,passive:!0})}setupColumnsListeners(){this.menu.getAllCollapsibleColumns().forEach(e=>{const t=e.getTitle();Ve("click",t,()=>this.isMobile()&&e.toggle(),{signal:this.ac.signal})})}onResize(){this.menu.reposition(),this.toggleDropdownMode(),this.modules.forEach(e=>{var t;(t=e==null?void 0:e.onResize)==null||t.call(e)}),this.isDesktop()&&(this.refreshDropdowns(),this.menu.closeMobileMenu()),this.calculateScrollbarWidth()}onScroll(){if(!this.isDesktop())return;const e=this.menu.getOpenDropdown();e==null||e.align()}getCurrentDropdownMode(){const e=this.isDesktop()?"desktop":"mobile";return e==="desktop"&&!this.isVertical()?"dropdown":this.options.dropdown.mode[e]}toggleDropdownMode(){const{mode:e,animation:t}=this.options.dropdown,o=this.isDesktop()?e.mobile:e.desktop,r=this.isDesktop()?e.desktop:e.mobile;this.menu.remove(`breakdance-menu--dropdown-${o}`),this.menu.add(`breakdance-menu--dropdown-${r}`),t&&(this.canAnimate()?this.menu.add(`breakdance-menu--anim-${t}`):this.menu.remove(`breakdance-menu--anim-${t}`))}calculateScrollbarWidth(){const e=window.innerWidth-document.documentElement.clientWidth;this.menu.setVariable("menu-scrollbar-width",e+"px")}init(){this.ac&&this.ac.abort(),this.ac=new AbortController;const{mobile:e}=this.options,{placement:t,openOnClick:o,animation:r}=this.options.dropdown,l=t==="full-width"?"full-width":this.options.dropdown.width;if(this.menu.add(`breakdance-menu--placement-${t}`),this.toggleDropdownMode(),t&&this.menu.add(`breakdance-menu--placement-${t}`),l){this.menu.add("breakdance-menu--custom-width");const u=On(l);this.menu.setVariable("dropdown-custom-width",u)}if(e.mode&&this.menu.add(`breakdance-menu--${e.mode}`),e.mode==="offcanvas"&&e.offcanvasPosition&&this.menu.add(`breakdance-menu--offcanvas-${e.offcanvasPosition}`),this.shouldShowOverlay()){const u=Cn(this.menu,this.ac);this.menu.get().appendChild(u),u.addEventListener("click",()=>{this.menu.closeMobileMenu()},{signal:this.ac.signal})}this.options.link.effect&&(this.menu.add("breakdance-menu--effect"),this.menu.add(`breakdance-menu--effect-${this.options.link.effect}`),this.menu.add(`breakdance-menu--effect-${this.options.link.effectDirection||"none"}`)),this.options.isBuilder&&Qn(this.menu),this.setupDropdownListeners(o),this.setupGlobalListeners(),this.setupColumnsListeners(),this.setActiveLink(),this.addModule(ni),this.addModule(ii),r&&this.canAnimate()&&this.menu.add(`breakdance-menu--anim-${r}`),this.menu.add("breakdance-menu--enabled"),this.menu.reposition(),ti(this.menu.get(),()=>this.refreshDropdowns()),this.calculateScrollbarWidth()}destroy(){var c;const{placement:e,animation:t}=this.options.dropdown,{offcanvasPosition:o,mode:r}=this.options.mobile,{effect:l,effectDirection:u}=this.options.link;this.menu.remove(`breakdance-menu--anim-${t}`),this.menu.remove(`breakdance-menu--placement-${e}`),this.menu.remove(`breakdance-menu--dropdown-${this.getCurrentDropdownMode()}`),this.menu.remove("breakdance-menu--custom-width"),this.menu.remove(`breakdance-menu--${r}`),(c=this.menu.getOverlay())==null||c.remove(),o&&this.menu.remove(`breakdance-menu--offcanvas-${o}`),l&&(this.menu.remove("breakdance-menu--effect"),this.menu.remove(`breakdance-menu--effect-${l}`),this.menu.remove(`breakdance-menu--effect-${u||"none"}`)),this.menu.get().removeAttribute("style"),this.menu.getAllBackButtons().forEach(m=>m.remove()),this.ac.abort(),removeEventListener("resize",this.onResize),this.modules.forEach(m=>{var p;(p=m==null?void 0:m.destroy)==null||p.call(m)})}refresh(){this.destroy(),this.init(),this.listenForClicksOutside()}addModule(e){this.modules.push(new e(this,this.menu,this.ac))}setActiveLink(){this.menu.getAllLinks().forEach(t=>{var l;const o=t.getAttribute("href");((l=t.parentElement)==null?void 0:l.classList.contains("breakdance-dropdown-toggle"))||t.addEventListener("click",()=>{o!=null&&o.includes("#")&&this.menu.closeMobileMenu()},{signal:this.ac.signal})})}shouldShowOverlay(){return this.options.mobile.mode==="offcanvas"||this.options.dropdown.overlay}isDesktop(){return!this.isMobile()}isMobile(){const e=this.options.mobile.breakpoint||"breakpoint_tablet_landscape";return xn(e)}isVertical(){return this.menu.has("breakdance-menu--vertical")}canAnimate(){return this.getCurrentDropdownMode()!=="accordion"}toggleMobileMenu(){return this.menu.toggleMobileMenu()}getOpenDropdown(){return this.menu.getOpenDropdown()}openDropdown(e){const t=ie(e,this);this.menu.closeAllDropdownsExceptFor(t),t.open(),this.listenForClicksOutside()}closeDropdown(e){ie(e,this).close(),this.stopListenForClicksOutside()}closeAll(){this.menu.closeAllDropdowns(),this.stopListenForClicksOutside()}refreshDropdowns(){this.menu.getAllDropdowns().forEach(t=>t.align())}}return oi});
