(()=>{"use strict";var e={82521:(e,t,n)=>{n.r(t),n.d(t,{default:()=>qe});var s=n(36968),i=n.n(s),o=n(27361),a=n.n(o),r=n(23279),l=n.n(r),c=n(70655),d=n(20144),u=n(38085),p=n(18076),h=n(25970),g=n(67505),m=n(85450),v=n(71035);const f=1,y=3;function b(e,t,n,{enableContentEditableAndFocus:s,saveContentEditable:i}){const o=e=>{const a=[];return e.forEach((e=>{if(e.nodeType===y){const t=e.nodeValue;"%%CHILDREN%%"===t?.trim()?a.push(n()):t&&a.push(t)}else if(e.nodeType===f&&e instanceof Element){const n=e.attributes,r=e.nodeName,l={},c={},d={},u=[];let p,h;for(let t=0;t<n.length;t++){const o=n.item(t);if(o){const t=o.name;"class"===t?p=o.value:"style"===t?h=o.value:l[t]=o.value,"data-content-editable-property-path"===t&&(d.dblclick=s,d.blur=i,c.innerHTML=e.innerHTML)}}!c.innerHTML&&e.hasChildNodes()&&u.push(...o(e.childNodes)),a.push(t(r,{class:p,style:h,attrs:{...l},on:{...d},domProps:c},u))}})),a},a=new DOMParser,r=a.parseFromString(e,"text/html").body,l=(new XMLSerializer).serializeToString(r),c=l.replace(/<body.*?>/,"").replace("</body>",""),d=a.parseFromString("<root>"+c+"</root>","application/xhtml+xml");return o(d.documentElement.childNodes)}var S=n(98851),_=n(32521),x=n(63842);_.r$({globalSettingsCssFilePath:_.Z_,globalSelectorsCssFilePath:_.Z_,defaultCssForAllElementsFilePath:_.Z_});const C=_.r$({postCssFilePath:_.Z_,postDefaultsCssFilePath:_.Z_}),w=_.dt({postsGeneratedCssFilePaths:_.IM(_.Z_,C)}),P=_.jV([w,_.dt({dependencies:x.D})]),I=_.jV([_.dt({html:_.Z_}),P]);var k=n(85902),E=n(65669),T=n(31381);const D={};function A(e,t,n){let s,i=[];return async(...o)=>{if(s=o,D[n])return clearTimeout(D[n]),new Promise((o=>{i.push(o),D[n]=setTimeout((()=>{const t=e(...s);i.forEach((e=>e(t))),i=[],delete D[n]}),t)}));{const a=e(...o);return D[n]=setTimeout((()=>{if(i.length>0){const t=e(...s);i.forEach((e=>e(t))),i=[]}delete D[n]}),t),a}}}function Z(e,t,n,s){const i=(0,T.treeNodesOfType)(m.documentStore.document.tree.root,[e]),o=i.length,a=i.findIndex((e=>e.id===n)),r=()=>(0,S.D)({action:"breakdance_server_side_render",overrideAjaxUrl:(0,k.j)(),dataToPost:{properties:(0,E.J)(t),parentProperties:(0,E.J)(s),elementSlug:e,triggeringDocument:m.documentStore.document.documentMeta.id,totalMatchingElements:o,currentIndexInMatchingElements:a},decoder:I});return A(r,1e3,n)()}var M=n(30902),O=n(45974),B=n(3565),L=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns"},[t("div",{staticClass:"breakdance-empty-columns-choices-heading"},[e._v(" Choose a column structure ")]),t("div",{staticClass:"breakdance-empty-columns-choices"},[t("div",{staticClass:"breakdance-empty-columns-choices-row"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2)}}},[e._m(0)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,3)}}},[e._m(1)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,4)}}},[e._m(2)])]),t("div",{staticClass:"breakdance-empty-columns-choices-row"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[35,65])}}},[e._m(3)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[65,35])}}},[e._m(4)])])])])},N=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}})])}],R=n(884),F=n(94550),V=n(95690),$=n(69137),W=n(28684),U=n(38020);let z=class extends d.ZP{addColumns(e,t,n){e.preventDefault(),e.stopPropagation();const s=[],o=n?n.map((e=>{const t=(0,U.v)(e);return i()({},R.cp,{number:t,unit:"%",style:`${t}%`})})):[];for(let i=0;i<t;i++)s.push({id:i,data:{type:F.COLUMN_SLUG,properties:n?o[i]:{}},children:[]});$.n.transaction((()=>{m.documentStore.addMultipleNodes({nodes:s,parentId:this.id}),n||(0,W.t)(this.id)}),`Set amount of columns to ${t}`),(0,V.oM)("elementproperties")}};(0,c.gn)([(0,u.fI)()],z.prototype,"id",void 0),z=(0,c.gn)([(0,u.wA)({})],z);const H=z,G=H;var q=n(1001),K=(0,q.Z)(G,L,N,!1,null,null,null);const j=K.exports;var X=n(86592),Y=n(17879),Q=n(43195),J=n(58172),ee=n(39664);const te=["jquery","wp-polyfill-js"];function ne(){const e=window.Breakdance.canvas.document,t=e.querySelectorAll("script");for(const n of t){if(te.find((e=>n.id.toLowerCase().includes(e)||n.src.toLowerCase().includes(e))))continue;const t=se(n);n.remove(),e.querySelector("body")?.appendChild(t)}}function se(e){const t=document.createElement("script");return Array.from(e.attributes).forEach((e=>{t.setAttribute(e.name,e.value)})),e.src?t.src=e.src:t.innerHTML=e.innerHTML,t}var ie=n(12721);const oe='\n<div class="breakdance-empty-ssr-message">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>',ae='\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    There was an error on the server when rendering this element.\n</div>',re=(e,t)=>`\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    The <strong>"${e}"</strong> element requires the plugins <em>"${t.join(", ")}"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>`;var le=n(98374),ce=n(13635),de=n(20210),ue=n(9950),pe=n(25001),he=n(84274),ge=n(40681),me=n(92361),ve=n(17209),fe=n(23128),ye=n(8773),be=n(35941),Se=n(16734),_e=n(54120),xe=n(16068);function Ce(e){return e?.parentElement?.classList?.contains("oxy-component")&&e?.children?.length?e.children[0]?.getBoundingClientRect():e?.parentElement?.getBoundingClientRect()}function we(e){(0,d.Y3)((()=>{const t=Ce(e);t&&m.uiStore.inlineEditingContext&&m.uiStore.setInlineEditingContext({...m.uiStore.inlineEditingContext,rect:{top:t.top,left:t.left,bottom:t.bottom,right:t.right,width:t.width,height:t.height,y:t.y,x:t.x}})}))}function Pe(e){const t=()=>we(e),n=window.Breakdance?.canvas?.document;n.addEventListener("scroll",t,{passive:!0});const s=n.defaultView?.ResizeObserver,i=s?new s(t):null;return i?.observe(e.parentElement??e),t(),()=>{n.removeEventListener("scroll",t),i?.disconnect()}}function Ie(e,t,n,s){if(!n)return e;const i=new DOMParser,o=i.parseFromString(n,"text/html"),a=e=>{const t=[];let n=e.parentElement;while(n&&"body"!==n.tagName.toLowerCase())t.push({tag:n.tagName.toLowerCase(),className:n.className||""}),n=n.parentElement;return t},r=o.querySelector(s);if(!r)return e;const l=a(r),c=r.tagName.toLowerCase(),u=(0,d.h)(c,{class:r.className},[e]);return l.reverse().reduceRight(((e,t)=>{const n=t.tag.toLowerCase();return(0,d.h)(n,{class:t.className},Array.isArray(e)?e:[e])}),[u,...t])}function ke(e,t){if(!e)return[];const n=new DOMParser,s=n.parseFromString(e,"text/html"),i=s.querySelectorAll(t);return i?Array.from(i).slice(1).map((e=>({tag:e.tagName.toLowerCase(),className:e.className||"",innerHTML:e.innerHTML}))):[]}function Ee(e){return e.map(((e,t)=>{const n=e.tag;return(0,d.h)(n,{key:`placeholder-${t}`,class:`breakdance-inline-editor-placeholder ${e.className}`,domProps:{innerHTML:e.innerHTML}})}))}var Te=n(33356);let De=class extends u.w3{constructor(){super(...arguments),this.saving=!1,this.resizeObserver=null,this.blockId=null,this.nodes=[],this.unsubscribe=()=>{}}onElementChange(){this.context?.showBackdrop&&we(this.$refs.container)}get context(){return m.uiStore.inlineEditingContext}get postId(){return m.documentStore.document.documentMeta.id}get selector(){return`[data-inline-editable-node="${this.postId}-${this.element.id}"]`}get ssrNodePlaceholders(){return ke(this.ssrTemplate,this.selector)}async mounted(){this.context?.showBackdrop&&(this.unsubscribe=Pe(this.$refs.container)),this.context?.scrollToElementOnStart&&this.$nextTick((()=>(0,Te.es)()))}async beforeDestroy(){this.unsubscribe&&this.unsubscribe()}render(){const e=arguments[0],t=e("div",{class:"breakdance-inline-editor__loader"},["Loading Block..."]),n=e("div",{class:"breakdance-inline-editor",ref:"container"},[this.context?.loading?t:this.$slots.default]),s=Ee(this.ssrNodePlaceholders);return this.ssrTemplate?Ie(n,s,this.ssrTemplate,this.selector):n}};(0,c.gn)([(0,u.fI)()],De.prototype,"element",void 0),(0,c.gn)([(0,u.fI)()],De.prototype,"ssrTemplate",void 0),(0,c.gn)([(0,u.RL)("element",{deep:!0})],De.prototype,"onElementChange",null),De=(0,c.gn)([(0,u.wA)({components:{BuilderElement:()=>Promise.resolve().then(n.bind(n,82521))}})],De);const Ae=De,Ze=Ae;var Me,Oe,Be=(0,q.Z)(Ze,Me,Oe,!1,null,null,null);const Le=Be.exports;function Ne(e){return!1}var Re,Fe=n(87950);const Ve=l()(v.Z,500);let $e=Re=class extends d.ZP{constructor(){super(...arguments),this.isActive=!1,this.isUpdating=!1,this.currentlyDragging=!1,this.lastModifiedPropertyPath=null,this.uniqueId=(0,ye.Z)(),this.ssrInnerHtml=null,this.oldSsrParentProperties=(0,fe.Z)(this.ssrParentProperties),this.oldTwigProps=(0,fe.Z)(this.elementProps),this.dragMouseStartX=!1,this.dragMouseStartY=!1,this.easyEvent=new ie.hF,this.debouncedLoadDynamicData=l()(this.loadDynamicData,500,{leading:!0})}get isEmptyContainer(){const e=(0,ue.V9)(this.element.data.type).type,t="popup"===e||"container"===e||"container-link"===e||"section"===e;return t&&0===this.element.children.length}get isEmptyColumns(){return this.element.data.type===F.COLUMNS_SLUG&&0===this.element.children.length}get parentProps(){const e=this.baseElement.settings&&this.baseElement.settings.sharePropsWithSSRChildren,{design:t,...n}=this.elementProps||{};return(e?n:this.ssrParentProperties)||{}}get builderMode(){return m.configStore.builderMode}get isInlineEditing(){return m.uiStore.isElementBeingEditedInline(this.element.id)}__render(e){const t=this.rootTag;if(!this.shouldShow)return!1;if(this.isEmptyColumns)return e(t,{attrs:{...{...this.attributes},id:this.htmlId},on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault},class:this.classList},[e(j,{attrs:{id:this.element.id}})]);const n=(0,X.as)((0,X.as)(this.processedTemplate,{ssr:this.ssrValueOrMessage}),this.tags),s=this.isEmptyContainer?e(B.Z,{attrs:{id:this.element.id}}):this.element.children.map((t=>e(Re,{key:t.id,attrs:{element:t,parentId:this.element.id,ssrParentProperties:this.parentProps}}))),i=!this.isInlineEditing&&(this.contentEditablePropertyPath||null!==this.ssrValueOrMessage&&!this.ssrValueOrMessage.includes("%%CHILDREN%%")),o={};i&&(o.innerHTML=n);const a=i?[]:b(n,e,(()=>s),{enableContentEditableAndFocus:this.enableContentEditableAndFocus,saveContentEditable:this.saveContentEditable});return e(this.rootTag,{class:this.classList,attrs:{...this.attributes,id:this.htmlId},domProps:o,on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault,dblclick:this.handleDoubleClick,blur:this.contentEditablePropertyPath?this.saveContentEditable:()=>{}}},this.isInlineEditing?[e(Le,{attrs:{element:this.element,ssrTemplate:(0,X.as)(this.ssrInnerHtml||"",this.tags)}},[a])]:a)}render(e){return this.__render(e)}get processedTemplate(){if(this.isInlineEditing)return"%%CHILDREN%%";if(!this.hasRequiredPluginsAndTheyAreAvailable&&this.baseElement.settings&&this.baseElement.settings.requiredPlugins)return re(this.baseElement.name,this.baseElement.settings.requiredPlugins);const e=(0,X.yz)(this.baseElement.template,this.twigPropsAndPreset,(0,X.bb)(this.baseElement));return e?(0,X.as)(e,this.tags):""}get shouldSsr(){const e=this.processedTemplate.includes("%%SSR%%");if(!e)return!1;if(this.refreshSsr)return!0;if(null===this.lastModifiedPropertyPath)return!0;const t=this.baseElement.propertyPathsToSsrElementWhenValueChanges,n=!t;return!!n||t.some((e=>this.lastModifiedPropertyPath?.startsWith(e)))}get refreshSsr(){return!!m.uiStore.refreshSsrElementId&&m.uiStore.refreshSsrElementId===this.element.id}get hasRequiredPluginsAndTheyAreAvailable(){if(!this.baseElement.settings||!this.baseElement.settings.requiredPlugins)return!0;const e=this.baseElement.settings.requiredPlugins.filter((e=>m.configStore.availableWordpressPlugins.includes(e)));return e.length===this.baseElement.settings.requiredPlugins.length}get ssrValueOrMessage(){return""===this.ssrInnerHtml?m.uiStore.settings.disableNoticeForEmptySSRElements?"":oe:this.shouldSsr||this.ssrInnerHtml?this.isUpdating?this.ssrInnerHtml||"":this.ssrInnerHtml:null}get tags(){return{id:this.element.id,selector:this.elementSelector,uniqueSlug:this.uniqueClassName,postId:this.postId,elementName:this.baseElement.name}}async rerenderFromServeOnParentPropertyChange(){this.shouldSsr&&((0,be.v)(this.ssrParentProperties,this.oldSsrParentProperties)||(this.oldSsrParentProperties=(0,fe.Z)(this.ssrParentProperties),await this.maybeRerenderFromServer()))}async rerenderFromServerOnRefreshSsr(){this.refreshSsr&&(await this.maybeRerenderFromServer(),m.uiStore.setRefreshSsrElementId(null),this.runActionsAfterSsr())}get presets(){return m.globalStore.presets}async maybeRerenderFromServerOnPropertyChange(){await this.$nextTick(),this.isInlineEditing||(this.shouldSsr?(0,be.v)(this.twigProps,this.oldTwigProps)||(this.oldTwigProps=this.twigProps,await this.maybeRerenderFromServer(),this.runActionsAfterSsr()):this.processedTemplate.includes("%%SSR%%")||(null!==this.ssrInnerHtml&&(this.ssrInnerHtml=null),this.updateSsrDependenciesAndStyles()))}runActionsAfterSsr(){Y.w.run.onBeforeDeletingElement({elementId:this.element.id}),this.element._parentId&&Y.w.run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:void 0}),Y.w.run.onMountedElement({elementId:this.element.id})}async maybeRerenderFromServer(){if(!this.shouldSsr)return;m.uiStore.setElementUpdatingState({elementId:this.element.id,isUpdating:!0});const e=(0,M.pipe)(await Z(this.baseElement.slug,this.elementProps,this.element.id,this.parentProps),(0,O.fold)((e=>(e.forEach((e=>{ee.Z.log.message(e.msg)})),{html:ae,postsGeneratedCssFilePaths:{},dependencies:{}})),(e=>e)));m.uiStore.setElementUpdatingState({elementId:this.element.id,isUpdating:!1}),this.ssrInnerHtml=e.html,this.updateSsrDependenciesAndStyles(e.dependencies,e.postsGeneratedCssFilePaths)}maybeRerunAllScriptsInCanvasDocumentBody(){const e=this.baseElement.settings&&this.baseElement.settings.dependsOnGlobalScripts;e&&ne()}updateSsrDependenciesAndStyles(e,t){this.maybeRerunAllScriptsInCanvasDocumentBody(),e&&(0,v.Z)((0,ce.RY)(),{dependencies:[e],addInlineScriptsAsUnique:!1,element:this.element}),(0,le.xg)((0,ce.RY)(),this.element.id,t)}get shouldShow(){return(0,g.O)("elementShouldShow",!0,this.elementProps,{currentBreakpoint:m.uiStore.currentBreakpoint})}get breakpoints(){return m.configStore.breakpoints}onBreakpointsChange(){this.generateElementsCSS()}onTwigPropsChange(){this.generateElementsCSS()}onPresetChange(){this.generateElementsCSS()}onVariablesChange(){this.generateElementsCSS()}onCssTemplateChange(){this.generateElementsCSS()}onDefaultCssChange(){this.generateElementsCSS()}onInternalDependenciesChange(){if(this.baseElement.dependencies){const e=this.baseElement.dependencies.map((e=>({...e,inlineScripts:[]})));Ve((0,ce.RY)(),{dependencies:e,tags:this.tags,element:this.element})}}get globalSettings(){return m.globalStore.globalSettings}refreshIfTypographyPresetsChange(){this.generateElementsCSS()}get elementChildrenCount(){return this.element.children.length}elementChildrenCountChanged(){this.generateElementsCSS()}generateElementsCSS(){(0,le.df)((0,ce.RY)(),this.baseElement.slug,this.baseElement.defaultCss);const e=this.presetId?(0,_e.wV)(this.baseElement):this.baseElement.cssTemplate,t=(0,p.a)(this.twigProps,this.breakpoints,e,this.tags,this.baseElement.propertyPathsToWhitelistInFlatProps,this.elementChildrenCount,(0,X.g)(this.baseElement));(0,le.ts)((0,ce.RY)(),this.element.id,t,this.uniqueId)}async mounted(){this.updateSsrDependenciesAndStyles(),await Promise.all([this.loadDependencies(),this.maybeRerenderFromServer()]),Y.w.run.onMountedElement({elementId:this.element.id})}destroyed(){const e=0===(0,T.countNodesOfTypeInTree)(m.documentStore.document.tree.root,this.baseElement.slug);e&&(0,le.xU)((0,ce.RY)(),this.baseElement.slug),(0,le.AC)((0,ce.RY)(),this.element.id,this.uniqueId),(0,le.SR)((0,ce.RY)(),this.element.id),this.element._parentId&&Y.w.run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:`DocumentDeleteElement:ID:${this.element.id}`})}loadDependencies(){return(0,v.Z)((0,ce.RY)(),{dependencies:[...this.baseElement.dependencies||[],...m.configStore.elementsExternalAttrsDepsAndActions.dependencies||[]],element:this.element,tags:this.tags})}get elementSelector(){const e=`.${this.uniqueClassName}`,t=`.breakdance ${e}`;return"oxygen"===this.builderMode?this.element.data.type.startsWith("EssentialElements\\")?t:e:t}get rootTag(){const e=this.baseElement.htmlTag.pathToControl?a()(this.element.data.properties,this.baseElement.htmlTag.pathToControl):this.element.data.properties?.settings?.advanced?.tag;return"string"===typeof e&&e||this.baseElement.htmlTag.default}get baseElement(){return m.configStore.element(this.element.data.type)}get elementProps(){if(m.uiStore.inlineEditingElement&&m.uiStore.inlineEditingElement.data.type===F.COMPONENT_SLUG&&(0,ue.l0)(m.documentStore.document.tree,this.element,m.uiStore.inlineEditingElement)){const e=m.uiStore.inlineEditingElementPropertyOverrides,t=e[this.element.id]||{};if(Object.keys(t).length>0){const e=(0,fe.Z)(this.element.data.properties);for(const[n,s]of Object.entries(t))s&&i()(e,n,s);return e}}return this.element.data.properties}get twigProps(){if((0,J.Kn)(this.elementProps)&&0!==Object.entries(this.elementProps).length){const e=m.configStore.dynamicDataCache.data,t=(0,h.Ko)(this.elementProps,e),n=t.filter((t=>!Object.keys(e).includes((0,h.Ev)(t))));n.length&&this.debouncedLoadDynamicData(n);const s=!!m.configStore.previewedItem;return(0,J.xV)(this.elementProps,(t=>(0,Q.ro)(t)?(0,Q.Ax)(t,e,s):t))}return{}}get designPropsAndPreset(){const e=(0,fe.Z)(this.twigProps?.design),t=(0,fe.Z)(this.preset?.design);return(0,_e.lb)(t,e)}get twigPropsAndPreset(){return{...this.twigProps,design:this.designPropsAndPreset}}get postId(){return m.documentStore.document.documentMeta.id}get htmlId(){return(0,de.Cc)(this.element)}get uniqueClassName(){return(0,de.P0)(this.element,this.postId)}get baseClassName(){return(0,de.MO)(this.baseElement)}get presetId(){return this.element.data.properties?.meta?.preset}get preset(){return m.globalStore.presets.find((e=>e.id===this.presetId))}get variables(){return m.globalStore.variables}get isSectionCurrentlyRewritingWithAi(){return m.singularityStore.aiJobs.filter((e=>e.affectedElement===this.element.id&&"running"===e.status)).length>0}get classList(){const e=[this.uniqueClassName,"builder-element",this.baseClassName];this.isSectionCurrentlyRewritingWithAi&&e.push("section-currently-rewriting-with-ai"),this.isActive&&e.push("breakdance--active-element"),this.currentlyDragging&&e.push("breakdance--currently-dragging"),this.isEmptyContainer&&e.push("breakdance--empty-container");const t=this.element.data.properties?.settings?.advanced?.classes??!1;t&&e.push(...t),this.baseElement.settings&&this.baseElement.settings.bypassPointerEvents&&e.push("breakdance-children-pointer-events-none"),this.isUpdating&&e.push("breakdance-element-is-updating"),this.presetId&&e.push(`bde-preset-${this.presetId}`);const n=(0,xe.Xn)(this.element);return n&&e.push(...n.map((e=>e.name))),e.push(...this.additionalClasses),e}get additionalClasses(){return this.baseElement.additionalClasses?this.baseElement.additionalClasses.map((e=>{const t=(0,X.yz)(e.template,this.twigProps,(0,X.l0)(this.baseElement,e));if(t)return{name:e.name,include:t}})).filter(pe.$K).filter((e=>!!e.include)).map((e=>e.name)):[]}renderAttributeValue(e){return"template"in e?(0,X.yz)(e.template,this.twigProps,(0,X.H5)(this.baseElement,e)):"propertyPath"in e?String(a()(this.elementProps,e.propertyPath,"")):"rawValue"in e?e.rawValue:null}get attributes(){const e={},t=[...this.baseElement.attributes||[],...m.configStore.elementsExternalAttrsDepsAndActions.attributes||[]];t.forEach((t=>{const n=this.renderAttributeValue(t);n&&(e[t.name]=(0,X.as)(n,this.tags))}));const n=this.element.data.properties?.settings?.advanced?.attributes??[];n.forEach((t=>{e[t.name]=t.value})),e["data-node-id"]=`${this.element.id}`;const s={};return Object.keys(e).forEach((t=>{"%%OUTPUTBLANKATTRIBUTE%%"===e[t]?.trim()?s[t]="":e[t]&&(s[t]=e[t])})),s}get contentEditablePropertyPath(){return this.attributes["data-content-editable-property-path"]}get isDragAndDropEnabled(){return m.uiStore.isSingularityMode&&m.uiStore.hasFullAccess?Ne(this.element):m.uiStore.hasFullAccess}get isPreviewMode(){return m.uiStore.isPreviewMode}get isOnboardingMode(){return window.Breakdance.isOnboarding}get lastModifiedTreeNodePropertyForWatcher(){return m.uiStore.lastModifiedElementProperty}handleLastModifiedTreeNodePropertyChange(e){e.elementId===this.element.id?this.lastModifiedPropertyPath=e.path:null!==this.lastModifiedPropertyPath&&(this.lastModifiedPropertyPath=null)}get currentlyDraggingForWatcher(){return m.uiStore.currentlyDraggingCanvasElementId===this.element.id}handleCurrentlyDraggingChange(e){this.currentlyDragging=e}get activeElementIdForWatcher(){return m.uiStore.activeElementId}handleActiveElementIdChange(e){this.isActive=e===this.element.id}get isElementUpdatingForWatcher(){return Boolean(m.uiStore.elementsThatAreUpdating[this.element.id])}handleLoadingElementIdChange(e){this.isUpdating!==e&&(this.isUpdating=e)}get behaviorModeEnabled(){const e=m.uiStore.builderBehaviorElementId;return!!e&&(0,T.isDescendant)(m.documentStore.document.tree,e,this.element.id)}activateElement(){this.behaviorModeEnabled||(m.uiStore.activateElement(this.element.id),(0,V.oM)("elementproperties"))}canDrag(e){if(!this.isDragAndDropEnabled)return!1;const t=e.target,n=["textarea","input","select"],s=t.tagName.toLowerCase();return!n.includes(s)&&!m.uiStore.elementWithContentEditable}disableDefaultDrag(e){e.preventDefault()}maybePreventDefault(e){const t=e.target,n=["a","button"],s=n.join(", "),i=n.some((e=>t.closest(e)));(t.matches(s)||i)&&e.preventDefault()}activateAndMaybeStartDrag(e){this.isPreviewMode||this.isOnboardingMode||(e.stopPropagation(),this.activateElement(),this.canDrag(e)&&(this.behaviorModeEnabled||(this.dragMouseStartX=e.clientX,this.dragMouseStartY=e.clientY,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.removeDragListeners))))}removeDragListeners(){this.easyEvent.removeAll(),this.dragMouseStartX=!1,this.dragMouseStartY=!1}dragging(e){if(this.behaviorModeEnabled)return;if(!(0,ie.Pm)(e))return;if(!1===this.dragMouseStartX||!1===this.dragMouseStartY)return;const t=e.clientX,n=e.clientY;(Math.abs(t-this.dragMouseStartX)>3||Math.abs(n-this.dragMouseStartY)>3)&&(m.uiStore.setCanvasElementDraggedId(this.element.id),this.removeDragListeners())}handleDoubleClick(e){const t=this.element.data.type,n=[F.IMAGE_SLUG,F.LEGACY_IMAGE_SLUG,F.OXY_IMAGE_SLUG];if(this.contentEditablePropertyPath)this.enableContentEditableAndFocus(e);else if(t===F.RICH_TEXT_SLUG)(0,Se.of)("CMD_E");else if(n.includes(t))document.dispatchEvent(new CustomEvent("open-media-dialog",{cancelable:!0}));else if(this.isInlineEditable){const e=this.inlineBlockId;if(e){if(this.isAlreadyEditingInline)return;(0,Fe.B7)({elementId:this.element.id,blockId:e})}}}get isAlreadyEditingInline(){return this.isInlineEditable&&m.uiStore.isElementBeingEditedInline(this.element.id)}get isInlineEditable(){return(0,Fe.up)(this.baseElement)}get inlineBlockId(){const e=this.baseElement.nestingRule.inlineEditableBlockPath;return e?a()(this.twigProps,e):null}enableContentEditableAndFocus(e){const t=e.target;let n=null;if(n=t.dataset.contentEditablePropertyPath||t.dataset.nodeId?t:t.closest("[data-content-editable-property-path]"),!n)return;const s=n.dataset.contentEditablePropertyPath;if(s){const e=a()(this.twigProps,(0,Q.k2)(s)),t=!!e&&(0,Q.Tc)(e);if(t)return}const i="true"===n.getAttribute("contenteditable");if(i)return;m.uiStore.setContentEditableElementId(this.element.id);const o=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;o&&m.singularityStore.setTextEditorPanelState({elementId:this.element.id,contentEditablePropertyPath:o}),n.setAttribute("contenteditable","true"),n.focus(),window.Breakdance.canvas.document.addEventListener("keydown",this.handleKeydownInsideContentEditable),n.addEventListener("paste",this.pasteWithoutFormatting)}saveContentEditable(e){const t=e.target;window.Breakdance.canvas.document.removeEventListener("keydown",this.handleKeydownInsideContentEditable),t.removeEventListener("paste",this.pasteWithoutFormatting),t.setAttribute("contenteditable","false"),m.uiStore.setContentEditableElementId(null);const n=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;if(!n)return;t.innerHTML=t.innerHTML.trim();const s=t.childNodes[t.childNodes.length-1];s&&"BR"===s.tagName&&s.remove();const i=document.createElement("textarea");i.innerHTML=t.innerHTML;const o=i.value,r=a()(this.element.data.properties,n);r!==o&&m.documentStore.throttledPropertyChanged({elementId:this.element.id,path:n,value:o,meta:{snapshotLabel:he.AZ.forElementBasingOnChangedStorePropertyPath(this.baseElement,n,ge.P.CHANGE)}})}pasteWithoutFormatting(e){const t=e.clipboardData?.getData("text/plain");t&&(window.Breakdance.canvas.document.execCommand("insertHTML",!1,(0,ve.h)(t)),e.preventDefault())}handleKeydownInsideContentEditable(e){return"Space"===e.code?(e.preventDefault(),e.stopPropagation(),void window.Breakdance.canvas.document.execCommand("insertText",!1," ")):"Enter"===e.code?(window.Breakdance.canvas.document.execCommand("insertLineBreak"),void e.preventDefault()):"Escape"===e.code||(e.ctrlKey||e.metaKey)&&"s"===e.key?(e.preventDefault(),void this.saveContentEditable(e)):void 0}loadDynamicData(e){(0,h.y9)(e).then((e=>{m.configStore.setNewDynamicDataCacheEntries(e)}))}};(0,c.gn)([(0,u.fI)()],$e.prototype,"element",void 0),(0,c.gn)([(0,u.fI)()],$e.prototype,"parentId",void 0),(0,c.gn)([(0,u.fI)()],$e.prototype,"ssrParentProperties",void 0),(0,c.gn)([(0,u.RL)("ssrParentProperties",{deep:!0})],$e.prototype,"rerenderFromServeOnParentPropertyChange",null),(0,c.gn)([(0,u.RL)("refreshSsr")],$e.prototype,"rerenderFromServerOnRefreshSsr",null),(0,c.gn)([(0,u.RL)("twigProps")],$e.prototype,"maybeRerenderFromServerOnPropertyChange",null),(0,c.gn)([(0,u.RL)("breakpoints",{deep:!0})],$e.prototype,"onBreakpointsChange",null),(0,c.gn)([(0,u.RL)("twigProps",{deep:!0,immediate:!0})],$e.prototype,"onTwigPropsChange",null),(0,c.gn)([(0,u.RL)("preset",{deep:!0,immediate:!0})],$e.prototype,"onPresetChange",null),(0,c.gn)([(0,u.RL)("variables",{deep:!0,immediate:!0})],$e.prototype,"onVariablesChange",null),(0,c.gn)([(0,u.RL)("baseElement.cssTemplate")],$e.prototype,"onCssTemplateChange",null),(0,c.gn)([(0,u.RL)("baseElement.defaultCss")],$e.prototype,"onDefaultCssChange",null),(0,c.gn)([(0,u.RL)("baseElement.dependencies",{deep:!0})],$e.prototype,"onInternalDependenciesChange",null),(0,c.gn)([(0,u.RL)(`globalSettings.${me.r.typographyPresets}`,{deep:!0})],$e.prototype,"refreshIfTypographyPresetsChange",null),(0,c.gn)([(0,u.RL)("elementChildrenCount",{})],$e.prototype,"elementChildrenCountChanged",null),(0,c.gn)([(0,u.RL)("lastModifiedTreeNodePropertyForWatcher",{immediate:!0})],$e.prototype,"handleLastModifiedTreeNodePropertyChange",null),(0,c.gn)([(0,u.RL)("currentlyDraggingForWatcher",{immediate:!0})],$e.prototype,"handleCurrentlyDraggingChange",null),(0,c.gn)([(0,u.RL)("activeElementIdForWatcher",{immediate:!0})],$e.prototype,"handleActiveElementIdChange",null),(0,c.gn)([(0,u.RL)("isElementUpdatingForWatcher",{immediate:!0})],$e.prototype,"handleLoadingElementIdChange",null),$e=Re=(0,c.gn)([(0,u.wA)({})],$e);const We=$e,Ue=We;var ze,He,Ge=(0,q.Z)(Ue,ze,He,!1,null,null,null);const qe=Ge.exports},3565:(e,t,n)=>{n.d(t,{Z:()=>v});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-container",attrs:{id:"breakdance-empty-container"}},[t("div",{staticClass:"breakdance-empty-container__add-element",class:{"breakdance-empty-container__add-element--disabled":!e.canAddElement},on:{click:e.openAddPanel}},[t("Icon",{attrs:{icon:"PlusIcon",size:"22"}})],1)])},i=[],o=n(70655),a=n(85450),r=n(20144),l=n(38085),c=n(95690),d=n(85283);let u=class extends r.ZP{get canAddElement(){return a.uiStore.hasFullAccess}openAddPanel(e){e.preventDefault(),e.stopPropagation(),this.canAddElement&&((0,c.oM)("add"),a.uiStore.activateElement(this.id))}};(0,o.gn)([(0,l.fI)({default:null})],u.prototype,"id",void 0),u=(0,o.gn)([(0,l.wA)({components:{Icon:d.Z}})],u);const p=u,h=p;var g=n(1001),m=(0,g.Z)(h,s,i,!1,null,null,null);const v=m.exports},67389:(e,t,n)=>{n.d(t,{Z:()=>P});var s=n(1387),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" Default Children "),t("Repeater",{attrs:{value:e.value||[],"default-new-value":e.defaultValue,control:e.repeaterOptions},on:{input:function(t){return e.updateDefaultElements(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:i}){return[t(s.Z,{staticClass:"mb-2",attrs:{value:i.slug,items:e.elementsAvailableForThisElementNestingType,hint:"Element that will be automatically added inside this current element","persistent-hint":"",clearable:""},on:{input:function(t){return e.updatePath(t,n,"slug")}}}),i.slug&&e.canHaveChildren(i.slug)?t("ElementStudioDefaultElements",{staticClass:"mb-2",attrs:{value:i.children,"parent-element-slug":i.slug,"allow-import":!1},on:{input:function(t){return e.updatePath(t,n,"children")}}}):e._e(),i.slug?t("ElementStudioDefaultProperties",{attrs:{value:i.defaultProperties||!1,"element-slug":i.slug},on:{input:function(t){return e.updatePath(t,n,"defaultProperties")}}}):e._e()]}}])}),e.allowImport?t("div",[t("br"),t("div",{staticClass:"mb-2"},[e._v(" Import all children of the currently active element ")]),t("NiceButton",{attrs:{disabled:!e.canImport},on:{click:e.importChildren}},[e._v(" Import Children ")])],1):e._e()],1)},o=[],a=n(70655),r=n(20144),l=n(38085),c=n(34680),d=n.n(c),u=n(31044),p=n(16888),h=n(15133),g=n(19508),m=n(23128),v=n(9950),f=n(41571),y=n(6184),b=n(80427);let S=class extends r.ZP{constructor(){super(...arguments),this.defaultValue={},this.repeaterOptions={options:{repeaterOptions:{defaultTitle:"Default Element",titleTemplate:"{slug}",buttonName:"Add new default element"}}}}beforeCreate(){this.$options.components.ElementStudioDefaultElements=n(67389).Z}updateDefaultElements(e){this.$emit("input",e)}canHaveChildren(e){if(!e)return!1;const t=u.PK.element(e),n=t.nestingRule.type;return!n.startsWith("final")}get canImport(){return!!u.kD.activeElement&&u.kD.activeElement.data.type===this.context.element().slug}importChildren(){if(!u.kD.activeElement)return;const e=t=>({slug:t.data.type,defaultProperties:t.data.properties,children:t.children.map(e)}),t=(0,m.Z)(u.kD.activeElement),n=t.children.map(e);this.updateDefaultElements(n)}get elementsAvailableForThisElementNestingType(){return Object.keys(u.PK.elements).filter((e=>{const t=u.PK.element(this.parentElementSlug),n=u.PK.element(e).nestingRule;return(0,v.V4)(n,t.nestingRule,t.slug)}))}updatePath(e,t,n){const s=(0,m.Z)(this.value)||{};s[t][n]=e,this.$emit("input",s)}};(0,a.gn)([(0,l.fI)()],S.prototype,"value",void 0),(0,a.gn)([(0,l.fI)()],S.prototype,"parentElementSlug",void 0),(0,a.gn)([(0,l.fI)({default:!0})],S.prototype,"allowImport",void 0),(0,a.gn)([(0,l.tB)("context")],S.prototype,"context",void 0),S=(0,a.gn)([(0,l.wA)({components:{NiceButton:b.Z,ElementStudioDefaultProperties:y.Z,TextInput:f.Z,Repeater:g.Z,Dropdown:h.Z,Accordion:p.Z,draggable:d()}})],S);const _=S,x=_;var C=n(1001),w=(0,C.Z)(x,i,o,!1,null,null,null);const P=w.exports},6184:(e,t,n)=>{n.d(t,{Z:()=>S});var s=n(37179),i=n(73385),o=n(75223),a=n(12570),r=n(55234),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h3",{staticClass:"mb-1"},[e._v("Default Properties")]),t(s.Z,{staticClass:"mr-2",attrs:{small:"",text:"",disabled:!e.canImport,outlined:""},on:{click:e.importDefaultProperties}},[e._v("import")]),e.value?t(s.Z,{attrs:{color:"red darken-1",text:"",small:"",outlined:""},on:{click:e.clearDefaultProperties}},[e._v("clear")]):e._e(),t("div",{staticClass:"element-studio-default-properties-instructions"},[e._v(" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a "),t("b",[e._v(e._s(e.elementSlug))]),e._v(". ")]),t("h5",[e._v("Current Default Properties")]),t("pre",{staticClass:"element-studio-default-properties-preview"},[e._v(e._s(e.value))]),t(a.Z,{attrs:{"max-width":"500"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[t(i.Z,[t(o.EB,{staticClass:"headline"},[e._v(" Set Default Properties ")]),t(o.ZB,[e._v(" Set default properties for "+e._s(e.elementSlug)+" to:"),t("br"),t("br"),e._v(" "+e._s(e.defaultProperties)+" ")]),t(o.h7,[t(s.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.cancel}},[e._v(" cancel ")]),t(r.Z),t(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.confirmDefaultProperties}},[e._v(" confirm ")])],1)],1)],1)],1)},c=[],d=n(70655),u=n(20144),p=n(38085),h=n(85450),g=n(23128);let m=class extends u.ZP{constructor(){super(...arguments),this.dialogOpen=!1,this.defaultProperties=this.value}get canImport(){return!!h.uiStore.activeElement&&h.uiStore.activeElement.data.type===this.elementSlug}cancel(){this.dialogOpen=!1}importDefaultProperties(){if(!h.uiStore.activeElement)return;if(h.uiStore.activeElement.data.type!==this.elementSlug)return;const e=(0,g.Z)(h.uiStore.activeElement.data.properties);e&&("settings"in e&&delete e.settings,"meta"in e&&delete e.meta),this.defaultProperties=e,this.dialogOpen=!0}confirmDefaultProperties(){this.dialogOpen=!1,this.$emit("input",this.defaultProperties)}clearDefaultProperties(){confirm("are you sure?")&&this.$emit("input",!1)}};(0,d.gn)([(0,p.fI)()],m.prototype,"value",void 0),(0,d.gn)([(0,p.fI)()],m.prototype,"elementSlug",void 0),m=(0,d.gn)([(0,p.wA)({components:{}})],m);const v=m,f=v;var y=n(1001),b=(0,y.Z)(f,l,c,!1,null,null,null);const S=b.exports},71600:(e,t,n)=>{n.d(t,{Z:()=>M});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"structure-node-children"},[e._l(e.nodes,(function(n){return[t("StructureNode",{key:n.id,attrs:{element:n,depth:e.depth}})]}))],2)},i=[],o=n(70655),a=n(20144),r=n(38085),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"structure-node":!0,"breakdance--currently-dragging":this.currentlyDragging,"is-opened":"oxygen"===e.builderMode&&e.shouldShowChildrenNodes},style:"oxygen"===e.builderMode?e.indentAsCssVariableStyle:null,attrs:{"data-element-id":e.element.id}},[t("div",{staticClass:"structure-node-title-wrapper"},[t("div",{staticClass:"structure-node-title",class:e.activeClass,style:e.indentStyle,on:{click:e.activateElement}},[t("div",{staticClass:"structure-node-title-real"},[t("div",{staticClass:"structure-node-toggle-wrapper"},[e.element.children.length?t("Icon",{staticClass:"structure-node-action__icon",attrs:{icon:"breakdance"===e.builderMode?"CaretDownIcon":"ChevronDownSolidIcon",size:"10",rotate:e.shouldShowChildrenNodes?void 0:"270"},on:{click:function(t){return t.stopPropagation(),e.toggleChildren.apply(null,arguments)}}}):e._e()],1),t("div",{class:{"structure-node-title-real-real":!0,"structure-panel-editing-friendly-name":e.editingFriendlyName}},[t("ElementIcon",{staticClass:"structure-node-icon",attrs:{icon:e.getElementIcon(e.element),size:"12"}}),t("div",{staticClass:"element-title-text",attrs:{title:e.getElementName(e.element)}},[e.editingFriendlyName?e._e():t("span",{staticClass:"element-title-name ellipsis-text",on:{dblclick:e.enableEditingFriendlyName}},[e._v(" "+e._s(e.getElementName(e.element))+" ")]),e.editingFriendlyName?t("input",{ref:"friendlyNameInputRef",staticClass:"element-custom-name-input",attrs:{size:e.friendlyNameInputValue,spellcheck:"false"},domProps:{value:e.friendlyNameInputValue},on:{input:function(t){return e.updateFriendlyName(t.target.value)},keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;e.showElementNameFallback=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.disableEditing.apply(null,arguments)}],blur:e.disableEditing,mousedown:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)},contextmenu:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)}}}):e._e(),e.isDraftSection&&!e.editingFriendlyName?t("span",{staticClass:"element-title__meta"},[e._v(" (Draft) ")]):e._e(),e.isShowingIdsInStructurePanel&&!e.editingFriendlyName?t("span",{staticClass:"element-title__meta"},[e._v(" #"+e._s(e.element.id)+" ")]):e._e()]),e.editingFriendlyName?e._e():t("div",{staticClass:"structure-node-actions__wrapper"},[t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"breakdance"===e.builderMode?"BarsIcon":"GripDotsVerticalIcon",title:"Open menu"},on:{click:e.showContextMenu}}),t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{icon:"breakdance"===e.builderMode?"DuplicateIcon":"DuplicateSolidIcon",title:"Duplicate element"},on:{click:e.duplicate}}),t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"breakdance"===e.builderMode?"TrashIcon":"TrashSolidIcon",title:"Delete element"},on:{click:e.remove}})],1)],1)])]),t("div",{staticClass:"nest-deeper",style:e.nestDeeperStyle,attrs:{"data-element-id":e.element.id}}),t("div",{staticClass:"nest-shallower",style:e.nestShallowerStyle,attrs:{"data-element-id":e.element.id}}),t("div",{staticClass:"top-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}}),t("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}})]),e.shouldShowChildrenNodes?t("ChildStructureNodes",{attrs:{nodes:e.element.children,depth:e.depth+1}}):e._e()],1)},c=[],d=n(27361),u=n.n(d),p=n(85450),h=n(23128),g=n(85283),m=n(78),v=n(95690),f=n(98992),y=n(94550),b=n(34676),S=n(20210),_=n(21115);const x=16;let C=class extends a.ZP{constructor(){super(...arguments),this.showElementNameFallback=!0,this.editingFriendlyName=!1}get builderMode(){return p.configStore.builderMode}get indentAsCssVariableStyle(){return{"--indent-amount":this.depth*x+"px"}}get shouldShowChildrenNodes(){return(0,f.sF)(this.element.id)}beforeCreate(){this.$options.components.ChildStructureNodes=n(71600).Z}activateElement(){p.uiStore.activateElement(this.element.id),(0,v.iN)("elementproperties")!==(0,v.iN)("structure")&&(0,v.oM)("elementproperties")}get baseElement(){return p.configStore.element(this.element.data.type)}get activeClass(){return{"breakdance--active-element":p.uiStore.activeElementId===this.element.id}}get indentStyle(){const e=this.depth*x;return{marginLeft:`${e}px`,width:`calc(100% - 1px - ${e}px`}}get nestDeeperStyle(){const e=(this.depth+1)*x;return{left:`${e}px`}}get nestShallowerStyle(){const e=this.depth*x;return{width:`${e}px`}}get elementName(){return p.configStore.element(this.element.data.type).name}get currentlyDragging(){return p.uiStore.currentlyDraggingCanvasElementId===this.element.id}get isShowingIdsInStructurePanel(){return p.uiStore.settings.showElementIdInStructurePanel}duplicate(){p.documentStore.duplicateElementAndActivateIt(this.element.id)}getElementIcon(e){return(0,S.Ff)(e)}getElementName(e){return(0,S.mH)(e)}showContextMenu(e){const t=(0,_.n)(e.clientX,e.clientY);p.uiStore.setOnStructurePanelRightClickMenuState({elementId:this.element.id,position:t})}remove(){p.documentStore.deleteElement({nodeId:this.element.id})}toggleChildren(){const e=(0,h.Z)(p.uiStore.structurePanelNodesExpandedState);e[this.element.id]=!this.shouldShowChildrenNodes,p.uiStore.setStructurePanelNodesExpandedState(e)}get isDraftSection(){return this.element.data.type===y.SECTION_SLUG&&u()(this.element.data.properties,"settings.advanced.draft")}get friendlyNameInputValue(){return void 0===this.element.data.properties?.meta?.friendlyName&&this.showElementNameFallback?(this.showElementNameFallback=!1,this.elementName):(this.editingFriendlyName&&(this.showElementNameFallback=!1),this.element.data.properties?.meta?.friendlyName&&this.element.data.properties?.meta?.friendlyName.trim())}enableEditingFriendlyName(){this.editingFriendlyName=!0,(0,b.forceNextTick)((()=>{this.$refs.friendlyNameInputRef.focus(),this.$refs.friendlyNameInputRef.select()}))}updateFriendlyName(e){p.documentStore.unthrottledPropertyChanged({elementId:this.element.id,path:"meta.friendlyName",meta:{snapshotLabel:`Updated friendly name for element "${this.elementName}"`},value:e?.trim()||void 0})}disableEditing(){this.editingFriendlyName=!1,this.showElementNameFallback=!0}noop(e){return e.stopPropagation(),{}}};(0,o.gn)([(0,r.fI)()],C.prototype,"element",void 0),(0,o.gn)([(0,r.fI)()],C.prototype,"depth",void 0),C=(0,o.gn)([(0,r.wA)({name:"StructureNode",components:{ElementIcon:m.Z,Icon:g.Z}})],C);const w=C,P=w;var I=n(1001),k=(0,I.Z)(P,l,c,!1,null,null,null);const E=k.exports;let T=class extends a.ZP{};(0,o.gn)([(0,r.fI)()],T.prototype,"nodes",void 0),(0,o.gn)([(0,r.fI)()],T.prototype,"depth",void 0),T=(0,o.gn)([(0,r.wA)({components:{StructureNode:E},name:"ChildStructureNodes"})],T);const D=T,A=D;var Z=(0,I.Z)(A,s,i,!1,null,null,null);const M=Z.exports},47712:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ps});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-control",class:{[`oxy-control--${e.control.type}`]:!0,[`oxy-control--${e.control.positionLabel}`]:e.control.positionLabel,["oxy-control--hide-label"]:e.control.hideLabel,["oxy-control--disabled"]:e.disabled,["is-control-filled"]:e.filled},style:{gridColumnStart:e.control.width?`span ${e.control.width}`:""},attrs:{"data-name":e.control.slug}},[e.showLabel?t("OxygenControlName",{attrs:{filled:e.filled,path:e.fullPath,"apply-fill-class":!1},on:{reset:e.resetControl}},[e._v(" "+e._s(e.control.name)+" ")]):e._e(),e.isVariableSupported?t("VariableBoundInput",{attrs:{name:e.control.name,"color-type":e.control.colorType,type:e.variableType,small:!0,path:e.fullPath},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}},[t(e.componentName,{tag:"component",attrs:{control:e.control,path:e.fullPath,context:e.context,placeholder:e.control.placeholder},on:{"update-context":function(t){return e.$emit("update-context",t)}},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1):t(e.componentName,{tag:"component",attrs:{control:e.control,path:e.fullPath,context:e.context,placeholder:e.control.placeholder},on:{"update-context":function(t){return e.$emit("update-context",t)}},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},i=[],o=n(70655),a=n(38085),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-gap-input",class:{"oxy-gap-input--expand":e.isGlobalVariable&&!e.bothSides}},[e.bothSides?[t("OxygenControl",{staticClass:"oxy-gap-input__unit",attrs:{value:e.syncedValue?.row,control:e.rowControl,path:e.path},on:{input:e.updateRow}}),t("OxygenControl",{staticClass:"oxy-gap-input__unit",attrs:{value:e.syncedValue?.column,control:e.columnControl,path:e.path},on:{input:e.updateColumn}})]:[e.isGlobalVariable?e._e():t("div",[t("Slider",{attrs:{value:e.syncedValue?.column?.number,min:0,max:100,step:1,expanded:!0},on:{input:e.updateSlider}})],1),t("OxygenControl",{staticClass:"oxy-gap-input__unit",attrs:{value:e.syncedValue?.column,control:e.unitControl,path:e.path},on:{input:e.updateAllSides}})],t("Icon",{staticClass:"oxy-gap-input__toggle",attrs:{icon:e.bothSides?"UnlockIcon":"LockIcon"},on:{click:function(t){e.bothSides=!e.bothSides}}})],2)},l=[],c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-unit-input"},[t("UnitInput",{attrs:{options:e.options,"range-options":e.rangeOptions},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},d=[],u=n(62634);let p=class extends a.w3{get options(){return{defaultType:this.control.defaultType,types:this.control.types}}get rangeOptions(){return{min:this.control.min,max:this.control.max,step:this.control.step}}};(0,o.gn)([(0,a.fI)()],p.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],p.prototype,"syncedValue",void 0),p=(0,o.gn)([(0,a.wA)({components:{UnitInput:u.Z}})],p);const h=p,g=h;var m=n(1001),v=(0,m.Z)(g,c,d,!1,null,null,null);const f=v.exports;var y=n(85283),b=n(22608),S=n(74799),_=n(42274),x=n(90889);let C=class extends a.w3{constructor(){super(...arguments),this.bothSides=!1,this.unitControl={type:"unit",name:"Gap",slug:"unit",hideLabel:!0},this.rowControl={type:"unit",name:"Row",slug:"row",positionLabel:"bottom"},this.columnControl={type:"unit",name:"Column",slug:"column",positionLabel:"bottom"}}get isGlobalVariable(){return(0,x.Hk)(this.syncedValue?.column)||(0,x.Hk)(this.syncedValue?.row)}beforeCreate(){this.$options.components.OxygenControl=n(47712)["default"]}onBothSidesChange(){this.bothSides&&(this.syncedValue={row:this.syncedValue?.column,column:this.syncedValue?.column})}updateSlider(e){const t=this.syncedValue?.column?.unit||"px",n=(0,_.r)(e,t)||"",s={number:e,unit:t,style:`${n}`};this.syncedValue={column:s,row:s}}updateAllSides(e){this.syncedValue={column:e,row:e}}updateRow(e){this.syncedValue={column:this.syncedValue?.column,row:e}}updateColumn(e){this.syncedValue={row:this.syncedValue?.row,column:e}}};(0,o.gn)([(0,a.fI)()],C.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],C.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],C.prototype,"path",void 0),(0,o.gn)([(0,a.RL)("bothSides")],C.prototype,"onBothSidesChange",null),C=(0,o.gn)([(0,a.wA)({components:{Icon:y.Z,Slider:S.Z,IconButton:b.Z,OxygenUnitInput:f}})],C);const w=C,P=w;var I=(0,m.Z)(P,r,l,!1,null,null,null);const k=I.exports;var E=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-font-input"},[t("FontFamilyInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},T=[],D=n(40616);let A=class extends a.w3{};(0,o.gn)([(0,a.fI)()],A.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:String})],A.prototype,"syncedValue",void 0),A=(0,o.gn)([(0,a.wA)({components:{FontFamilyInput:D.Z}})],A);const Z=A,M=Z;var O=(0,m.Z)(M,E,T,!1,null,null,null);const B=O.exports;var L=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-group",style:e.style},[t("OxygenControls",{attrs:{controls:e.control.controls,path:e.path},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},N=[];let R=class extends a.w3{beforeCreate(){this.$options.components.OxygenControls=n(82078).Z}get style(){return this.control.columns?{"--controls-columns":this.control.columns}:{}}};(0,o.gn)([(0,a.fI)()],R.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],R.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],R.prototype,"path",void 0),R=(0,o.gn)([(0,a.wA)({components:{Icon:y.Z}})],R);const F=R,V=F;var $=(0,m.Z)(V,L,N,!1,null,null,null);const W=$.exports;var U=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-color-input"},[t("ColorInput",{attrs:{"color-options":e.options,inline:e.control.inline,"show-input":!e.control.inline,small:!0,position:"left","show-global":!1},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},z=[],H=n(71821),G=n(57194);let q=class extends a.w3{get options(){return{type:this.control?.colorType||"solidOnly"}}};(0,o.gn)([(0,a.fI)()],q.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],q.prototype,"syncedValue",void 0),q=(0,o.gn)([(0,a.wA)({components:{ColorPicker:G.Z,ColorInput:H.Z}})],q);const K=q,j=K;var X=(0,m.Z)(j,U,z,!1,null,null,null);const Y=X.exports;var Q=n(25770),J=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"container",staticClass:"oxy-margin-padding-input",class:{["oxy-margin-padding-input--disable-margin"]:"padding"===e.draggingType,["oxy-margin-padding-input--disable-padding"]:"margin"===e.draggingType},on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[t("div",{staticClass:"oxy-margin-oxy-padding-drag-bars-wrapper"},[t("div",{staticClass:"oxy-margin-drag-bars"},[t("span",{staticClass:"oxy-margin-label"},[e._v("Margin")]),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.top,type:"margin",side:"top",active:e.isSideActive("margin","top")},on:{input:function(t){return e.updateProperty("margin","top",t)},mouseenter:function(t){return e.setHoveredType("margin","top")},dragging:function(t){return e.setDragging(t,"margin")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.left,type:"margin",side:"left",active:e.isSideActive("margin","left")},on:{input:function(t){return e.updateProperty("margin","left",t)},mouseenter:function(t){return e.setHoveredType("margin","left")},dragging:function(t){return e.setDragging(t,"margin")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.right,type:"margin",side:"right",active:e.isSideActive("margin","right")},on:{input:function(t){return e.updateProperty("margin","right",t)},mouseenter:function(t){return e.setHoveredType("margin","right")},dragging:function(t){return e.setDragging(t,"margin")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.bottom,type:"margin",side:"bottom",active:e.isSideActive("margin","bottom")},on:{input:function(t){return e.updateProperty("margin","bottom",t)},mouseenter:function(t){return e.setHoveredType("margin","bottom")},dragging:function(t){return e.setDragging(t,"margin")}}})],1),t("div",{staticClass:"oxy-padding-drag-bars",on:{mouseenter:function(t){return e.setHoveredType("padding")}}},[t("span",{staticClass:"oxy-margin-label"},[e._v("Padding")]),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.top,type:"padding",side:"top",active:e.isSideActive("padding","top")},on:{input:function(t){return e.updateProperty("padding","top",t)},mouseenter:function(t){return e.setHoveredType("padding","top")},dragging:function(t){return e.setDragging(t,"padding")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.left,type:"padding",side:"left",active:e.isSideActive("padding","left")},on:{input:function(t){return e.updateProperty("padding","left",t)},mouseenter:function(t){return e.setHoveredType("padding","left")},dragging:function(t){return e.setDragging(t,"padding")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.right,type:"padding",side:"right",active:e.isSideActive("padding","right")},on:{input:function(t){return e.updateProperty("padding","right",t)},mouseenter:function(t){return e.setHoveredType("padding","right")},dragging:function(t){return e.setDragging(t,"padding")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.bottom,type:"padding",side:"bottom",active:e.isSideActive("padding","bottom")},on:{input:function(t){return e.updateProperty("padding","bottom",t)},mouseenter:function(t){return e.setHoveredType("padding","bottom")},dragging:function(t){return e.setDragging(t,"padding")}}})],1)])])},ee=[],te=n(20144),ne=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"max-width":e.width,"min-width":e.width,transition:!1,absolute:!0,"position-y":e.menuPosition.y,"position-x":e.menuPosition.x,"close-on-content-click":!1,"content-class":"margin-padding-input-dropdown"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("div",{ref:"activator",class:e.classList,on:{mousedown:e.dragStart,mouseenter:function(t){return e.$emit("mouseenter",t)},dblclick:function(t){return t.stopPropagation(),e.handleDoubleClick.apply(null,arguments)}}},[t("div",e._g(e._b({staticClass:"margin-padding-input-drag-bar-click-area"},"div",s,!1),n),[t("div",{staticClass:"margin-padding-input-drag-bar-value",class:{"margin-padding-input-drag-bar-value--filled":!!e.value,"margin-padding-input-drag-bar-value--global-variable":e.isGlobalVariable}},[e._v(" "+e._s(e.displayValue)+" ")])])])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t("div",{ref:"container",staticClass:"margin-padding-input-dropdown__content"},[t("OxygenControl",{attrs:{control:e.dropdownUnitControl,value:e.value},on:{input:function(t){return e.$emit("input",{value:t,modifierKey:e.dropdownModifierKey})}}}),t("div",{staticClass:"margin-padding-input-presets"},e._l(e.modifiers,(function(n){return t("button",{key:n.value,staticClass:"margin-padding-input-preset",class:{"margin-padding-input-preset--active":e.dropdownModifier===n.value},attrs:{type:"button"},on:{click:function(t){return e.setDropdownModifier(n.value)}}},[e._v(" "+e._s(n.label)+" ")])})),0)],1)])},se=[],ie=n(23493),oe=n.n(ie),ae=n(15133),re=n(12721),le=n(85450),ce=n(95690),de=n(80427);let ue=class extends te.ZP{constructor(){super(...arguments),this.open=!1,this.mouseDragInfo=!1,this.numberWhenDragStarted=!1,this.dropdownModifier="",this.easyEvent=new re.hF,this.transitionKey=void 0,this.throttledDragging=oe()(this.dragging,60),this.menuPosition={x:0,y:0}}onOpenChange(){this.updateMenuPosition(),this.open?(le.uiStore.setPanelState({...le.uiStore.panelState,oxyPanelIsMasked:!0}),this.$nextTick((()=>{this.focusOnInput()}))):le.uiStore.setPanelState({...le.uiStore.panelState,oxyPanelIsMasked:!1})}onValueChange(){this.updateMenuPosition(),"center_horizontally"===this.dropdownModifier&&"auto"!==this.value?.unit&&(this.dropdownModifier="")}get dropdownUnitControl(){return{type:"unit",name:`${this.type}-${this.side}`,slug:"unit"}}get displayValue(){return this.isGlobalVariable?this.shorten(this.variableLabel):0!==this.value?.number&&this.value?"custom"===this.value?.unit?this.shorten(this.value.number):this.shorten(this.value?.style):"0"}get isGlobalVariable(){return(0,x.Hk)(this.value)}get variable(){return(0,x.X_)(this.value)}get overrideVariable(){return(0,x.jN)().find((e=>e.id===this.variable?.id))}get variableLabel(){return this.overrideVariable?this.overrideVariable.label:this.variable?.label}get modifiers(){const e=[{value:"apply_all",label:"Apply all (=)"},{value:"apply_opposite",label:"Apply opposite"},{value:"center_horizontally",label:"Center horizontally",type:"margin",sides:["left","right"]}];return e.filter((({type:e,sides:t})=>(!e||e===this.type)&&!(t&&!t.includes(this.side))))}get width(){return ce.eF}get height(){return 43}get classList(){const e="left"===this.side||"right"===this.side;return{"margin-padding-input-drag-bar":!0,[`oxy-drag-cursor oxy-drag-cursor-${this.type}-${this.side}`]:!0,[`${this.type}-${this.side}-drag-bar`]:!0,"margin-padding-input-drag-bar-horizontal":e,"margin-padding-input-drag-bar--active":this.active}}get elementId(){return le.uiStore.activeElementId}dragCallback(e,t){if(!1===this.numberWhenDragStarted)return;const n="top"===this.side||"bottom"===this.side;let s=n?e.totalYChange:e.totalXChange;const i="padding"===this.type&&("right"===this.side||"bottom"===this.side)||"margin"===this.type&&("left"===this.side||"top"===this.side);i&&(s*=-1);const o=this.value?.unit?this.value.unit:"px";let a;["em"].includes(o)?(s/=10,a=Number(+(this.numberWhenDragStarted+s).toFixed(2))):a=+Number(this.numberWhenDragStarted+s).toFixed(0);const r={unit:o,number:a,style:`${a}${o}`};this.$emit("input",{value:r,modifierKey:t.altKey?"alt":t.shiftKey?"shift":void 0,transactionKey:this.transitionKey})}handleDoubleClick(e){this.$emit("input",{value:null,modifierKey:e.altKey?"alt":e.shiftKey?"shift":void 0})}emit(e){this.$emit("input",{value:e})}dragStart(e){e.stopPropagation(),this.transitionKey=`PropertyChange:Spacing:${this.elementId}:${Date.now()}`,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.$emit("dragging",!0),this.easyEvent.on("mousemove",this.throttledDragging),this.easyEvent.on("mouseup",this.dragEnd),this.numberWhenDragStarted=Number.isNaN(Number(this.value?.number))?0:Number(this.value?.number),document.body.classList.add(`oxy-drag-global-cursor-${this.side}`)}dragging(e){e.preventDefault(),e.stopPropagation(),requestAnimationFrame((()=>this._draggingFunc(e)))}dragEnd(e){e.stopPropagation(),this.easyEvent.off("mousemove",this.throttledDragging),this.easyEvent.off("mouseup",this.dragEnd),this.transitionKey=void 0,this.open=!1,this.mouseDragInfo=!1,this.numberWhenDragStarted=!1;const t=this.side;document.body.classList.remove(`oxy-drag-global-cursor-${t}`),this.$emit("dragging",!1)}_draggingFunc(e){if(!this.mouseDragInfo)return;const t=e.clientX,n=e.clientY,s=t-this.mouseDragInfo.startX,i=n-this.mouseDragInfo.startY,o=1,a=Math.abs(s)>o||Math.abs(i)>o;a&&(this.mouseDragInfo={...this.mouseDragInfo,currentX:t,currentY:n,lastXChange:t-this.mouseDragInfo.currentX,lastYChange:n-this.mouseDragInfo.currentY,totalXChange:s,totalYChange:i},this.dragCallback(this.mouseDragInfo,e))}shorten(e){const t=`${e||""}`,n={margin:{top:30,bottom:30,left:5,right:5},padding:{top:6,bottom:16,left:5,right:5}},s=n[this.type][this.side],i=5,o=10;if(s<=o&&s>=i&&t.length>i)return`${t.slice(0,s)}...`;if(t.length<=s)return t;const a=Math.floor((s-3)/2),r=t.substring(0,a),l=t.substring(t.length-a);return`${r}...${l}`}updateMenuPosition(){const e=this.$refs.activator,t=e.getBoundingClientRect();this.menuPosition.x=t.x+(t.width/2-this.width/2),this.menuPosition.y=t.top+(t.height/2-this.height/2)}focusOnInput(){const e=this.$refs.container;setTimeout((()=>{const t=e.querySelector("input");t&&t.focus()}),100)}get dropdownModifierKey(){return"apply_all"===this.dropdownModifier?"shift":"apply_opposite"===this.dropdownModifier||"center_horizontally"===this.dropdownModifier?"alt":void 0}setDropdownModifier(e){if(e===this.dropdownModifier)return void(this.dropdownModifier="");this.dropdownModifier=e;const t={unit:"auto",number:"",style:"auto"},n="center_horizontally"===this.dropdownModifier?t:this.value;this.$emit("input",{value:n,modifierKey:this.dropdownModifierKey})}maybeToggleAll(e){if("="!==e.key)return;const t=this.$refs.container;t&&t.contains(document.activeElement)&&(e.preventDefault(),this.setDropdownModifier("apply_all"))}mounted(){addEventListener("keydown",this.maybeToggleAll)}beforeDestroy(){removeEventListener("keydown",this.maybeToggleAll)}};(0,o.gn)([(0,a.fI)()],ue.prototype,"value",void 0),(0,o.gn)([(0,a.fI)()],ue.prototype,"type",void 0),(0,o.gn)([(0,a.fI)()],ue.prototype,"side",void 0),(0,o.gn)([(0,a.fI)({default:!1})],ue.prototype,"active",void 0),(0,o.gn)([(0,a.RL)("open")],ue.prototype,"onOpenChange",null),(0,o.gn)([(0,a.RL)("value")],ue.prototype,"onValueChange",null),ue=(0,o.gn)([(0,a.wA)({components:{NiceButton:de.Z,OxygenControl:()=>Promise.resolve().then(n.bind(n,47712)),OxygenUnitInput:f,Dropdown:ae.Z}})],ue);const pe=ue,he=pe;var ge=(0,m.Z)(he,ne,se,!1,null,null,null);const me=ge.exports;let ve=class extends te.ZP{constructor(){super(...arguments),this.easyEvent=new re.hF,this.modifierKey=null,this.hoveredType=null,this.hoveredSide=null,this.dragging=!1,this.draggingType=null}updateProperty(e,t,n){let s;const i=n.value;if("padding"===e&&i&&Number(i.number)<0&&(i.number=0,i.style=`${i.number}${i.unit}`),n.modifierKey)if("alt"===n.modifierKey){const n=ye(t);s={...this.value,[e]:{...this.value?.[e],[t]:i,[n]:i}}}else"shift"===n.modifierKey&&(s={...this.value,[e]:{...this.value?.[e],left:i,right:i,top:i,bottom:i}});else s={...this.value,[e]:{...this.value?.[e],[t]:i}};this.context.setControlValueAt(this.path,le.uiStore.currentBreakpoint.id,s,n?.transactionKey)}isSideActive(e,t){if("shift"===this.modifierKey&&this.hoveredType===e)return!0;if("alt"===this.modifierKey&&this.hoveredType===e){const e=e=>"top"===e||"bottom"===e,n=e=>"left"===e||"right"===e;if(e(this.hoveredSide))return e(t);if(n(this.hoveredSide))return n(t)}return!1}setHoveredType(e,t){this.hoveredType=e,t&&(this.hoveredSide=t)}setDragging(e,t){e?(this.dragging=!0,this.draggingType=t):(this.dragging=!1,this.draggingType=null)}checkMetaKeys(e){e.altKey?this.modifierKey="alt":e.shiftKey?this.modifierKey="shift":this.modifierKey=null}onMouseEnter(e){this.checkMetaKeys(e),this.easyEvent.on("keyup",this.checkMetaKeys),this.easyEvent.on("keydown",this.checkMetaKeys)}onMouseLeave(){this.dragging||(this.hoveredType=null,this.hoveredSide=null,this.easyEvent.off("keyup",this.checkMetaKeys),this.easyEvent.off("keydown",this.checkMetaKeys))}beforeDestroy(){const e=this.$refs.container;e.removeEventListener("mouseenter",this.onMouseEnter),e.removeEventListener("mouseleave",this.onMouseLeave),this.easyEvent.off("keyup",this.checkMetaKeys),this.easyEvent.off("keydown",this.checkMetaKeys)}};(0,o.gn)([(0,a.tB)({from:"oxyContext"})],ve.prototype,"context",void 0),(0,o.gn)([(0,a.fI)()],ve.prototype,"value",void 0),(0,o.gn)([(0,a.fI)()],ve.prototype,"path",void 0),ve=(0,o.gn)([(0,a.wA)({components:{MarginPaddingInputDragBar:me}})],ve);const fe=ve;function ye(e){return"top"===e?"bottom":"left"===e?"right":"right"===e?"left":"top"}const be=fe;var Se=(0,m.Z)(be,J,ee,!1,null,null,null);const _e=Se.exports;var xe=n(70248),Ce=n(61908),we=n(11193),Pe=n(43432),Ie=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-btn-bar"},[e._l(e.visibleItems,(function(n){return t(Pe.Z,{key:n.label,attrs:{text:"Tooltip",bottom:"",disabled:!n?.hideLabel,"open-delay":500},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t("button",e._g(e._b({ref:"items",refInFor:!0,staticClass:"oxy-btn-bar-item",class:{"oxy-btn-bar-item--active":n.value===e.syncedValue},on:{click:function(t){e.syncedValue=n.value}}},"button",i,!1),s),[n.iconHtml?t("span",{domProps:{innerHTML:e._s(n.iconHtml)}}):n.icon?t("Icon",{attrs:{icon:n.icon,size:12}}):e._e(),n?.hideLabel?e._e():t("span",{domProps:{innerHTML:e._s(n.shortLabel||n.label)}})],1)]}}],null,!0)},[t("span",{domProps:{innerHTML:e._s(n.label)}})])})),t("span",{staticClass:"oxy-btn-bar-indicator",style:e.styles}),e.control.hideAfter&&e.items.length>e.control.hideAfter?t("Dropdown",{attrs:{"offset-y":"","nudge-top":-8},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("button",e._g({staticClass:"oxy-btn-bar-menu"},n),[t("Icon",{attrs:{icon:"EllipsisSolidIcon",size:10}})],1)]}}],null,!1,836075016)},[t(xe.Z,{attrs:{dense:""}},e._l(e.hiddenItems,(function(n,s){return t(Ce.Z,{key:s,on:{click:function(t){e.syncedValue=n.value}}},[t(we.V9,[e._v(e._s(n.label))])],1)})),1)],1):e._e()],2)},ke=[],Ee=n(16068),Te=n(16747);let De=class extends a.w3{constructor(){super(...arguments),this.itemX=0,this.itemWidth=null,this.instant=!1}get currentIndex(){return this.visibleItems?.findIndex((e=>e.value===this.syncedValue))}onValueChange(){this.$nextTick((()=>{this.recalculateIndicator()}))}get items(){return this.control.items?.map(Ee.Kq)}get visibleItems(){if(this.control.hideAfter){const e=this.items?.slice(0,this.control.hideAfter),t=e?.some((e=>e.value===this.syncedValue)),n=this.items?.find((e=>e.value===this.syncedValue));return n&&!t?e?.map(((t,s)=>s===e.length-1?{...n}:t)):e}return this.items}get hiddenItems(){const e=this.items?.slice(this.control.hideAfter-1)||[];return e.length>1&&e.push(e.shift()),e}get styles(){return{transition:this.instant?"none":"",transform:`translateX(${this.itemX}px)`,width:this.itemWidth?`${this.itemWidth}px`:"0px"}}recalculateIndicator(e=!1){this.instant=e,this.$nextTick((()=>{const e=this.$refs.items||[];if(-1===this.currentIndex||void 0==this.currentIndex)return void(this.itemWidth=null);const t=e[this.currentIndex];t&&(this.itemX=t.offsetLeft,this.itemWidth=t.offsetWidth)}))}mounted(){this.recalculateIndicator(!0),setTimeout((()=>this.recalculateIndicator(!0)),100)}};(0,o.gn)([(0,a.fI)()],De.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],De.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.RL)("syncedValue")],De.prototype,"onValueChange",null),De=(0,o.gn)([(0,a.wA)({components:{UnitDropdown:Te.Z,Dropdown:ae.Z,Icon:y.Z}})],De);const Ae=De,Ze=Ae;var Me=(0,m.Z)(Ze,Ie,ke,!1,null,null,null);const Oe=Me.exports;var Be=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-accordion"},[t("OxygenCopyPastContextMenu",{attrs:{name:e.control.name,path:e.path},scopedSlots:e._u([{key:"default",fn:function({openContextMenu:n}){return[t("button",{staticClass:"oxy-accordion-name",on:{click:function(t){e.open=!e.open},contextmenu:n}},[e._v(" "+e._s(e.control.name)+" "),e.filled?t("OxyIndicatorLights",{attrs:{"reset-on-click":!1}}):e._e(),t("Icon",{staticClass:"oxy-accordion-arrow",attrs:{icon:e.open?"ChevronDownIcon":"ChevronRightIcon",size:10}})],1)]}}]),model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}}),e.open?t("div",{staticClass:"oxy-accordion-content"},[t("OxygenControls",{attrs:{controls:e.filteredControls,path:e.fullPath},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}}),e.control.hideAfter?t("NiceButton",{staticClass:"mt-3",attrs:{expanded:!0,size:"small"},on:{click:function(t){e.showAll=!e.showAll}}},[e.showAll?t("Icon",{attrs:{icon:"ChevronDownSolidIcon",rotate:"180"}}):t("Icon",{attrs:{icon:"EllipsisSolidIcon"}})],1):e._e()],1):e._e()],1)},Le=[],Ne=n(47256),Re=n(92221),Fe=n(88806);let Ve=class extends a.w3{constructor(){super(...arguments),this.open=!1,this.showAll=!1}onControlChange(){this.open=this.control.open||!1}beforeCreate(){this.$options.components.OxygenControls=n(82078).Z}get fullPath(){return`${this.path}`}get filled(){return(0,Ne.vr)(this.syncedValue)}get filteredControls(){const e=this.control.hideAfter;return e&&!this.showAll?this.control.controls?.slice(0,e):this.control.controls}};(0,o.gn)([(0,a.fI)()],Ve.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],Ve.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],Ve.prototype,"path",void 0),(0,o.gn)([(0,a.RL)("control",{immediate:!0,deep:!0})],Ve.prototype,"onControlChange",null),Ve=(0,o.gn)([(0,a.wA)({components:{OxygenCopyPastContextMenu:Fe.Z,OxyIndicatorLights:Re.Z,NiceButton:de.Z,Icon:y.Z}})],Ve);const $e=Ve,We=$e;var Ue=(0,m.Z)(We,Be,Le,!1,null,null,null);const ze=Ue.exports;var He=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-number-input"},[t("NumberInput",{attrs:{"range-options":e.rangeOptions,arrows:e.arrows},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},Ge=[],qe=n(23267);let Ke=class extends a.w3{get rangeOptions(){return{min:this.control.min,max:this.control.max,step:this.control.step}}get arrows(){return!1!==this.control.arrows}};(0,o.gn)([(0,a.fI)()],Ke.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:Number})],Ke.prototype,"syncedValue",void 0),Ke=(0,o.gn)([(0,a.wA)({components:{NumberInput:qe.Z,UnitInput:u.Z}})],Ke);const je=Ke,Xe=je;var Ye=(0,m.Z)(Xe,He,Ge,!1,null,null,null);const Qe=Ye.exports;var Je=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-text-input"},[t("TextInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},et=[],tt=n(41571);let nt=class extends a.w3{};(0,o.gn)([(0,a.fI)()],nt.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:String})],nt.prototype,"syncedValue",void 0),nt=(0,o.gn)([(0,a.wA)({components:{TextInput:tt.Z}})],nt);const st=nt,it=st;var ot=(0,m.Z)(it,Je,et,!1,null,null,null);const at=ot.exports;var rt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-code-input"},[t("CodeInput",{attrs:{language:e.control.language,"autofill-on-empty":e.control.autofillOnEmpty,placeholder:e.placeholder},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},lt=[],ct=n(21536);let dt=class extends a.w3{};(0,o.gn)([(0,a.fI)()],dt.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:String})],dt.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],dt.prototype,"placeholder",void 0),dt=(0,o.gn)([(0,a.wA)({components:{CodeInput:ct.Z,TextInput:tt.Z}})],dt);const ut=dt,pt=ut;var ht=(0,m.Z)(pt,rt,lt,!1,null,null,null);const gt=ht.exports;var mt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-align-input"},[t("AlignGrid",{attrs:{display:e.display,direction:e.direction},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}}),t("div",{staticClass:"oxy-align-input-controls"},[t("OxygenControl",{attrs:{control:e.primaryControl,value:e.syncedValue[e.isFlexRow?"primary_axis":"cross_axis"],path:e.path},on:{input:function(t){return e.updateInnerValue(e.isFlexRow?"primary_axis":"cross_axis",t)}}}),t("OxygenControl",{attrs:{control:e.crossControl,value:e.syncedValue[e.isFlexRow?"cross_axis":"primary_axis"],path:e.path},on:{input:function(t){return e.updateInnerValue(e.isFlexRow?"cross_axis":"primary_axis",t)}}})],1)],1)},vt=[],ft=n(36968),yt=n.n(ft),bt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-align-grid-container"},[t("div",{staticClass:"oxy-align-grid"},e._l(e.gridOptions,(function([n,s],i){return t("span",{key:i,staticClass:"oxy-align-grid-point",on:{click:function(t){return e.setValue(n,s)},dblclick:function(t){return t.stopPropagation(),e.onDoubleClick(n,s)},mouseenter:function(t){return e.onDotEnter(n,s)},mouseleave:e.onDotLeave}},[e.isDotVisible(n,s)?t("span",{staticClass:"oxy-align-grid-point-dot"}):e._e()])})),0),e.syncedValue.primary_axis||e.syncedValue.cross_axis?t("AlignGridIndicator",{attrs:{display:e.display,direction:e.direction,x:e.syncedValue.primary_axis,y:e.syncedValue.cross_axis}}):e._e(),e.showHoverIndicator?t("AlignGridIndicator",{attrs:{display:e.display,direction:e.direction,x:e.hoverIndicatorX,y:e.hoverIndicatorY,hover:!0}}):e._e()],1)},St=[],_t=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-align-grid-overlay",class:{"oxy-align-grid-overlay--hover":e.hover},style:{flexFlow:e.direction,justifyContent:e.x,alignItems:e.y}},[t("div",{staticClass:"oxy-align-grid-indicator",class:{[`oxy-align-grid-indicator--${e.display}`]:!0,[`oxy-align-grid-indicator--${e.direction}`]:!0,[`oxy-align-grid-indicator--primary-axis-${e.x}`]:!0,[`oxy-align-grid-indicator--cross-axis-${e.y}`]:!0},style:{flexFlow:e.direction,alignItems:e.y,justifyContent:e.x}},["baseline"===e.y?t("div",{staticClass:"oxy-align-grid-indicator-baseline"},[e._v(" A "),t("Icon",{attrs:{icon:"ArrowDownIcon",size:10}})],1):[t("span"),t("span"),t("span"),t("span"),t("span")]],2)])},xt=[];let Ct=class extends a.w3{};(0,o.gn)([(0,a.fI)()],Ct.prototype,"display",void 0),(0,o.gn)([(0,a.fI)()],Ct.prototype,"direction",void 0),(0,o.gn)([(0,a.fI)()],Ct.prototype,"x",void 0),(0,o.gn)([(0,a.fI)()],Ct.prototype,"y",void 0),(0,o.gn)([(0,a.fI)()],Ct.prototype,"hover",void 0),Ct=(0,o.gn)([(0,a.wA)({components:{Icon:y.Z}})],Ct);const wt=Ct,Pt=wt;var It=(0,m.Z)(Pt,_t,xt,!1,null,null,null);const kt=It.exports;let Et=class extends a.w3{constructor(){super(...arguments),this.shiftKey=!1,this.altKey=!1,this.columnOptions=[["start","start"],["center","start"],["end","start"],["start","center"],["center","center"],["end","center"],["start","end"],["center","end"],["end","end"]],this.rowOptions=[["start","start"],["start","center"],["start","end"],["center","start"],["center","center"],["center","end"],["end","start"],["end","center"],["end","end"]],this.hoveredValue={primary_axis:null,cross_axis:null}}get invert(){return["row","wrap"].includes(this.direction)}get gridOptions(){return this.invert?this.columnOptions:this.rowOptions}get showHoverIndicator(){const{primary_axis:e,cross_axis:t}=this.syncedValue,{primary_axis:n,cross_axis:s}=this.hoveredValue;if(e===this.hoverIndicatorX&&"stretch"===this.hoverIndicatorY)return!0;if("space-between"===e&&"stretch"===t)return!1;const i=n&&s,o=this.hoverIndicatorX!==e||s!==t,a=!(this.isDistributionAlignment(e)&&s===t);return i&&o&&a}get hoverIndicatorX(){return"flex"!==this.display||!this.shiftKey&&"space-between"!==this.syncedValue.primary_axis?this.hoveredValue.primary_axis:"space-between"}get hoverIndicatorY(){return this.altKey||"stretch"===this.syncedValue.cross_axis?"stretch":this.hoveredValue.cross_axis}isDistributionAlignment(e){return["space-between","space-around"].includes(e)}setValue(e,t){this.shiftKey&&"flex"===this.display?this.syncedValue.primary_axis="space-between":this.isDistributionAlignment(this.syncedValue.primary_axis)||(this.syncedValue.primary_axis=e),this.altKey?this.syncedValue.cross_axis="stretch":"stretch"!==this.syncedValue.cross_axis&&(this.syncedValue.cross_axis=t),this.syncedValue={...this.syncedValue}}onDoubleClick(e,t){const n="flex"===this.display?"space-between":"stretch";this.syncedValue.primary_axis===n?this.syncedValue.primary_axis=e:this.syncedValue.primary_axis=n,"stretch"===this.syncedValue.cross_axis&&(this.syncedValue.cross_axis=t),this.syncedValue={...this.syncedValue}}onKeyDown(e){this.shiftKey=e.shiftKey,this.altKey=e.altKey}onDotEnter(e,t){this.hoveredValue={primary_axis:e,cross_axis:t}}onDotLeave(){this.hoveredValue={primary_axis:null,cross_axis:null}}resetKeysOnTabOut(){this.shiftKey=!1,this.altKey=!1}isDotVisible(e,t){const{primary_axis:n,cross_axis:s}=this.syncedValue,i=this.hoveredValue.primary_axis,o=this.hoveredValue.cross_axis;return("space-between"!==n||"stretch"!==s)&&(!("space-between"===n&&t===s||"space-between"===this.hoverIndicatorX&&t===o)&&((e!==n||t!==s)&&(e!==i||t!==o)))}mounted(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyDown),document.addEventListener("visibilitychange",this.resetKeysOnTabOut)}beforeDestroy(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyDown),document.removeEventListener("visibilitychange",this.resetKeysOnTabOut)}};(0,o.gn)([(0,a.yU)("value","input",{default:()=>({primary_axis:null,cross_axis:null})})],Et.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],Et.prototype,"display",void 0),(0,o.gn)([(0,a.fI)()],Et.prototype,"direction",void 0),Et=(0,o.gn)([(0,a.wA)({components:{AlignGridIndicator:kt}})],Et);const Tt=Et,Dt=Tt;var At=(0,m.Z)(Dt,bt,St,!1,null,null,null);const Zt=At.exports;var Mt=n(31044);let Ot=class extends a.w3{constructor(){super(...arguments),this.verticalAlignment=[{value:"start",label:"Left"},{value:"center",label:"Center"},{value:"end",label:"Right"}],this.horizontalAlignment=[{value:"start",label:"Top"},{value:"center",label:"Center"},{value:"end",label:"Bottom"}],this.positionAlignment=[{value:"stretch",label:"Stretch"},{value:"baseline",label:"Baseline"}],this.distributionAlignment=[{value:"space-between",label:"Space Between"},{value:"space-around",label:"Space Around"}]}beforeCreate(){this.$options.components.OxygenControl=n(47712)["default"]}get layout(){return this.context.getParentControlValueAt(this.path,this.breakpoint)}get breakpoint(){return Mt.kD.currentBreakpoint.id}get display(){return this.layout?.display||"flex"}get direction(){return"grid"===this.display?"column":this.layout?.flex_direction||"row"}get isFlexRow(){return"flex"===this.display&&["row","wrap"].includes(this.direction)}get primaryControl(){const e=this.isFlexRow?[...this.verticalAlignment,...this.distributionAlignment]:[...this.verticalAlignment,...this.positionAlignment];return{slug:"primary_axis",name:"X",type:"select",items:e}}get crossControl(){const e=this.isFlexRow||"grid"===this.display?[...this.horizontalAlignment,...this.positionAlignment]:[...this.horizontalAlignment,...this.distributionAlignment];return{slug:"cross_axis",name:"Y",type:"select",items:e}}updateInnerValue(e,t){this.syncedValue=yt()(this.syncedValue,e,t)}};(0,o.gn)([(0,a.fI)()],Ot.prototype,"control",void 0),(0,o.gn)([(0,a.fI)()],Ot.prototype,"path",void 0),(0,o.gn)([(0,a.yU)("value","input",{default:()=>({})})],Ot.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.tB)({from:"oxyContext"})],Ot.prototype,"context",void 0),Ot=(0,o.gn)([(0,a.wA)({components:{AlignGrid:Zt}})],Ot);const Bt=Ot,Lt=Bt;var Nt=(0,m.Z)(Lt,mt,vt,!1,null,null,null);const Rt=Nt.exports;var Ft=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-border-input"},[t("BorderComplex",{attrs:{"accepts-variable":!0},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},Vt=[],$t=n(86767);let Wt=class extends a.w3{};(0,o.gn)([(0,a.fI)()],Wt.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],Wt.prototype,"syncedValue",void 0),Wt=(0,o.gn)([(0,a.wA)({components:{BorderComplex:$t.Z}})],Wt);const Ut=Wt,zt=Ut;var Ht=(0,m.Z)(zt,Ft,Vt,!1,null,null,null);const Gt=Ht.exports;var qt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-border-radius-input"},[t("BorderRadius",{attrs:{"accepts-variable":!0},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},Kt=[],jt=n(90801);let Xt=class extends a.w3{};(0,o.gn)([(0,a.fI)()],Xt.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],Xt.prototype,"syncedValue",void 0),Xt=(0,o.gn)([(0,a.wA)({components:{BorderRadius:jt.Z,BorderComplex:$t.Z}})],Xt);const Yt=Xt,Qt=Yt;var Jt=(0,m.Z)(Qt,qt,Kt,!1,null,"58c4d6ca",null);const en=Jt.exports;var tn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-text-input"},[t("FocusPointInput",{attrs:{options:{gridMode:!0}},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},nn=[],sn=n(78127);let on=class extends a.w3{};(0,o.gn)([(0,a.fI)()],on.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:Object})],on.prototype,"syncedValue",void 0),on=(0,o.gn)([(0,a.wA)({components:{FocusPointInput:sn.Z,TextInput:tt.Z}})],on);const an=on,rn=an;var ln=(0,m.Z)(rn,tn,nn,!1,null,null,null);const cn=ln.exports;var dn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-repeater-input"},[t("Repeater",{attrs:{control:{options:{repeaterOptions:e.options}}},scopedSlots:e._u([{key:"default",fn:function({value:n,index:s}){return[t("OxygenControls",{attrs:{controls:e.getItemControls(s),value:n,path:`${e.path}[${s}]`},on:{input:function(t){return e.updateItem(t,s)}}})]}}]),model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},un=[],pn=n(19508),hn=n(23128),gn=n(37156);let mn=class extends te.ZP{beforeCreate(){this.$options.components.OxygenControls=n(82078).Z}get isDisabled(){return""}get options(){return{popupMode:!0,itemIcon:this.control.itemIcon,itemColorPath:this.control.itemColorPath,titleTemplate:this.control.titleTemplate,defaultTitle:this.control.defaultTitle,buttonName:this.control.buttonName,defaultNewValue:this.control.defaultNewValue,duplicateNewValue:this.control.duplicateNewValue,deleteText:this.control.deleteText,noDuplicate:this.control.noDuplicate,noDisable:this.control.noDisable,noDataMessage:this.control.noDataMessage,noExpand:this.control.noExpand}}updateItem(e,t){const n=(0,hn.Z)(this.syncedValue)||[];n[t]=e,this.$emit("input",n)}getItemControls(e){const t=this.control.controls.map((t=>{const n=(0,gn.C)(t.conditions,e);return{...t,conditions:n}}));return t}};(0,o.gn)([(0,a.fI)()],mn.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],mn.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],mn.prototype,"path",void 0),mn=(0,o.gn)([(0,a.wA)({components:{Repeater:pn.Z}})],mn);const vn=mn,fn=vn;var yn=(0,m.Z)(fn,dn,un,!1,null,null,null);const bn=yn.exports;var Sn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-media-input"},[t("WPMediaInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},_n=[],xn=n(90308);let Cn=class extends a.w3{};(0,o.gn)([(0,a.fI)()],Cn.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],Cn.prototype,"syncedValue",void 0),Cn=(0,o.gn)([(0,a.wA)({components:{WPMediaInput:xn.Z,TextInput:tt.Z}})],Cn);const wn=Cn,Pn=wn;var In=(0,m.Z)(Pn,Sn,_n,!1,null,null,null);const kn=In.exports;var En=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("VideoInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})},Tn=[],Dn=n(30360);let An=class extends a.w3{};(0,o.gn)([(0,a.fI)()],An.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],An.prototype,"syncedValue",void 0),An=(0,o.gn)([(0,a.wA)({components:{VideoInput:Dn.Z}})],An);const Zn=An,Mn=Zn;var On=(0,m.Z)(Mn,En,Tn,!1,null,"97cfc5b4",null);const Bn=On.exports;var Ln=n(14192),Nn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("MediaSizeInput",{attrs:{"raw-image":e.image},on:{"update-image":e.updateImage},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})},Rn=[],Fn=n(10128);let Vn=class extends a.w3{get breakpoint(){return Mt.kD.currentBreakpoint.id}get background(){return this.context.getParentControlValueAt(this.path,this.breakpoint)}get image(){return this.background?.[this.imagePath]}get imagePath(){return this.control.imagePath||"image"}updateImage(e){const t=this.path.split(".").slice(0,-1).join("."),n=`${t}.${this.imagePath}`;this.context.setControlValueAt(n,this.breakpoint,e)}};(0,o.gn)([(0,a.fI)()],Vn.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],Vn.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.tB)({from:"oxyContext"})],Vn.prototype,"context",void 0),(0,o.gn)([(0,a.fI)()],Vn.prototype,"path",void 0),Vn=(0,o.gn)([(0,a.wA)({components:{MediaSizeInput:Fn.Z}})],Vn);const $n=Vn,Wn=$n;var Un=(0,m.Z)(Wn,Nn,Rn,!1,null,"7ab6489a",null);const zn=Un.exports;var Hn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Pe.Z,{attrs:{"content-class":"oxy-tooltip",bottom:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("button",e._g({staticClass:"oxy-button-input",class:{"oxy-button-input--true":e.syncedValue,"oxy-button-input--false":!e.syncedValue,"oxy-button-input--disabled":e.control.disabled},on:{click:function(t){e.syncedValue=!e.syncedValue}}},n),[e.control.icon?t("Icon",{attrs:{icon:e.control.icon}}):e._e(),e.control.hideButtonLabel?e._e():t("span",[e._v(" "+e._s(e.syncedValue?e.control.trueValue:e.control.falseValue)+" ")])],1)]}}])},[t("span",[e._v(e._s(e.control.name))])])},Gn=[];let qn=class extends a.w3{};(0,o.gn)([(0,a.fI)()],qn.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:Boolean})],qn.prototype,"syncedValue",void 0),qn=(0,o.gn)([(0,a.wA)({components:{IconButton:b.Z,Icon:y.Z}})],qn);const Kn=qn,jn=Kn;var Xn=(0,m.Z)(jn,Hn,Gn,!1,null,null,null);const Yn=Xn.exports;var Qn=n(59810),Jn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-variables-input"},[t("OverrideVariablesInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},es=[],ts=n(23330);let ns=class extends a.w3{};(0,o.gn)([(0,a.fI)()],ns.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input",{type:Array})],ns.prototype,"syncedValue",void 0),ns=(0,o.gn)([(0,a.wA)({components:{OverrideVariablesInput:ts.Z}})],ns);const ss=ns,is=ss;var os=(0,m.Z)(is,Jn,es,!1,null,null,null);const as=os.exports;var rs=n(8057);let ls=class extends a.w3{get showLabel(){return!this.control.hideLabel&&!["accordion"].includes(this.control.type)}get filled(){return(0,Ne.vr)(this.syncedValue)}get disabled(){return!!this.path&&(!!this.control.disabledConditions&&(0,Qn.kq)(this.control.disabledConditions,this.context?.getInheritanceMap?.()))}get isVariableSupported(){return(0,x.lZ)(this.control)}get componentName(){return`oxygen-${this.control.type}-input`}get variableType(){return(0,x.Zp)(this.control)}get fullPath(){return this.path?`${this.path}.${this.control.slug}`:this.control.slug}resetControl(){this.syncedValue=void 0}};(0,o.gn)([(0,a.fI)()],ls.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],ls.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.fI)()],ls.prototype,"path",void 0),(0,o.gn)([(0,a.tB)({from:"oxyContext"})],ls.prototype,"context",void 0),ls=(0,o.gn)([(0,a.wA)({components:{OxygenControlName:rs.Z,OxygenVariablesInput:as,OxygenGapInput:k,OxygenTextInput:at,OxygenUnitInput:f,OxygenCodeInput:gt,OxygenGroupInput:W,OxygenAlignInput:Rt,OxygenColorInput:Y,OxygenMediaInput:kn,OxygenVideoInput:Bn,OxygenSelectInput:Q.Z,OxygenNumberInput:Qe,OxygenBorderInput:Gt,OxygenButtonInput:Yn,OxygenSpacingInput:_e,OxygenRepeaterInput:bn,OxygenButtonBarInput:Oe,OxygenAccordionInput:ze,OxygenFocusPointInput:cn,OxygenFontFamilyInput:B,OxygenBorderRadiusInput:en,OxygenMediaSizeInput:zn,VariableBoundInput:Ln.Z}})],ls);const cs=ls,ds=cs;var us=(0,m.Z)(ds,s,i,!1,null,null,null);const ps=us.exports},82078:(e,t,n)=>{n.d(t,{Z:()=>m});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-controls",class:{"oxy-controls-root":e.root}},e._l(e.filteredControls,(function(n){return t("OxygenControl",{key:n.slug,attrs:{control:n,path:e.path,value:e.syncedValue?.[n.slug]},on:{input:function(t){return e.updateControlValue(n,t)}}})})),1)},i=[],o=n(70655),a=n(38085),r=n(47712),l=n(23128),c=n(59810);let d=class extends a.w3{get filteredControls(){const e=this.context?.getInheritanceMap?.()||{};return this.controls.filter((t=>(0,c.kq)(t.conditions,e)))}updateControlValue(e,t){const n=(0,l.Z)(this.syncedValue);this.$emit("input",{...n,[e.slug]:t})}updateContext(e){this.$emit("input",e)}};(0,o.gn)([(0,a.fI)({default:()=>[]})],d.prototype,"controls",void 0),(0,o.gn)([(0,a.fI)({default:!1})],d.prototype,"root",void 0),(0,o.gn)([(0,a.fI)()],d.prototype,"path",void 0),(0,o.gn)([(0,a.yU)("value","input")],d.prototype,"syncedValue",void 0),(0,o.gn)([(0,a.tB)({from:"oxyContext",default:null})],d.prototype,"context",void 0),d=(0,o.gn)([(0,a.wA)({components:{OxygenControl:r["default"]}})],d);const u=d,p=u;var h=n(1001),g=(0,h.Z)(p,s,i,!1,null,null,null);const m=g.exports},25770:(e,t,n)=>{n.d(t,{Z:()=>m});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-select-input"},[t("DropdownInput",{attrs:{items:e.items,placeholder:e.control.placeholder},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},i=[],o=n(70655),a=n(38085),r=n(56125),l=n(16068),c=n(85283);let d=class extends a.w3{get items(){return this.control.items?.map(l.Nd)}};(0,o.gn)([(0,a.fI)()],d.prototype,"control",void 0),(0,o.gn)([(0,a.yU)("value","input")],d.prototype,"syncedValue",void 0),d=(0,o.gn)([(0,a.wA)({components:{Icon:c.Z,DropdownInput:r.Z}})],d);const u=d,p=u;var h=n(1001),g=(0,h.Z)(p,s,i,!1,null,"5e60ba52",null);const m=g.exports},88806:(e,t,n)=>{n.d(t,{Z:()=>S});var s=n(70248),i=n(61908),o=n(11193),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"copy-paste-context-menu"},[e._t("default",null,{openContextMenu:e.openContextMenu}),t("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":"","close-on-click":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[t(s.Z,{ref:"list"},[t(i.Z,{attrs:{dense:"",disabled:!e.canCopy},on:{click:e.copyData}},[t(o.V9,[e._v(" Copy "),e.name?t("em",[e._v(e._s(e.name))]):e._e()])],1),t(i.Z,{attrs:{dense:"",disabled:!e.canPaste},on:{click:e.pasteData}},[t(o.V9,[e._v(" Paste "),e.name?t("em",[e._v(e._s(e.name))]):e._e()])],1),t(i.Z,{attrs:{dense:"",disabled:!e.canClear},on:{click:e.clearData}},[t(o.V9,[e._v(" Clear "),e.name?t("em",[e._v(e._s(e.name))]):e._e()])],1)],1)],1)],2)},r=[],l=n(70655),c=n(38085),d=n(15133),u=n(3735),p=n(65669),h=n(48973),g=n(89028);let m=class extends c.w3{constructor(){super(...arguments),this.dataToPaste=null,this.contextMenu=!1,this.contextMenuX=0,this.contextMenuY=0}get canCopy(){return null!==this.syncedValue&&void 0!==this.syncedValue}get canPaste(){return!!this.dataToPaste&&(this.dataToPaste.path===this.path&&this.dataToPaste.data)}get canClear(){return null!==this.syncedValue&&void 0!==this.syncedValue}onContextMenuChange(){this.contextMenu||document.removeEventListener("mousedown",this.closeIfRightClick)}openContextMenu(e){e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((()=>{this.contextMenu=!0,this.updateCanPaste(),document.addEventListener("mousedown",this.closeIfRightClick)}))}closeIfRightClick(e){2===e.button&&(this.contextMenu=!1)}copyData(){console.log("Copy data",this.syncedValue);const e={oxy:{path:this.path,data:this.syncedValue}};(0,u.zG)(e,p.J,(0,h.g_)((e=>console.error("Failed to copy",...e.map((e=>e.toString())))),(e=>(0,g.l9)(e)))),this.updateCanPaste()}pasteData(){this.dataToPaste&&(this.syncedValue=this.dataToPaste.data)}clearData(){this.syncedValue=null}async updateCanPaste(){this.dataToPaste=(await(0,g.ij)())?.oxy||null}beforeDestroy(){document.removeEventListener("mousedown",this.closeIfRightClick)}};(0,l.gn)([(0,c.yU)("value","input")],m.prototype,"syncedValue",void 0),(0,l.gn)([(0,c.fI)()],m.prototype,"name",void 0),(0,l.gn)([(0,c.fI)()],m.prototype,"path",void 0),(0,l.gn)([(0,c.RL)("contextMenu")],m.prototype,"onContextMenuChange",null),m=(0,l.gn)([(0,c.wA)({components:{Dropdown:d.Z}})],m);const v=m,f=v;var y=n(1001),b=(0,y.Z)(f,a,r,!1,null,null,null);const S=b.exports},5502:(e,t,n)=>{function s(e,t,n,s,o){function a(e,r){if(i(e)){const s={};for(const i in e){if(i===t)return e[i];if(n.includes(i))continue;const o=a(e[i],`${r?`${r}.`:""}${i}`);void 0!==o&&(s[i]=o)}return Object.keys(s).length?s:void 0}if(Array.isArray(e)){const t=[];if(e.forEach((e=>{t.push(a(e,`${r}[]`))})),0===t.filter((e=>void 0!==e)).length)return;return t.length?t:void 0}const l=r&&o?.some((e=>r.startsWith(e)));return t===s||l?e:void 0}return a(e,"")}function i(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}n.d(t,{A:()=>s,S:()=>i})},89028:(e,t,n)=>{n.d(t,{Ku:()=>W,us:()=>U,NA:()=>N,wp:()=>L,ij:()=>B,Wm:()=>F,HR:()=>V,qb:()=>$,gR:()=>O,uV:()=>D,l9:()=>M});var s=n(27361),i=n.n(s),o=n(31381),a=n(85450),r=n(45974),l=n(30902),c=n(9950),d=n(69137),u=n(23128),p=n(65118),h=n(65669),g=n(84274),m=n(17879),v=n(8773),f=n(12721),y=n(31737),b=n(31549),S=n(75031),_=n(32521);const x=_.G0([S.NM,_.IX(S.NM)]),C=_.dt({controlSectionShapeHash:_.Z_,propertiesData:_.dt({propertiesData:_._4})}),w=_.dt({path:_.Z_,data:_._4}),P=_.r$({element:x,controlSectionPropertiesData:C,oxy:w});var I=n(39715),k=n(98949),E=n(47354);const T=new f.hF;function D(){return{register(){T.on("copy",A),T.on("cut",A),T.on("paste",A)},unbind(){T.removeAll()}}}function A(e){if((0,E.o8)())return;const t=window.Breakdance.canvas.document,n=(0,y.SD)(t)||(0,y.SD)(document);n||(e.preventDefault(),"copy"===e.type&&a.uiStore.activeElementId?N(a.uiStore.activeElementId):"cut"===e.type&&a.uiStore.activeElementId?R(a.uiStore.activeElementId):"paste"===e.type&&F(a.uiStore.activeElementId,e))}async function Z(e){const{secure:t,permission:n}=await(0,y.fn)();return e&&!window.safari?"event":t?null===n||"denied"===n.state?"localstorage":"clipboard":"localstorage"}async function M(e){try{await navigator.clipboard.writeText(e),console.debug("Writing to clipboard")}catch(t){(0,y._G)(e),console.debug("Fallback: Writing to clipboard")}(0,b.r)("breakdance_clipboard",e)}async function O(e){const t=e?.clipboardData?.getData("text"),n=await Z(e);return console.debug(`Reading clipboard from ${n}`),"event"===n?t:"localstorage"===n?(0,b.z)("breakdance_clipboard"):await navigator.clipboard.readText()}async function B(e){const t=await O(e);if(!t)return null;const n=(0,p.Z)(t,P);return(0,l.pipe)(n,(0,r.fold)((()=>null),(e=>e??null)))}function L(e){const t=[];e.forEach((e=>{const n=(0,o.findNode)(a.documentStore.document.tree,e);n&&t.push((0,o.exportNode)(n))}));const n=(0,I.G)(t);(0,l.pipe)(n,h.J,(0,r.fold)((e=>console.error("Failed to copy element",...e.map((e=>e.toString())))),(e=>{M(e)})))}function N(e){const t=(0,o.findNode)(a.documentStore.document.tree,e);if(!t)return;const n=(0,o.exportNode)(t),s=(0,I.G)(n);(0,l.pipe)(s,h.J,(0,r.fold)((e=>console.error("Failed to copy element",...e.map((e=>e.toString())))),(e=>{M(e)})))}function R(e){N(e),a.documentStore.deleteElement({nodeId:e})}async function F(e,t){if("success"!==a.configStore.elementsLoadingState)return;const n=(await B(t))?.element;n&&(Array.isArray(n)?(0,k.AE)(n,"pasting"):V(e,n))}function V(e,t){const n=(0,c.Z)(a.documentStore.document.tree,e,(0,c.kE)(t)),s=(0,v.Z)(),i=`Paste:${s}`;(0,l.pipe)(n,(0,r.fold)((()=>{}),(e=>{"TOP_LEVEL"===e?d.n.transaction((()=>{const e={nodeId:void 0};a.documentStore.addElementMutation({elementSlug:(0,c.zV)(),parentNodeId:a.documentStore.document.tree.root.id,index:!1,pointer:e}),void 0!==e.nodeId&&(a.documentStore.pasteCopiedElementMutation({element:t,placeToAddId:e.nodeId,placeToAddIndex:0}),m.w.run.onCreatedElement({elementId:t.id,transactionKey:i}))}),`Paste copied ${(0,g.JC)(t.data.type)} into a new section`,i):d.n.transaction((()=>{const n={nodeId:void 0};a.documentStore.pasteCopiedElementMutation({element:t,placeToAddId:e.place.id,placeToAddIndex:e.index||e.place.children.length,pointer:n}),n.nodeId&&m.w.run.onCreatedElement({elementId:n.nodeId,transactionKey:i})}),`Paste copied ${(0,g.JC)(t.data.type)}`,i)})))}async function $(e,t="design"){const n=(await B())?.element;if(Array.isArray(n))return;if(!n)return;const s=(0,o.findNode)(a.documentStore.document.tree,e);if(!s)return;const r=i()(n.data.properties,t,null);n.data.type===s.data.type&&a.documentStore.throttledPropertyChanged({elementId:s.id,path:t,value:(0,u.Z)(r),meta:{snapshotLabel:`Paste properties of ${(0,g.JC)(n.data.type)} to ${(0,g.JC)(s.data.type)}`}})}async function W(e){if("success"!==a.configStore.elementsLoadingState)return!1;const t=(await B())?.element;if(Array.isArray(t))return!0;if(!t)return!1;const n=(0,c.Z)(a.documentStore.document.tree,e,(0,c.kE)(t));return(0,r.isRight)(n)}async function U(e){const t=(await B())?.element;if(Array.isArray(t))return!1;if(!t)return!1;const n=(0,o.findNode)(a.documentStore.document.tree,e);return t.data.type===n?.data.type}},39715:(e,t,n)=>{function s(e){return{element:e}}n.d(t,{G:()=>s})},31737:(e,t,n)=>{async function s(){try{return await navigator.permissions.query({name:"clipboard-read",allowWithoutGesture:!1})}catch(e){return null}}async function i(){const e=await s();return{secure:window.isSecureContext,permission:e}}function o(e){const t=document.createElement("textarea");let n;t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",t.classList.add("breakdance-offscreen-input"),document.body.appendChild(t),t.focus(),t.select();try{n=document.execCommand("copy")}catch(s){n=!1}return document.body.removeChild(t),n}function a(e){return"INPUT"===e?.nodeName}function r(e){const t=["button","checkbox","hidden","file","radio","image","range","reset","submit","number","email","time"];return a(e)&&e.type&&!t.includes(e.type)||"TEXTAREA"===e.nodeName||"true"===e.contentEditable}function l(e){const t=e?.defaultView?.getSelection(),n=t?.rangeCount?t.getRangeAt(0):null;return!!n&&!n.collapsed}function c(e){const t=e.activeElement;return t&&(a(t)||r(t)||l(e))}n.d(t,{SD:()=>c,_G:()=>o,fn:()=>i})},11815:(e,t,n)=>{function s({namespace:e,phpClassName:t,uiIcon:n,tag:s,tagOptions:i,tagControlPath:o,name:a,className:r,category:l,badge:c,defaultProperties:d,defaultChildrenElements:u,designControls:p,contentControls:h,settingsControls:g,dependencies:m,settings:v,addPanelRules:f,actions:y,nestingRules:b,spacingBars:S,attributes:_,experimental:x,availableIn:C,order:w,additionalClasses:P,projectManagement:I,propertyPathsToWhitelistInFlatProps:k,propertyPathsToSsrElementWhenValueChanges:E}){return`<?php\n\nnamespace ${e};\n\nuse function Breakdance\\Elements\\c;\nuse function Breakdance\\Elements\\PresetSections\\getPresetSection;\n\n\n\\Breakdance\\ElementStudio\\registerElementForEditing(\n    "${e}\\\\${t}",\n    \\Breakdance\\Util\\getdirectoryPathRelativeToPluginFolder(__DIR__)\n);\n\nclass ${t} extends \\Breakdance\\Elements\\Element\n{\n    static function uiIcon()\n    {\n        return '${n}';\n    }\n\n    static function tag()\n    {\n        return '${s}';\n    }\n\n    static function tagOptions()\n    {\n        return ${i};\n    }\n\n    static function tagControlPath()\n    {\n        return ${o};\n    }\n\n    static function name()\n    {\n        return '${a}';\n    }\n\n    static function className()\n    {\n        return '${r}';\n    }\n\n    static function category()\n    {\n        return '${l}';\n    }\n\n    static function badge()\n    {\n        return ${c};\n    }\n\n    static function slug()\n    {\n        return __CLASS__;\n    }\n\n    static function template()\n    {\n        return file_get_contents(__DIR__ . '/html.twig');\n    }\n\n    static function defaultCss()\n    {\n        return file_get_contents(__DIR__ . '/default.css');\n    }\n\n    static function defaultProperties()\n    {\n        return ${d};\n    }\n\n    static function defaultChildren()\n    {\n        return ${u};\n    }\n\n    static function cssTemplate()\n    {\n        $template = file_get_contents(__DIR__ . '/css.twig');\n        return $template;\n    }\n\n    static function designControls()\n    {\n        return ${p};\n    }\n\n    static function contentControls()\n    {\n        return ${h};\n    }\n\n    static function settingsControls()\n    {\n        return ${g};\n    }\n\n    static function dependencies()\n    {\n        return ${m};\n    }\n\n    static function settings()\n    {\n        return ${v};\n    }\n\n    static function addPanelRules()\n    {\n        return ${f};\n    }\n\n    static public function actions()\n    {\n        return ${y};\n    }\n\n    static function nestingRule()\n    {\n        return ${b};\n    }\n\n    static function spacingBars()\n    {\n        return ${S};\n    }\n\n    static function attributes()\n    {\n        return ${_};\n    }\n\n    static function experimental()\n    {\n        return ${x};\n    }\n\n    static function availableIn()\n    {\n        return ${C};\n    }\n\n\n    static function order()\n    {\n        return ${w};\n    }\n\n    static function dynamicPropertyPaths()\n    {\n        return false;\n    }\n\n    static function additionalClasses()\n    {\n        return ${P};\n    }\n\n    static function projectManagement()\n    {\n        return ${I};\n    }\n\n    static function propertyPathsToWhitelistInFlatProps()\n    {\n        return ${k};\n    }\n\n    static function propertyPathsToSsrElementWhenValueChanges()\n    {\n        return ${E};\n    }\n}\n`}n.d(t,{i:()=>s})},17231:(e,t,n)=>{function s(e,t,n,s){return`<?php\n\nnamespace ${n};\n\nuse function Breakdance\\Elements\\c;\nuse function Breakdance\\Elements\\PresetSections\\getPresetSection;\n\n\\Breakdance\\Elements\\PresetSections\\PresetSectionsController::getInstance()->register(\n    "${e}",\n    ${t},\n    true,\n    ${s}\n);\n\n`}n.d(t,{C:()=>s})},1073:(e,t,n)=>{n.d(t,{T:()=>h,_:()=>p});var s=n(98851),i=n(75031),o=n(30902),a=n(45974),r=n(51168),l=n(31044),c=n(32521),d=n(65669),u=n(69137);async function p(){const e=await(0,s.D)({action:"breakdance_load_global_settings",decoder:i.az});return(0,o.pipe)(e,(0,a.fold)((e=>((0,r.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(u.n.ignore((()=>{l.cr.setGlobalSettings(e.globalSettings),l.cr.markCurrentGlobalSettingsAsUntouched()})),!0))))}async function h(){return(0,o.pipe)(await(0,s.D)({friendlyName:"Saving global settings to WordPress",action:"breakdance_save_global_settings",dataToPost:{globalSettings:(0,d.J)(l.cr.globalSettings)},decoder:c._4}),(0,a.fold)((e=>((0,r.UE)(e),!1)),(()=>(u.n.ignore((()=>l.cr.markCurrentGlobalSettingsAsUntouched())),!0))))}},93709:(e,t,n)=>{function s(e=!1){const t=document.querySelector(".properties-panel-search-box-wrap input");if(t?.focus(),e){const e=document.querySelector(".properties-panel-search-box-wrap .properties-panel-search-settings-toggle");if(e){const t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}}}function i(){const e=document.querySelector(".properties-panel-search-box-wrap .properties-panel-search-modified");if(e){const t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}}n.d(t,{O:()=>s,p:()=>i})},21115:(e,t,n)=>{n.d(t,{e:()=>i,n:()=>o});var s=n(13635);function i(e,t){const{x:n,y:i}=(0,s.eq)(),o=document.getElementById("iframe"),r=window.Breakdance.canvas.document.querySelector(".breakdance-canvas-right-click-menu");if(!r||!o)return;const{width:l,height:c}=o.getBoundingClientRect(),{menuWidth:d,menuHeight:u}=a(r),p=e+d+15>l?e-n-d:e-n,h=t+u+15>c?t-i-u:t-i;return{x:p,y:h}}function o(e,t){const n=document.querySelector(".breakdance-canvas-right-click-menu"),{menuWidth:s,menuHeight:i}=a(n),o=window.innerWidth,r=window.innerHeight,l=Math.min(e,o-s-10),c=Math.min(t,r-i-10);return{x:l,y:c}}function a(e){e.style.display="block";const{width:t,height:n}=e.getBoundingClientRect();return{menuWidth:t,menuHeight:n}}},37982:(e,t,n)=>{n.d(t,{DQ:()=>b,Fr:()=>y,_S:()=>v,c3:()=>S,y8:()=>m,zF:()=>_});var s=n(45974),i=n(21516),o=n(98851),a=n(3735),r=n(48973),l=n(51168),c=n(31044),d=n(65669),u=n(32521),p=n(95690),h=n(69137),g=n(39664);function m(e){return/^-?[.]+[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(e)}function v(e){try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0}function f(e){if("class"===e.type){if(!m(e.name))return void g.Z.log.message(`${e.name} is not a valid CSS class name.`)}else if(!v(e.name))return void g.Z.log.message(`${e.name} is not a valid CSS selector.`);c.cr.cssSelectors.find((t=>t.name===e.name))?g.Z.log.message(`${e.name} is already present.`):h.n.transaction((()=>c.cr.setSelectors([...c.cr.cssSelectors,e])),"Add Selector")}function y(e){f(e),(0,p.O_)("selectors")||_()}function b(e){if(!v(e))return(0,s.left)([`"${e}" is not a valid CSS selector.`]);const t=!!m(e);return(0,s.right)({name:e,type:t?"class":"custom",properties:{}})}async function S(){const e=await(0,o.D)({action:"breakdance_load_selectors",decoder:i.Ng});return(0,a.zG)(e,(0,r.g_)((e=>((0,l.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(h.n.ignore((()=>{c.cr.setSelectors(e),c.cr.markCurrentSelectorsAsUntouched()})),!0))))}async function _(){return(0,a.zG)(await(0,o.D)({friendlyName:"Saving selectors to WordPress",action:"breakdance_save_selectors",dataToPost:{selectors:(0,d.J)(c.cr.cssSelectors)},decoder:u._4}),(0,r.g_)((e=>((0,l.UE)(e),!1)),(()=>(h.n.ignore((()=>c.cr.markCurrentSelectorsAsUntouched())),!0))))}},98992:(e,t,n)=>{n.d(t,{FM:()=>a,nx:()=>r,sF:()=>l,u3:()=>o});var s=n(31381),i=n(31044);function o(e,t){return(0,s.treeNodeReduce)(((e,n)=>(n[e.id]=t,n)),e.root,{})}function a(e,t){const n=(0,s.findNode)(e,t);if(n)return(0,s.parentNodesReduce)(((e,t)=>(t[e.id]=!0,t)),e,n,{})}function r(e){return!1===i.kD.structurePanelNodesExpandedState[e]}function l(e){return void 0===i.kD.structurePanelNodesExpandedState[e]||!0===i.kD.structurePanelNodesExpandedState[e]}},27602:(e,t,n)=>{n(86702);var s=n(20144),i=n(31096),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.Z,{class:e.classList},[t("Notifications"),e.isBrowseModeEnabled?[t("BrowseMode",{key:"browser"})]:[t("Builder",{key:"builder"})]],2)},a=[],r=n(70655),l=n(38085),c=n(85450),d=n(62846),u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-builder"},[e.errorsPresent?t("UnrecoverableErrors"):"normal"===e.interfaceState?t("BuilderLayout"):"loading"===e.interfaceState?t("Loading"):e._e()],1)},p=[],h=n(48403),g=n.n(h),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayout",{class:e.classList,scopedSlots:e._u([{key:"topbar",fn:function(){return[e.isPreviewMode||e.isSingularityMode?e._e():t("BuilderTopBar"),e.isPreviewMode?t("PreviewModeCloseButton"):e._e()]},proxy:!0},{key:"body",fn:function(){return[t("ClosingConfirmations"),t("DesignLibraryModal"),"breakdance"==e.builderMode?t("FirstTimeVisit"):e._e(),e.isSingularityMode?e._e():t("SidebarPanels",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewMode,expression:"!isPreviewMode"}],attrs:{panelState:e.leftSidebarPanelState,position:"left"}}),t("ComponentRootTagWarning"),e.isSingularityMode?e._e():t("IframeCanvasWrapper",{on:{loaded:e.onIframeLoaded}}),e.showTemplateDialog?t("TemplateDialog",{attrs:{"template-id":e.templateId,"template-name":e.templateName,templateIsFallback:e.isTemplateFallback,templatesPageUrl:e.templatesPageUrl}}):e._e(),e.showInvalidPostDialog?t("InvalidPostDialog"):e._e(),e.preferencesModalOpen?t("PreferencesModal",{attrs:{open:e.preferencesModalOpen},on:{"update:dialog":e.updatePreferencesModal}}):e._e(),e.keyboardShortcutsHelpModalOpen?t("KeyboardShortcutsHelpModal",{attrs:{open:e.keyboardShortcutsHelpModalOpen},on:{"update:dialog":e.updateKeyboardShortcutsHelpModal}}):e._e(),e.isSingularityMode?e._e():t("SidebarPanels",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewMode,expression:"!isPreviewMode"}],attrs:{panelState:e.rightSidebarPanelState,position:"right"}}),e.isSingularityMode?t("Singularity",{on:{loaded:e.onIframeLoaded}}):e._e(),e.elementStudioOpen?t("div",{staticClass:"breakdance-app-far-right-area vscroll-wrap"},[t("ElementStudio")],1):e._e()]},proxy:!0}])})},v=[],f=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"iframe-canvas-wrapper"},[t("IframeCanvas",{on:{loaded:function(t){return e.$emit("loaded")}}})],1)},y=[],b=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.iframeURL?t("IframeWrapper",{attrs:{"iframe-url":e.iframeURL,"iframe-preview-width":e.canvasPreviewWidth,"iframe-exited":e.iframeExited,"iframe-state":e.canvasState,"min-width":e.iframeMinWidth,"current-breakpoint":e.currentBreakpoint,"iframe-id":"iframe"},on:{previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,iframeLoaded:e.mountCanvasInIframe,iframeUnloaded:e.setIframeAsExited,reloadWanted:e.reloadIframe,resetPreviewWidth:e.handleResetPreviewWidth}}):e._e()},S=[];const _='/* Copied from globals.scss, don\'t modify here directly */\n:root {\n  --white: #ffffff;\n  --black: #000000;\n\n  --blue50: #eff6ff;\n  --blue100: #dbeafe;\n  --blue200: #bfdbfe;\n  --blue300: #93c5fd;\n  --blue400: #60a5fa;\n  --blue500: #3b82f6;\n  --blue600: #2563eb;\n  --blue700: #1d4ed8;\n  --blue800: #1e40af;\n  --blue900: #1e3a8a;\n\n  --neutral-50: #f9fafb;\n  --neutral-100: #f4f5f7;\n  --neutral-200: #e5e7eb;\n  --neutral-300: #d2d6dc;\n  --neutral-400: #9fa6b2;\n  --neutral-500: #6b7280;\n  --neutral-600: #4b5563;\n  --neutral-700: #374151;\n  --neutral-800: #1f2937;\n  --neutral-900: #111827;\n\n  --red600: #dc2626;\n\n  --bde-canvas-font-family: system-ui, -apple-system, "Segoe UI", Roboto,\n    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";\n\n  --bde-app-font-family: "Avenir", Helvetica, Arial, sans-serif;\n\n  --bde-onboarding-app-font-family: "Inter", Helvetica, Arial, sans-serif;\n}\n\n/* everything here should be prefixed with breakdance because\nthese styles are mixed with any fuckery from their theme */\n\n#breakdance_canvas {\n  position: relative;\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\n  therwise if the user uses absolute positioning, things could look different in the builder */\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\n}\n\n#breakdance_canvas.dragging,\n#breakdance_canvas.dragging * {\n  cursor: grabbing;\n}\n\n#iframe {\n  margin: 4px;\n  border: 1px solid #eee;\n  background-color: white;\n  width: 100%;\n  padding: 2px;\n  font-family: var(--bde-canvas-font-family);\n  position: relative;\n}\n\n.breakdance-icon {\n  display: flex;\n  justify-content: center;\n}\n\n.breakdance-icon > svg {\n  fill: currentColor;\n  width: 100%;\n  height: 100%;\n}\n\n@-moz-document url-prefix() {\n  .breakdance-icon > svg {\n    width: auto;\n    height: auto;\n  }\n}\n\n.dragTaller {\n  height: 6px;\n  width: 6px;\n  border: 2px solid grey;\n  border-radius: 50%;\n  background-color: white;\n  z-index: 2000;\n}\n\n.drag-dot {\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background-color: rgb(32, 43, 67);\n  cursor: move;\n  position: absolute;\n  z-index: 100000;\n  pointer-events: auto;\n}\n\n.drag-dots-wrapper {\n  position: absolute;\n  pointer-events: none;\n}\n\n.drag-dot-top-left {\n  top: -5px;\n  left: -5px;\n}\n\n.drag-dot-top-middle {\n  top: -5px;\n  left: calc(50% - 5px);\n}\n\n.drag-dot-top-right {\n  top: -5px;\n  left: calc(100% - 5px);\n}\n\n.drag-dot-bottom-left {\n  top: calc(100% - 5px);\n  left: -5px;\n}\n\n.drag-dot-bottom-middle {\n  top: calc(100% - 5px);\n  left: calc(50% - 5px);\n}\n\n.drag-dot-bottom-right {\n  top: calc(100% - 5px);\n  left: calc(100% - 5px);\n}\n\n.drag-dot-middle-left {\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.drag-dot-middle-right {\n  top: 50%;\n  transform: translate(50%, -50%);\n  right: 0;\n}\n\n.spacing-bar {\n  background-color: rgba(0, 0, 255, 0.2);\n  opacity: 0;\n  position: absolute;\n  transition: 0.3s ease-in-out opacity;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  min-height: 5px;\n}\n\n.spacing-bar:hover {\n  transition-delay: 0.2s;\n}\n\n.spacing-bar .spacing-bar-current-value {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  pointer-events: none;\n}\n\n.spacing-bar-inside-top {\n  min-height: 5px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n\n/* column drag */\n.drag-dots-left-width {\n  margin-right: 22px;\n}\n\n.drag-dots-column-widths-values {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  left: -66px;\n  top: -8px;\n}\n\n.drag-dots-left-width,\n.drag-dots-right-width {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  width: 48px;\n}\n\n/* Node Chrome */\n\n.node-chrome,\n.node-titlebar-wrapper,\n.node-hover-controls {\n  transition: 0.3s opacity ease;\n}\n\n.node-chrome--hide-all,\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\n.node-chrome--hide-hover .node-hover-controls {\n  opacity: 0;\n}\n\n/* Titlebars */\n\n.node-titlebar-wrapper {\n  position: absolute;\n  pointer-events: none;\n  direction: ltr;\n  z-index: 10000;\n  outline: 1px solid rgb(32, 43, 67);\n  user-select: none;\n}\n\n.node-titlebar {\n  pointer-events: auto;\n\n  display: flex;\n  align-items: center;\n  position: absolute;\n\n  bottom: 100%;\n  height: 28px;\n  padding: 0 10px;\n  border-radius: 4px 4px 0 0;\n\n  font-family: var(--bde-app-font-family);\n  font-size: 12px;\n  font-weight: 500;\n\n  letter-spacing: normal;\n  font-style: normal;\n  text-transform: none;\n\n  background-color: rgb(32, 43, 67);\n  color: white;\n  z-index: 1000000;\n\n  left: -1px;\n}\n\n/* Draft */\n.node-titlebar-is-offset {\n  left: 0;\n}\n\n.node-titlebar-is-draft-section {\n  background-color: rgb(122, 125, 133);\n}\n\n/*\n * Moving you mouse over the node titlebar or spacing bars\n * will trigger an erroneous mouseleave event on the element\n * you are dragging, when your mouse is not outside of it yet.\n */\n.dragging .spacing-bar,\n.dragging .node-titlebar {\n  pointer-events: none;\n}\n\n.node-titlebar-is-dragging,\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  cursor: grabbing;\n}\n\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  opacity: 0.5;\n}\n\n.node-titlebar-is-dragging {\n  /* color: rgb(32, 43, 67); */\n  background-color: rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper-is-dragging {\n  outline: 1px solid rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper .node-titlebar-button {\n  color: rgba(255, 255, 255, 0.85);\n  cursor: pointer;\n}\n\n.node-titlebar-button:hover {\n  color: rgba(255, 255, 255, 1);\n}\n\n.node-titlebar-title {\n  white-space: nowrap;\n  cursor: grab;\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  letter-spacing: normal;\n}\n\n.node-titlebar-title .node-titlebar-button {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n\n.node-titlebar-title .node-titlebar-button svg {\n  cursor: grab;\n}\n\n.node-titlebar-button-activate-parent {\n  margin-left: 6px;\n}\n\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\n  width: 10px;\n  height: 10px;\n}\n\n.node-titlebar-button {\n  margin-left: 9px;\n}\n\n.node-titlebar-button > svg {\n  width: 13px;\n  height: 13px;\n}\n\n.node-titlebar-margin-left {\n  margin-left: 20px;\n}\n\n.node-titlebar--hide {\n  display: none!important;\n}\n\n/* Outline Titlebar */\n.node-titlebar-wrapper--ghost {\n  z-index: 9999;\n  outline: none !important;\n}\n\n.node-titlebar-wrapper--ghost .node-titlebar {\n  background-color: transparent;\n  color: var(--blue500);\n}\n\n.node-titlebar-wrapper--ghost .node-titlebar-button {\n  color: var(--blue500);\n}\n\n/* Other */\n.breakdance-drag-placeholder-wrapper {\n  pointer-events: none;\n}\n\n.breakdance-drag-placeholder {\n  /* this won\'t work if something other than the window has position relative on it,\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\n\n  /* some months later\n  ... really? The above sounds like bullshit. I can put position relative\n  on all sorts of stuff and this works fine\n  so maybe we are already mounting the overlaid UI chrome in the right place?\n  */\n\n  position: absolute;\n  /* ---- */\n  background-color: var(--blue500);\n  z-index: 100001;\n  display: none;\n  border-radius: 2px;\n}\n\n.breakdance-drag-target-outline {\n  outline: 6px solid var(--blue300);\n  outline-offset: -6px;\n  z-index: 100000;\n  display: none;\n}\n\n.breakdance-children-pointer-events-none > * {\n  pointer-events: none;\n}\n\n/* global blocks */\n.breakdance-themeless-global-block {\n  cursor: default;\n}\n\n.breakdance-themeless-global-block::selection {\n  background-color: transparent;\n}\n\n.breakdance-themeless-global-block *::selection {\n  background-color: transparent;\n}\n\n.breakdance-foreign-documents-overlay {\n  font-family: var(--bde-canvas-font-family);\n  position: fixed;\n  z-index: 9999;\n  outline: 1px solid rgb(255 182 216);\n  outline-offset: -1px;\n  cursor: not-allowed;\n  background-color: rgba(0, 0, 0, 0.1);\n  display: none;\n}\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\n  position: absolute;\n  top: 0;\n  left: 50%;\n}\n\n.breakdance-foreign-documents-overlay-titlebar {\n  position: relative;\n  left: -50%;\n  height: 28px;\n  padding: 0 10px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 12px;\n  font-weight: 500;\n  background-color: rgb(255 182 216);\n  border-radius: 0px 0px 4px 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a {\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a svg {\n  margin-left: 5px;\n  width: 14px;\n  height: 14px;\n}\n\n.breakdance-foreign-document-wrapper:hover\n  .breakdance-foreign-document-wrapper__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/* node hover controls */\n.node-hover-controls {\n  position: absolute;\n  pointer-events: none;\n  z-index: 9999;\n}\n\n.node-hover-controls--onboarding {\n  pointer-events: auto;\n}\n\n.node-hover-controls--onboarding.node-hover-controls--outline {\n  outline: 1px solid var(--neutral-200);\n}\n\n.node-hover-controls--outline {\n  outline: 1px solid rgb(177, 202, 255);\n}\n\n.node-hover-controls-button {\n  position: absolute;\n  pointer-events: auto;\n  flex-direction: column;\n\n  border-radius: 50%;\n\n  width: 40px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: var(--bde-canvas-font-family);\n  background-color: rgb(32, 43, 67);\n  color: white;\n\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n}\n\n.node-hover-controls-bottom-button {\n  top: calc(100% - 20px);\n  left: calc(50% - 20px);\n}\n\n.node-hover-controls-right-button {\n  top: 50%;\n  left: calc(100% - 48px);\n  transform: translateY(-50%);\n}\n\n.node-hover-controls-menu {\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 13px;\n  font-weight: 500;\n  flex-direction: column;\n  background-color: white;\n  color: black;\n  display: none;\n  position: absolute;\n  top: calc(100% - 20px);\n  left: 50%;\n  transform: translateX(-50%);\n  width: 170px;\n  overflow: hidden;\n}\n\n.node-hover-controls-menu > div {\n  padding: 9px 12px;\n  text-align: center;\n}\n\n.node-hover-controls-menu > div:hover {\n  background-color: #fafafa;\n}\n\n.node-hover-controls-menu--open {\n  display: flex;\n}\n\n/* We do the outlining with JS to add some logic to it*/\n*:focus[contenteditable="true"] {\n  border: none;\n  outline: none;\n}\n\n.node-content-editable {\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n  outline: 1px solid var(--blue500);\n}\n\n/* EMPTY CONTAINER */\n\n.breakdance-empty-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 200px;\n}\n\n.breakdance-empty-container__text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  justify-content: center;\n  font-family: var(--bde-canvas-font-family);\n}\n\n.breakdance-empty-container__text p {\n  font-size: 18px;\n  color: var(--neutral-500);\n  margin: 0;\n}\n\n.breakdance-empty-container__add-element {\n  font-family: var(--bde-canvas-font-family);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n\n  user-select: none;\n\n  background-color: var(--blue50);\n  width: 42px;\n  height: 42px;\n  border-radius: 3px;\n  margin: 10px;\n}\n\n.breakdance-empty-container__add-element {\n  color: var(--blue500);\n}\n\n.breakdance-empty-container__add-element:hover {\n  background-color: var(--blue100);\n}\n\n.breakdance-empty-container__add-element--disabled,\n.breakdance-empty-container__add-element--disabled:hover {\n  cursor: not-allowed;\n  background: var(--grey-100);\n  color: var(--grey-300);\n}\n\n/* COLUMNS */\n\n.breakdance-empty-columns {\n  font-family: var(--bde-canvas-font-family);\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\n  padding: 50px;\n}\n\n.breakdance-empty-columns-choices-heading {\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 16px;\n  user-select: none;\n}\n\n.breakdance-empty-columns-choices {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-choices-row {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-column-icon-wrapper {\n  padding: 4px;\n  margin: 16px;\n  cursor: pointer;\n  border-radius: 3px;\n  transition: 0.3s ease-in-out filter;\n  filter: grayscale(90%);\n}\n\n.breakdance-empty-columns-column-icon-wrapper:hover {\n  filter: grayscale(0%);\n}\n\n.breakdance-empty-columns-column-icon {\n  width: 160px;\n  height: 90px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\n.breakdance-empty-columns-column-icon-column {\n  margin: 4px;\n  width: 100%;\n  background-color: #bfdbfe;\n  border-radius: 3px;\n}\n\n.breakdance--empty-container:not(.breakdance--active-element) {\n  outline: 2px solid #eee;\n  outline-offset: -2px;\n}\n\n/* ELEMENT */\n\n.builder-element {\n  cursor: default;\n}\n\n/* right click menu. This is  duplicated in the styles.iframecss\n\nWe need it also here because this is used both in the canvas and the structure panel\n*/\n\n.breakdance-canvas-right-click-menu {\n  -webkit-font-smoothing: antialiased;\n  position: absolute; /* absolute when in the canvas, fixed when in the structure panel */\n  z-index: 2147483647;\n  font-family: var(--bde-canvas-font-family);\n  background-color: var(--white-fixed, var(--white));\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n  min-width: 200px;\n  border-radius: 6px;\n  padding: 6px 0px;\n  user-select: none;\n  letter-spacing: normal;\n  font-style: normal;\n  text-transform: none;\n}\n\n.breakdance-canvas-right-click-menu-item {\n  font-size: 13px;\n  font-weight: 400;\n  font-size: 12px;\n  min-height: 33px;\n  padding: 0 18px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n  color: #333;\n}\n\n.breakdance-canvas-right-click-menu-item-shortcut {\n  margin-left: auto;\n  font-size: 12px;\n  color: var(--grey-400);\n}\n\n.breakdance-canvas-right-click-menu-divider {\n  height: 1px;\n  background-color: #ddd;\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n\n.breakdance-canvas-right-click-menu-item:hover:not(\n    .breakdance-canvas-right-click-menu-item-disabled\n  ) {\n  background-color: #eee;\n}\n\n.breakdance-canvas-right-click-menu-item-disabled {\n  opacity: 0.5;\n  cursor: default !important;\n}\n\n.breakdance-canvas-right-click-dropdown {\n  position: relative;\n}\n\n.breakdance-canvas-right-click-submenu {\n  position: absolute;\n  left: 100%;\n  top: -20px;\n  z-index: 100000;\n  pointer-events: none;\n  opacity: 0;\n  min-width: 100px;\n  padding-top: 20px;\n  transition: 0.3s opacity ease;\n}\n\n.breakdance-canvas-right-click-submenu__arrow {\n  margin-left: auto;\n}\n\n.breakdance-canvas-right-click-submenu__content {\n  position: static !important;\n  translate: 4px 0;\n  overflow: hidden;\n  min-width: auto;\n}\n\n.breakdance-canvas-right-click-dropdown:hover\n  .breakdance-canvas-right-click-submenu {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.breakdance-canvas-right-click-dropdown--disabled,\n.breakdance-canvas-right-click-dropdown--disabled:hover {\n  pointer-events: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .breakdance-canvas-right-click-menu {\n    background-color: #1f2229;\n  }\n\n  .breakdance-canvas-right-click-menu-item {\n    color: var(--white-fixed, var(--white));\n  }\n\n  .breakdance-canvas-right-click-menu-item:hover:not(\n      .breakdance-canvas-right-click-menu-item-disabled\n    ) {\n    background-color: #2c3038;\n  }\n\n  .breakdance-canvas-right-click-menu-divider {\n    background-color: #4d535e;\n  }\n}\n\n/* Structure panel */\n.breakdance-canvas-right-click-menu--structure-panel {\n  min-width: 155px;\n}\n\n.breakdance-canvas-right-click-dropdown--inverted\n  .breakdance-canvas-right-click-submenu {\n  left: auto;\n  right: 100%;\n}\n\n.breakdance-canvas-right-click-dropdown--inverted\n  .breakdance-canvas-right-click-submenu__content {\n  translate: -4px 0;\n}\n\n/* Empty State */\n\n.breakdance-canvas-empty-element {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 30px;\n  text-align: center;\n  border: 2px dashed #c3c4c7;\n}\n\n.breakdance-canvas-empty-element__title {\n  font-size: 18px;\n  font-weight: normal;\n  color: #646970;\n  margin-bottom: 0;\n}\n\n/*** Warning ***/\n\n.bde-ssr-error {\n  background: rgb(254, 242, 242);\n  color: var(--red600);\n  padding: 12px;\n}\n\n/*** Loading ***/\n\n.breakdance-empty-ssr-message {\n  padding: 12px;\n  background: rgb(242, 242, 254);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  color: black;\n  font-size: 13px;\n  font-weight: 500;\n  margin: 12px 0;\n}\n\n.breakdance-empty-ssr-message-error {\n  background: rgb(254, 242, 242);\n}\n\n.breakdance-empty-ssr-message small {\n  margin-top: 6px;\n  color: black;\n  font-size: 11px;\n  font-weight: 400;\n}\n\n.breakdance-element-is-updating:empty {\n  min-height: 80px;\n  max-width: 100%;\n  width: 400px;\n}\n\n.breakdance-element-is-updating {\n  background: linear-gradient(\n    90deg,\n    rgba(150, 150, 150, 0.1) 0%,\n    rgba(150, 150, 150, 0.3) 50%,\n    rgba(150, 150, 150, 0.1) 100%\n  );\n\n  background-size: 200% 100%;\n  animation: shimmer 1.5s infinite;\n  color: transparent !important;\n  border-radius: 4px;\n}\n\n.breakdance-element-is-updating > * {\n  opacity: 0 !important;\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n/* Ghost Placeholder */\n\n.breakdance-drag-ghost-element {\n  position: fixed;\n  z-index: 999999;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 130px;\n  height: 40px;\n  padding-left: 5px;\n  padding-right: 5px;\n\n  background-color: var(--white);\n  border: 1px solid var(--blue600);\n  color: var(--blue600);\n  outline: none;\n\n  border-radius: 4px;\n  opacity: 0.8;\n\n  font-size: var(--text-sm);\n  font-weight: 500;\n  line-height: 1;\n\n  pointer-events: none;\n\n  transform: translateX(-50%) translateY(-10%);\n\n  display: none;\n}\n\n/* Right Click Dropdown */\n\n.breakdance-canvas-right-click-dropdown {\n  position: relative;\n}\n\n.breakdance-canvas-right-click-submenu {\n  position: absolute;\n  left: 100%;\n  top: -20px;\n  z-index: 100000;\n  pointer-events: none;\n  opacity: 0;\n  min-width: 100px;\n  padding-top: 20px;\n  transition: 0.3s opacity ease;\n  transition: 0.3s opacity ease;\n}\n\n.breakdance-canvas-right-click-submenu__arrow {\n  margin-left: auto;\n}\n\n.breakdance-canvas-right-click-submenu__content {\n  position: static !important;\n  position: static !important;\n  translate: 4px 0;\n  overflow: hidden;\n  min-width: auto;\n}\n\n.breakdance-canvas-right-click-dropdown:hover\n  .breakdance-canvas-right-click-submenu {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.breakdance-canvas-right-click-dropdown--disabled,\n.breakdance-canvas-right-click-dropdown--disabled:hover {\n  pointer-events: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .breakdance-canvas-right-click-menu {\n    background-color: #1f2229;\n  }\n\n  .breakdance-canvas-right-click-menu-item {\n    color: var(--white);\n  }\n\n  .breakdance-canvas-right-click-menu-item:hover:not(\n      .breakdance-canvas-right-click-menu-item-disabled\n    ) {\n    background-color: #2c3038;\n  }\n\n  .breakdance-canvas-right-click-menu-divider {\n    background-color: #4d535e;\n  }\n}\n\n.node-hover-onboarding-controls-buttons,\n.node-hover-onboarding-controls-add-section {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  border: 1px solid var(--neutral-200);\n  border-left: 0;\n  border-radius: 0 0 4px 0;\n  overflow: hidden;\n}\n\n.node-hover-onboarding-controls-add-section {\n  border: 1px solid var(--neutral-200);\n  border-radius: 4px;\n  position: absolute;\n  bottom: -12px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.node-hover-onboarding-controls-buttons__button {\n  /* reset button CSS */\n  background-color: transparent;\n  border: none;\n  color: inherit;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  padding: 0;\n  margin: 0;\n  text-align: left;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* styles */\n  background-color: #fff;\n  font-family: var(--bde-onboarding-app-font-family);\n  padding: 4px 12px;\n  gap: 4px;\n  font-size: 14px;\n  font-weight: 500;\n  border-right: 1px solid var(--neutral-200);\n}\n\n.node-hover-onboarding-controls-buttons__button[disabled] {\n  opacity: 0.5;\n}\n\n@keyframes spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.is-spinning {\n  animation: spin 0.8s infinite linear;\n}\n\n.node-hover-onboarding-controls-buttons__button:hover {\n  background-color: var(--neutral-100);\n}\n\n.node-hover-onboarding-controls-buttons__button:last-child {\n  border-right: 0;\n}\n\n.node-onboarding-palette-button__color {\n  width: 20px;\n  height: 16px;\n}\n\n.node-hover-onboarding-controls-palette-buttons {\n  display: flex;\n  border-right: 1px solid var(--neutral-200);\n}\n\n.node-hover-onboarding-controls-buttons__colors-wrap {\n  border: 1px solid var(--neutral-300);\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n}\n\n/* Inline Editor */\n.breakdance-inline-editor {\n  display: contents;\n}\n\n.breakdance-inline-editor__loader {\n  padding: 10px;\n  text-align: center;\n}\n\n.breakdance-inline-editor-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  background: rgba(0, 0, 0, 0.3);\n  pointer-events: auto;\n  z-index: 9999;\n  cursor: pointer;\n}\n',x='.node-chrome--singularity {\n  /* tailwind blue */\n  --singularity-node-blue-50: #eff6ff;\n  --singularity-node-blue-100: #dbeafe;\n  --singularity-node-blue-200: #bfdbfe;\n  --singularity-node-blue-300: #93c5fd;\n  --singularity-node-blue-400: #60a5fa;\n  --singularity-node-blue-500: #3b82f6;\n  --singularity-node-blue-600: #2563eb;\n  --singularity-node-blue-700: #1d4ed8;\n  --singularity-node-blue-800: #1e40af;\n  --singularity-node-blue-900: #1e3a8a;\n\n  /* tailwind neutral */\n  --singularity-node-neutral-50: #fafafa;\n  --singularity-node-neutral-100: #f5f5f5;\n  --singularity-node-neutral-200: #e5e7eb;\n  --singularity-node-neutral-300: #d1d5db;\n  --singularity-node-neutral-400: #9ca3af;\n  --singularity-node-neutral-500: #6b7280;\n  --singularity-node-neutral-600: #4b5563;\n  --singularity-node-neutral-700: #374151;\n  --singularity-node-neutral-800: #1f2937;\n  --singularity-node-neutral-900: #111827;\n\n  /* tailwind purple */\n  --singularity-node-purple-50: #f5f3ff;\n  --singularity-node-purple-100: #ede9fe;\n  --singularity-node-purple-200: #ddd6fe;\n  --singularity-node-purple-300: #c4b5fd;\n  --singularity-node-purple-400: #a78bfa;\n  --singularity-node-purple-500: #8b5cf6;\n  --singularity-node-purple-600: #7c3aed;\n  --singularity-node-purple-700: #6d28d9;\n  --singularity-node-purple-800: #5b21b6;\n  --singularity-node-purple-900: #4c1d95;\n\n  /* tailwind typography sizing */\n  --singularity-node-font-size-xs: 12px;\n  --singularity-node-font-size-sm: 14px;\n  --singularity-node-font-size-base: 16px;\n  --singularity-node-font-size-lg: 18px;\n  --singularity-node-font-size-xl: 20px;\n  --singularity-node-font-size-2xl: 24px;\n  --singularity-node-font-size-3xl: 30px;\n}\n\n.node-chrome--singularity .singularity-canvas-button {\n  pointer-events: auto;\n  background-color: var(--singularity-node-blue-600);\n  transition: all 0.2s ease-in-out;\n  border-radius: 4px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 6px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-family: var(--bde-app-font-family);\n  font-size: 14px;\n}\n\n.node-chrome--singularity .singularity-canvas-button--large {\n  padding: 12px 16px;\n}\n\n.node-chrome--singularity .singularity-canvas-button:hover {\n  background-color: var(--singularity-node-blue-500);\n}\n\n.node-chrome--singularity .singularity-canvas-button:active {\n  background-color: var(--singularity-node-blue-700);\n  transform: scale(0.98);\n}\n\n.node-chrome--singularity .singularity-canvas-button__text {\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 1;\n  font-family: var(--bde-app-font-family);\n  flex-shrink: 0;\n}\n\n.node-chrome--singularity\n  .singularity-canvas-button--large\n  .singularity-canvas-button__text {\n  font-size: 16px;\n}\n\n.node-chrome--singularity .singularity-canvas-button__icon {\n  font-size: 16px;\n  flex-shrink: 0;\n}\n\n.node-chrome--singularity .singularity-button-group {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 4px;\n  border-radius: 6px;\n  background-color: var(--singularity-node-blue-600);\n}\n\n.node-chrome--singularity .singularity-position-wrapper {\n  position: absolute;\n}\n\n.node-chrome--singularity .singularity-position-wrapper--center {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.node-chrome--singularity .singularity-position-wrapper--bottom-center {\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 50%);\n}\n\n.node-chrome--singularity .singularity-position-wrapper--right-center {\n  top: 50%;\n  right: 0;\n  transform: translate(50%, -50%);\n}\n\n.node-chrome--singularity .singularity-sticky-section-edit {\n  position: sticky;\n  top: 0;\n  left: 0;\n  padding: 24px;\n  z-index: 1000;\n  display: inline-flex;\n}\n\n.node-chrome--singularity\n  .node-singularity-hover-controls.node-hover-controls--outline {\n  outline: 3px solid var(--singularity-node-blue-400);\n  outline-offset: 0;\n}\n\n.node-chrome--singularity .singularity-node-titlebar-wrapper {\n  outline: 3px solid var(--singularity-node-blue-600);\n  outline-offset: -3px;\n}\n\n.node-chrome--singularity\n  .node-singularity-hover-controls.node-hover-controls--active {\n  outline: 3px solid var(--singularity-node-blue-600);\n  outline-offset: 0;\n}\n\n.node-chrome--singularity .node-titlebar-wrapper {\n  display: none;\n}\n\n.node-chrome--singularity .node-singularity-hover-controls {\n  z-index: 1001 !important;\n}\n\n.node-chrome--singularity .singularity-node-titlebar-wrapper {\n  position: absolute;\n  pointer-events: none;\n  direction: ltr;\n  z-index: 1000;\n  user-select: none;\n}\n\n.node-chrome--singularity .singularity-node-titlebar {\n  pointer-events: auto;\n  display: flex;\n  align-items: center;\n  position: absolute;\n  bottom: 100%;\n  padding: 4px;\n  border-radius: 4px 4px 0 0;\n  font-family: var(--bde-app-font-family);\n  font-size: 13px;\n  font-weight: 500;\n  letter-spacing: normal;\n  height: 32px;\n  font-style: normal;\n  text-transform: none;\n  background-color: var(--singularity-node-blue-600);\n  color: white;\n  z-index: 1000000;\n  min-width: 85px;\n  left: 2px;\n}\n\n.node-chrome--singularity .singularity-node-titlebar.is-hidden {\n  display: none;\n}\n\n.node-chrome--singularity .singularity-node-titlebar__text {\n  padding: 4px 6px;\n}\n\n.node-chrome--singularity .singularity-canvas-add-another-button {\n  pointer-events: auto;\n  background-color: var(--singularity-node-blue-600);\n  position: absolute;\n  transition: all 0.2s ease-in-out;\n  border-radius: 100%;\n  color: #fff;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  font-size: 20px;\n  height: 40px;\n  bottom: 50%;\n  right: 0;\n  cursor: pointer;\n  transform: translate(50%, 50%);\n}\n\n.node-chrome--singularity\n  .singularity-canvas-add-another-button:hover\n  .singularity-canvas-add-another-button__inner {\n  background-color: var(--singularity-node-blue-500);\n}\n\n.node-chrome--singularity .singularity-canvas-add-another-button__inner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  border-radius: 100%;\n  height: 100%;\n  background-color: var(--singularity-node-blue-600);\n  transition: background-color 0.2s ease-in-out;\n}\n\n.section-currently-rewriting-with-ai p,\n.section-currently-rewriting-with-ai h1,\n.section-currently-rewriting-with-ai h2,\n.section-currently-rewriting-with-ai h3,\n.section-currently-rewriting-with-ai h4,\n.section-currently-rewriting-with-ai h5,\n.section-currently-rewriting-with-ai h6,\n.section-currently-rewriting-with-ai span,\n.section-currently-rewriting-with-ai li,\n.section-currently-rewriting-with-ai a,\n.section-currently-rewriting-with-ai label,\n.section-currently-rewriting-with-ai button,\n.section-currently-rewriting-with-ai [data-content-editable-property-path] {\n  color: transparent !important;\n  pointer-events: none;\n  position: relative;\n}\n\n.section-currently-rewriting-with-ai p::before,\n.section-currently-rewriting-with-ai h1::before,\n.section-currently-rewriting-with-ai h2::before,\n.section-currently-rewriting-with-ai h3::before,\n.section-currently-rewriting-with-ai h4::before,\n.section-currently-rewriting-with-ai h5::before,\n.section-currently-rewriting-with-ai h6::before,\n.section-currently-rewriting-with-ai span::before,\n.section-currently-rewriting-with-ai li::before,\n.section-currently-rewriting-with-ai a::before,\n.section-currently-rewriting-with-ai label::before,\n.section-currently-rewriting-with-ai button::before,\n.section-currently-rewriting-with-ai\n  [data-content-editable-property-path]::before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: block;\n  background-color: #d1d1d1;\n  border-radius: 4px;\n  width: 100%;\n  height: 100%;\n  animation: shimmer 1.2s infinite linear;\n  background-image: linear-gradient(\n    90deg,\n    #d1d1d1 0%,\n    #ffffff 40%,\n    #d1d1d1 80%\n  );\n  background-size: 200% 100%;\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n.node-chrome--singularity\n  .breakdance-foreign-documents-overlay--singularity-mode {\n  outline: 4px solid rgb(43, 105, 205);\n  outline-offset: -4px;\n  cursor: pointer;\n}\n\n.node-chrome--singularity\n  .breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar {\n  transform: translate(-50%, -50%);\n  position: absolute;\n  background-color: rgb(43, 105, 205);\n  --addSectionButtonWidth: 160px;\n  --addSectionButtonHeight: 60px;\n  width: var(--addSectionButtonWidth);\n  height: var(--addSectionButtonHeight);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.node-chrome--singularity\n  .breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar\n  a,\n.node-chrome--singularity\n  .breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar\n  a:hover {\n  color: white;\n  font-size: 20px;\n}\n\n.node-chrome--singularity\n  .breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar-wrapper {\n  top: 50%;\n  left: 50%;\n}\n\n.node-chrome--singularity\n  .breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-icon {\n  display: none;\n}\n\n.breakdance-empty-container-singularity {\n  position: relative;\n  font-family: var(--bde-app-font-family);\n  padding: 40px;\n}\n\n.breakdance-empty-container-singularity__title {\n  font-size: var(--singularity-node-font-size-3xl);\n  margin: 0;\n  color: var(--singularity-node-neutral-900);\n  font-family: var(--bde-app-font-family) !important;\n}\n\n.breakdance-empty-container-singularity__text {\n  font-size: var(--singularity-node-font-size-base);\n  margin: 0;\n  color: var(--singularity-node-neutral-500);\n  font-family: var(--bde-app-font-family);\n}\n\n.breakdance-empty-container-singularity__content {\n  border: 2px dashed var(--singularity-node-neutral-200);\n  border-radius: 8px;\n  padding: 80px;\n  font-family: var(--bde-app-font-family);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  width: 100%;\n  background-color: #fff;\n}\n\n.breakdance-empty-container-singularity__header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n.breakdance-empty-container-singularity__icon {\n  color: var(--singularity-node-neutral-300);\n  margin-bottom: 16px;\n}\n\n.breakdance-empty-container-singularity__option {\n  display: inline-flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 24px;\n  width: 100%;\n  background-color: var(--singularity-node-neutral-100);\n  border-radius: 8px;\n  cursor: pointer;\n  aspect-ratio: 1 / 1;\n  min-height: 300px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.breakdance-empty-container-singularity__options {\n  display: flex;\n  gap: 16px;\n  flex-wrap: nowrap;\n  justify-content: center;\n}\n\n.breakdance-empty-container-singularity__option-text {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.breakdance-empty-container-singularity__option-text h2 {\n  margin: 0;\n  font-size: var(--singularity-node-font-size-xl);\n  color: var(--singularity-node-neutral-900);\n  font-family: var(--bde-app-font-family);\n}\n\n.breakdance-empty-container-singularity__option-text p {\n  margin: 0;\n  font-size: var(--singularity-node-font-size-base);\n  color: var(--singularity-node-neutral-500);\n  font-family: var(--bde-app-font-family);\n}\n\n.breakdance-empty-container-singularity__option:hover {\n  background-color: var(--singularity-node-blue-50);\n  border-color: var(--singularity-node-blue-300);\n  color: var(--singularity-node-blue-600);\n}\n\n.breakdance-empty-container-singularity__option:active {\n  background-color: var(--singularity-node-blue-600);\n  border-color: var(--singularity-node-blue-400);\n  color: #fff;\n}\n\n.breakdance-empty-container-singularity__option:hover h2 {\n  color: var(--singularity-node-blue-600);\n}\n\n.breakdance-empty-container-singularity__option:hover p {\n  color: var(--singularity-node-blue-500);\n}\n\n.breakdance-empty-container-singularity__option:active h2,\n.breakdance-empty-container-singularity__option:active p {\n  color: #fff;\n}\n\n/* .breakdance-empty-container-singularity__option:focus {\n  outline: 2px solid var(--singularity-node-blue-600);\n  outline-offset: 2px;\n} */\n',C="/* Future Layer Canvas UX Styles */\n\n:root {\n  --singularity-outline-width: 3px;\n}\n\n/* Active Element Wrapper - zero sized, positioned at element top-left */\n.futurelayer-active-element-wrapper {\n  position: absolute;\n  z-index: 9999;\n  pointer-events: auto;\n}\n\n/* Active Element Outline - darker than hover */\n.futurelayer-active-element-outline {\n  position: absolute;\n  border: var(--singularity-outline-width) solid\n    var(--singularity-node-blue-600);\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n/* Hovered Element Wrapper - zero sized, positioned at element top-left */\n.futurelayer-hovered-element-wrapper {\n  position: absolute;\n  z-index: 9998;\n  pointer-events: auto;\n}\n\n/* Hovered Element Outline - lighter than active */\n.futurelayer-hovered-element-outline {\n  position: absolute;\n  border: var(--singularity-outline-width) solid\n    var(--singularity-node-blue-300);\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n/* Hovered Header/Footer Wrapper - zero sized, positioned at element top-left */\n.futurelayer-hovered-header-footer-wrapper {\n  position: absolute;\n  z-index: 9998;\n  pointer-events: auto;\n}\n\n/* Hovered Header/Footer Outline - transparent black overlay with cursor pointer */\n.futurelayer-hovered-header-footer-outline {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  box-sizing: border-box;\n  pointer-events: none;\n  cursor: pointer;\n}\n\n/* Header/Footer Controls - covers entire element with pointer events */\n.futurelayer-header-footer-controls {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: auto;\n  cursor: pointer;\n}\n\n.futurelayer-header-footer-edit-button {\n  padding: 8px 16px;\n  font-size: 14px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 500;\n  line-height: 1;\n  background-color: var(--singularity-node-blue-600);\n  color: white;\n  white-space: nowrap;\n}\n\n.futurelayer-header-footer-edit-button:hover {\n  background-color: var(--singularity-node-blue-700);\n}\n\n/* Grid Item Wrapper - zero sized, positioned at element top-left */\n.futurelayer-grid-item-wrapper {\n  position: absolute;\n  z-index: 9997;\n  pointer-events: auto;\n}\n\n/* Grid Item Outline - positioned relative to wrapper */\n.futurelayer-grid-item-outline {\n  position: absolute;\n  outline: var(--singularity-outline-width) dashed\n    var(--singularity-node-purple-300);\n  outline-offset: 0px;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n/* Grid Item Controls - positioned above the outline, aligned with right edge */\n.futurelayer-grid-item-controls {\n  position: absolute;\n  top: -32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  pointer-events: auto;\n}\n\n.futurelayer-grid-control-button,\n.futurelayer-link-control-button {\n  padding: 4px 8px;\n  font-size: 12px;\n  border-radius: 4px;\n  border: none;\n  cursor: pointer;\n  font-weight: 500;\n  line-height: 1;\n  color: #fff;\n  background-color: var(--singularity-node-purple-600);\n  transition: all 0.2s ease-in-out;\n  white-space: nowrap;\n}\n\n.futurelayer-grid-control-button:hover {\n  background-color: var(--singularity-node-purple-700);\n}\n\n.futurelayer-grid-control-button.remove:hover {\n  background-color: #c82333;\n}\n\n/* Link Wrapper Components */\n.futurelayer-link-control-button {\n  background-color: var(--singularity-node-blue-600);\n}\n\n.futurelayer-link-control-button:hover {\n  background-color: var(--singularity-node-blue-700);\n}\n\n/* Link Wrapper Wrapper - zero sized, positioned at element top-left */\n.futurelayer-link-wrapper-wrapper {\n  position: absolute;\n  z-index: 9996;\n  pointer-events: auto;\n}\n\n/* Link Wrapper Outline - positioned relative to wrapper */\n.futurelayer-link-wrapper-outline {\n  position: absolute;\n  border: 1px dotted #ff6b35;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n\n/* Link Wrapper Controls - positioned below the outline, aligned with right edge */\n.futurelayer-link-wrapper-controls {\n  position: absolute;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  pointer-events: auto;\n}\n\n/* Add Section Controls - positioned at bottom center of section with 50% overlap */\n.futurelayer-add-section-controls {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: auto;\n}\n\n.futurelayer-add-section-button {\n  padding: 8px 16px;\n  font-size: 14px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 500;\n  line-height: 1;\n  background-color: var(--singularity-node-blue-600);\n  color: white;\n  white-space: nowrap;\n}\n\n.futurelayer-add-section-button:hover {\n  background-color: var(--singularity-node-blue-700);\n}\n";var w=n(82521),P=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classes},[e.isOnboardingMode?[t("NodeOnboardingHoverControls")]:e.isSingularityMode?[t("FutureLayerNodeChrome")]:[t("div",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]},[t("SpacingBars"),t("ColumnDragSizer")],1),t("NodeTitlebar"),t("NodeGhostTitlebar"),t("NodeHoverControls"),t("NodeContentEditable")]],2)},I=[],k=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"drag-dots-wrapper",style:e.dragDotsWrapperPositionStyle},[t("div",{staticClass:"drag-dot drag-dot-top-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-top-middle",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-top-right",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-right",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-middle",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:e.dragStart}})])},E=[],T=n(13635);function D(e){return(t,n)=>{if(c.uiStore.activeElementId){const s=(e,t)=>e+t>=0?e+t:0;if("xProperty"in e&&e.xProperty){const i=e.xProperty.replace("%%CURRENTMEDIAQUERY%%",c.uiStore.currentBreakpoint.id),o=s(t.width,n.lastXChange);c.documentStore.throttledPropertyChanged({elementId:c.uiStore.activeElementId,path:i,value:{number:o,unit:"px"},meta:{snapshotLabel:"Resize element"}})}if("yProperty"in e&&e.yProperty){const i=e.yProperty.replace("%%CURRENTMEDIAQUERY%%",c.uiStore.currentBreakpoint.id),o=s(t.height,n.lastYChange);c.documentStore.throttledPropertyChanged({elementId:c.uiStore.activeElementId,path:i,value:{number:o,unit:"px"},meta:{snapshotLabel:"Resize element"}})}}}}var A=n(34676),Z=n(12721);const M={xProperty:"design.size.width.%%CURRENTMEDIAQUERY%%"};let O=class extends s.ZP{constructor(){super(...arguments),this.mouseDragInfo=!1,this.dragDotsWrapperPositionStyle={display:"none"},this.dragCallback=!1,this.unsubscribeFromStorePositionDotsWrapper=()=>{},this.easyEvent=new Z.hF}nextTickPositionDragDotsWrapper(){(0,A.forceNextTick)((()=>this.positionDragDotsWrapper()))}beforeMount(){this.positionDragDotsWrapper(),this.unsubscribeFromStorePositionDotsWrapper=this.$store.subscribe(this.nextTickPositionDragDotsWrapper),window.addEventListener("resize",this.nextTickPositionDragDotsWrapper)}beforeDestroy(){this.unsubscribeFromStorePositionDotsWrapper(),window.removeEventListener("resize",this.nextTickPositionDragDotsWrapper)}dragStart(e){e.preventDefault(),e.stopPropagation(),this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.dragCallback=D(M),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd)}dragging(e){if((0,Z.Pm)(e)){e.preventDefault(),e.stopPropagation();const t=(0,T.nX)();if(!t||!this.mouseDragInfo)return;this.mouseDragInfo={...this.mouseDragInfo,currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY},this.dragCallback&&this.dragCallback(t,this.mouseDragInfo),this.positionDragDotsWrapper()}}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.mouseDragInfo=!1,this.dragCallback=!1}positionDragDotsWrapper(){c.uiStore.activeElementId||(this.dragDotsWrapperPositionStyle={display:"none"});const e=(0,T.nX)();if(!e)return;const{x:t,y:n,width:s,height:i}=e;this.dragDotsWrapperPositionStyle={position:"absolute",top:n.toString()+"px",left:t.toString()+"px",width:s.toString()+"px",height:i.toString()+"px"}}};O=(0,r.gn)([(0,l.wA)({})],O);const B=O,L=B;var N=n(1001),R=(0,N.Z)(L,k,E,!1,null,null,null);const F=R.exports;var V=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.bars,(function(n,s){return t("SpacingBar",{key:s,attrs:{bar:n,isDragging:e.isDragging,isActiveBar:e.clickedHandle===n.location},on:{mousedown:function(t){return e.dragStart(t,n.location)}}})})),1)},$=[],W=n(23493),U=n.n(W);let z=class extends s.ZP{constructor(){super(...arguments),this.clickedHandle=!1,this.mouseDragInfo=!1,this.throttledDragging=U()(this.dragging,60),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperPositionStyle={display:"none"}}dragCallback(e,t,n){console.warn("To use DragMixin you must implement dragCallback()")}dragEndCallback(){}dragStartCallback(e){}dragStart(e,t){e.stopPropagation(),"string"===typeof t?(c.uiStore.setDragMixinDragging(!0),this.clickedHandle=t,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},window.Breakdance.canvas.document.addEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.addEventListener("mouseup",this.dragEnd),this.dragStartCallback(t)):console.warn("To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')")}dragging(e){e.preventDefault(),e.stopPropagation(),requestAnimationFrame((()=>this._draggingFunc(e)))}_draggingFunc(e){const t=(0,T.nX)();t&&this.mouseDragInfo&&(this.mouseDragInfo={...this.mouseDragInfo,currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY},this.clickedHandle&&this.dragCallback(t,this.mouseDragInfo,this.clickedHandle),this.positionWrapper(),(0,T.a7)())}dragEnd(e){e.preventDefault(),e.stopPropagation(),window.Breakdance.canvas.document.removeEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.removeEventListener("mouseup",this.dragEnd),this.mouseDragInfo=!1,this.clickedHandle=!1,c.uiStore.setDragMixinDragging(!1),this.dragEndCallback(),(0,T.a7)()}get isDragging(){return!!this.mouseDragInfo}nextTickPositionsWrapper(){(0,A.forceNextTick)(this.positionWrapper)}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper)}positionWrapper(){if(!c.uiStore.activeElementId)return void(this.wrapperPositionStyle={display:"none"});const e=(0,T.nX)();if(!e)return;const{x:t,y:n,width:s,height:i}=e;this.wrapperPositionStyle={position:"absolute",top:`${n}px`,left:`${t}px`,width:`${s}px`,height:`${i}px`}}};z=(0,r.gn)([l.wA],z);var H=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"spacing-bar",class:e.classList,style:e.style,on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[t("div",{staticClass:"spacing-bar-current-value"},[e._v(e._s(e.value)+"px")])])},G=[],q=n(27361),K=n.n(q);function j(e,t){const n=X(e,t);return n||0}function X(e,t){if(!c.uiStore.activeElement)return!1;const n=Y(e,c.uiStore.currentBreakpoint.id);let s=parseInt(K()(c.uiStore.activeElement,`data.properties.${n}.number`));s||(s=0);let i=K()(c.uiStore.activeElement,`data.properties.${n}.unit`);if(i||(i="px"),"px"!==i&&0!==s){const e=(0,T.lx)(c.uiStore.activeElement);if(!e)return!1;const n=parseInt(e.getPropertyValue(t));return n}return s}function Y(e,t){return e.replace("%%BREAKPOINT%%",t)}var Q=n(31044);let J=class extends s.ZP{constructor(){super(...arguments),this.isHovering=!1,this.resizeObserver=new ResizeObserver(this.onActiveElementResize),this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}get value(){return j(this.bar.affectedPropertyPath,this.bar.cssProperty)}get activeElement(){return Q.kD.activeElement}updateActiveElementPositionWhenItsPresent(){const e=this.activeElement;if(e){const t=(0,T.dq)(e);if(t)return this.activeElementPositionAndSize=(0,T.o7)(t)||null,void(this.valueAtMomentOfElementPositionAndSizeCalculation=this.value)}this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}mounted(){this.intervalHandle=setInterval((()=>{(0,A.forceNextTick)(this.updateActiveElementPositionWhenItsPresent)}),50)}handleActiveElementChange(){this.updateActiveElementPositionWhenItsPresent(),this.resizeObserver.disconnect();const e=this.activeElement;if(e){const t=(0,T.dq)(e);t&&(this.resizeObserver.observe(t,{box:"border-box"}),t.parentElement&&this.resizeObserver.observe(t.parentElement,{box:"border-box"}))}}onActiveElementResize(){this.updateActiveElementPositionWhenItsPresent()}get classList(){return[`spacing-bar-${this.bar.location}`]}get style(){return this.isDragging&&this.isActiveBar||this.isHovering&&!this.isDragging?{...this.barStyle,opacity:1}:this.barStyle}get barStyle(){const e=this.activeElementPositionAndSize;if(!e)return{};const t=this.valueAtMomentOfElementPositionAndSizeCalculation||this.value,{width:n,height:s,y:i,x:o}=e,a=t>5?t:5;switch(this.bar.location){case"inside-top":return{width:`${n}px`,height:`${a}px`,top:`${i}px`,left:`${o}px`,cursor:"row-resize"};case"outside-top":return{width:`${n}px`,height:`${a}px`,top:`${-a+i}px`,left:`${o}px`,cursor:"row-resize"};case"inside-bottom":return{width:`${n}px`,height:`${a}px`,top:i+s-a+"px",left:`${o}px`,cursor:"row-resize"};case"outside-bottom":return{width:`${n}px`,height:`${a}px`,top:`${i+s}px`,left:`${o}px`,cursor:"row-resize"};case"inside-left":return{width:`${a}px`,top:`${i}px`,height:`${s}px`,left:`${o}px`,cursor:"col-resize"};case"outside-left":return{width:`${a}px`,top:`${i}px`,height:`${s}px`,left:o-a+"px",cursor:"col-resize"};case"inside-right":return{width:`${a}px`,top:`${i}px`,height:`${s}px`,left:o+n-a+"px",cursor:"col-resize"};case"outside-right":return{width:`${a}px`,top:`${i}px`,height:`${s}px`,left:`${o+n}px`,cursor:"col-resize"};default:return{}}}beforeDestroy(){this.resizeObserver.disconnect(),this.intervalHandle&&clearInterval(this.intervalHandle)}};(0,r.gn)([(0,l.fI)()],J.prototype,"bar",void 0),(0,r.gn)([(0,l.fI)()],J.prototype,"isDragging",void 0),(0,r.gn)([(0,l.fI)()],J.prototype,"isActiveBar",void 0),(0,r.gn)([(0,l.RL)("activeElement",{immediate:!0})],J.prototype,"handleActiveElementChange",null),J=(0,r.gn)([(0,l.wA)({})],J);const ee=J,te=ee;var ne=(0,N.Z)(te,H,G,!1,null,null,null);const se=ne.exports;var ie=n(84274),oe=n(40681),ae=n(54120);let re=class extends((0,l.Wr)(z)){constructor(){super(...arguments),this.originalValue=!1}get bars(){return this.activeElementSpacingBars?this.activeElementSpacingBars:[]}get activeElementSpacingBars(){return!!c.uiStore.activeElement&&(!(0,ae.CO)(c.uiStore.activeElement.id)&&c.configStore.element(c.uiStore.activeElement.data.type).spacingBars)}dragCallback(e,t,n){const s=this.bars.filter((e=>e.location===n)).pop();if(!c.uiStore.activeElementId||!s)return;let i=0,o=X(s.affectedPropertyPath,s.cssProperty);switch(o||(o=0),this.originalValue||(this.originalValue=o),n){case"inside-top":case"inside-bottom":case"outside-top":case"outside-bottom":i=this.originalValue+t.totalYChange;break;case"inside-left":case"inside-right":case"outside-left":case"outside-right":i=this.originalValue+t.totalXChange;break}i<0&&(i=0);const a=Y(s.affectedPropertyPath,c.uiStore.currentBreakpoint.id);c.documentStore.throttledPropertyChanged({elementId:c.uiStore.activeElementId,path:a,value:{number:i,unit:"px",style:`${i}px`},meta:{snapshotLabel:ie.AZ.forElementByTreeNodeId(c.uiStore.activeElementId,a,oe.P.CHANGE)}})}dragEndCallback(){this.originalValue=!1}};re=(0,r.gn)([(0,l.wA)({components:{SpacingBar:se}})],re);const le=re,ce=le;var de=(0,N.Z)(ce,V,$,!1,null,null,null);const ue=de.exports;var pe=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.shouldShow?t("div",{staticClass:"drag-dots-wrapper",style:e.wrapperPositionStyle},[e.isNotFarLeftColumn?t("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:function(t){return e.dragStart(t,"left")}}},[e.resizedWidths&&"left"in e.resizedWidths?t("div",{staticClass:"drag-dots-column-widths-values"},[t("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.left.siblingWidth)+"% ")]),t("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.left.resizedWidth)+"% ")])]):e._e()]):e._e(),e.isNotFarRightColumn?t("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:function(t){return e.dragStart(t,"right")}}},[e.resizedWidths&&"right"in e.resizedWidths?t("div",{staticClass:"drag-dots-column-widths-values"},[t("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.right.resizedWidth)+"% ")]),t("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.right.siblingWidth)+"% ")])]):e._e()]):e._e()]):e._e()},he=[],ge=n(31381),me=n(38020);function ve(e){const t=ye(e),n=be(e);if(!t||!n)return!1;const s=(0,me.v)(t/n*100);return s||!1}function fe(e,t,n){const s=n,i=be(e);if(!s||!i)return!1;const o=(s+t)/i*100;return(0,me.v)(o)}function ye(e){const t=(0,T.Sv)(e);return!!t&&t.width}function be(e){const t=(0,ge.getNodeParent)(c.documentStore.document.tree,e.id);if(t){const e=(0,T.Sv)(t);if(e)return e.width}return!1}function Se(e){const t=(0,T.lx)(e);if(!t)return!1;const n=parseInt(t.getPropertyValue("padding-left")),s=parseInt(t.getPropertyValue("padding-right"));if(Number.isNaN(n)||Number.isNaN(s))return!1;const i=be(e);if(!i)return!1;const o=(n+s)/i*100;return Math.ceil(o)}var _e=n(884),xe=n(92277);const Ce=20;function we(e,t,n,s){const i="right"===s?t+1:t-1,o=e.children[i],a=e.children[t];if(!a||!o)return!1;if(t<0||i<0)return!1;const r=Se(a),l=Se(o);let c=Ce;!1!==r&&!1!==l&&(c=Math.max(r,l));let d=100-(0,_e.IQ)(a)-(0,_e.IQ)(o),u=100-d-n;return n<c&&(n=c,u=100-d-n),u<c&&(u=c,n=100-d-u),d>100-2*c&&(n=(100-d)/2,u=(100-d)/2),n=(0,me.v)(n),u=(0,me.v)(u),d=(0,me.v)(d),n+u+d!==100&&(u=100-d-n,u=(0,me.v)(u)),(0,xe.l)(a.id,n),(0,xe.l)(o.id,u),(0,_e.wr)(e),{resizedWidth:n,siblingWidth:u}}var Pe=n(69137),Ie=n(57088);let ke=class extends((0,l.Wr)(z)){constructor(){super(...arguments),this.resizedWidths=!1,this.widthOnDragStart=!1}get columnsAreNotResizeableAtBaseBreakpoint(){if(!this.activeColumn)return!1;const e=(0,_e.fy)(this.activeColumn);if(!e)return!1;const t="design.layout.stack_vertically",n="design.layout.fifty_percent",s=K()(e.data.properties,t,!1),i=K()(e.data.properties,n,!1);return s===Ie.Wp||i===Ie.Wp}get shouldShow(){return c.uiStore.currentBreakpoint.id===Ie.Wp&&this.activeColumn&&!this.columnsAreNotResizeableAtBaseBreakpoint}dragStartCallback(){Pe.n.startTransaction()}dragCallback(e,t,n){if(!this.activeColumn||"left"!==n&&"right"!==n)return;const s=(0,ge.getNodeIndex)(c.documentStore.document.tree,this.activeColumn.id),i=(0,ge.getNodeParent)(c.documentStore.document.tree,this.activeColumn.id);if(!1===s||!1===i)return;let o=0;if(this.widthOnDragStart||(this.widthOnDragStart=ye(this.activeColumn)),!this.widthOnDragStart)return;o="right"===n?t.totalXChange:-1*t.totalXChange;const a=fe(this.activeColumn,o,this.widthOnDragStart);if(!a)return;const r=we(i,s,a,n);r&&(this.resizedWidths={[n]:{resizedWidth:Number(r.resizedWidth.toFixed(2)),siblingWidth:Number(r.siblingWidth.toFixed(2))}})}dragEndCallback(){this.resizedWidths=!1,this.widthOnDragStart=!1,Pe.n.endTransaction("Resizing column")}get isNotFarLeftColumn(){if(!this.activeColumn)return!1;const e=(0,ge.getNodeIndex)(c.documentStore.document.tree,this.activeColumn.id);return!1!==e&&0!==e}get isNotFarRightColumn(){if(!this.activeColumn)return!1;const e=(0,ge.getNodeIndex)(c.documentStore.document.tree,this.activeColumn.id),t=(0,ge.getNodeParent)(c.documentStore.document.tree,this.activeColumn.id);return!1!==e&&!1!==t&&e!==t.children.length-1}get activeColumn(){return!!(0,_e.cG)(c.uiStore.activeElement)&&c.uiStore.activeElement}get columnWidthInPercent(){return!!this.activeColumn&&ve(this.activeColumn)}};ke=(0,r.gn)([(0,l.wA)({})],ke);const Ee=ke,Te=Ee;var De=(0,N.Z)(Te,pe,he,!1,null,null,null);const Ae=De.exports;var Ze=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[t("div",{staticClass:"node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?t("OnCanvasDragHandle",{attrs:{node:e.node}},[t("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[t("span",{staticClass:"node-titlebar-button"},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"MaximizeIcon":"GripDotsVerticalIcon",size:"breakdance"===e.builderMode?11:12}})],1),t("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?t("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?t("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[t("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[t("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"DuplicateIcon":"DuplicateSolidIcon",size:"13"}})],1),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"TrashIcon":"TrashSolidIcon",size:"12"}})],1)],2)])},Me=[],Oe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{on:{mousedown:function(t){return t.stopPropagation(),e.updateCurrentlyDraggingElementId.apply(null,arguments)}}},[e._t("default")],2)},Be=[],Le=n(7824),Ne=n(53809),Re=n(9950);let Fe=class extends l.w3{constructor(){super(...arguments),this.lastSubmittedDrag=!1,this.easyEvent=new Z.hF}get nestingPermissions(){return(0,Re.kE)(this.node)}get canvasElementDraggedId(){return c.uiStore.currentlyDraggingCanvasElementId}watchCanvasElementDraggedId(){this.dragStart()}updateCurrentlyDraggingElementId(){c.uiStore.setCanvasElementDraggedId(this.node.id)}dragStart(){if(!c.uiStore.hasFullAccess||!this.canvasElementDraggedId)return;this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd);const e=(0,ge.getNodeParent)(c.documentStore.document.tree,this.node.id);e&&this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:e.id,onlyShowTargetOutline:!0}),(0,T.a7)()}setCanvasDragPlaceholderPosition(e){c.uiStore.setCanvasDragPlaceholderPosition(e)}dragging(e){if((0,Z.Pm)(e)){e.preventDefault(),e.stopPropagation();const t=e.clientX,n=e.clientY;c.uiStore.setDragMousePosition({x:t,y:n});const s=(0,Le.Qf)(t,n);if(void 0===s)return;const i=(0,ge.findNode)(c.documentStore.document.tree,s);if(void 0===i)return;const o=(0,Re.PN)(c.documentStore.document.tree,i,this.nestingPermissions);if(!o)return;const a=o.id;if(s===this.node.id||(0,ge.treeNodeReduce)(((e,t)=>(t||(t=e.children.find((e=>s===e.id))),t)),this.node,void 0))this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:a,onlyShowTargetOutline:!0}),this.setDropPosition(!1);else if(s===a)this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(t,n,s,this.node.id,o);else if(o.children.find((e=>s===e.id)))this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,s,this.node.id,o);else if((0,ge.treeNodeReduce)(((e,t)=>(t||(t=e.children.find((e=>s===e.id))),t)),o,void 0)){const e=(0,Le.dD)(t,n).reduce(((e,t)=>e||o.children.find((e=>e.id===t))),void 0);e&&this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,e.id,this.node.id,o)}}}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&c.documentStore.moveElement(this.lastSubmittedDrag),c.uiStore.setDragMousePosition(null),this.setCanvasDragPlaceholderPosition(null),this.lastSubmittedDrag=!1,c.uiStore.endCanvasElementDrag(),(0,T.a7)()}handleDragWhenMouseIsOverAChildOfTheDropTarget(e,t,n,s,i,o=!1){const a=(0,Le.qE)(i),r="before"===(0,Le.dv)(e,t,n,a)?"before":"after",l=i.children.map((e=>e.id)).filter((e=>e!==s)),c=i.children.map((e=>e.id)).findIndex((e=>e===n));let d=l.findIndex((e=>e===n));"after"===r&&d++,!0===o?(this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:c,beforeOrAfter:r}),this.setDropPosition(!1)):(this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:c,beforeOrAfter:r}),this.setDropPosition({draggedElementId:s,droppedOnElementId:i.id,index:d}))}handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(e,t,n,s,i){if(0===i.children.length)this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:0,beforeOrAfter:"after"}),this.setDropPosition({draggedElementId:s,droppedOnElementId:i.id,index:0});else{const n=i.children.map(((e,t)=>({positionAndSize:(0,T.Sv)(e,"absolute"),index:t,id:e.id}))).filter((e=>e.positionAndSize)).map((e=>({min:{x:e.positionAndSize.x,y:e.positionAndSize.y},max:{x:e.positionAndSize.x+e.positionAndSize.width,y:e.positionAndSize.y+e.positionAndSize.height},nodeIndex:e.index,id:e.id}))).map((n=>({...n,distance:(0,Ne.T)(n,{x:e,y:t})}))),o=n.reduce(((e,t)=>e.distance<t.distance?e:t)),a=(o.min.x+o.max.x)/2,r=(o.min.y+o.max.y)/2,l=a>e?"left":"right",c=r>t?"above":"below",d=(0,Le.qE)(i);let u;if(u="vertical"===d?"above"===c?"before":"after":"left"===l?"before":"after",o.id===s)return this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:o.nodeIndex,beforeOrAfter:u}),void this.setDropPosition(!1);const p=i.children.map((e=>e.id)).filter((e=>e!==s));let h=p.findIndex((e=>e===o.id));"after"===u&&h++,this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:o.nodeIndex,beforeOrAfter:u}),this.setDropPosition({draggedElementId:s,droppedOnElementId:i.id,index:h})}}setPlaceholder(e){(0,Re.xJ)(c.documentStore.document.tree,this.node,e.dropTargetId)&&this.movePlaceholder(e.dropTargetId,e.dragPlaceholderIndex,e.beforeOrAfter)}setDropPosition(e){!1!==e?(0,Re.xJ)(c.documentStore.document.tree,this.node,e.droppedOnElementId)&&(this.lastSubmittedDrag=e):this.lastSubmittedDrag=!1}movePlaceholder(e,t,n){let s=!1;const i=(0,ge.findNode)(c.documentStore.document.tree,e);if(i){const e=i.children[t],o=i.children[t-1],a=i.children[t+1];e&&e.id===this.node.id&&(s=!0),o&&o.id===this.node.id&&"before"===n&&(s=!0),a&&a.id===this.node.id&&"after"===n&&(s=!0)}if(c.uiStore.canvasDragPlaceholderPosition){const s=()=>t===c.uiStore.canvasDragPlaceholderPosition.nodeIndex+1,i=()=>t===c.uiStore.canvasDragPlaceholderPosition.nodeIndex-1;if(c.uiStore.canvasDragPlaceholderPosition.parentId===e){if(s()&&"after"===c.uiStore.canvasDragPlaceholderPosition.position&&"before"===n)return;if(i()&&"before"===c.uiStore.canvasDragPlaceholderPosition.position&&"after"===n)return}}this.setCanvasDragPlaceholderPosition({parentId:e,nodeIndex:t,position:n,onlyShowTargetOutline:s})}};(0,r.gn)([(0,l.fI)()],Fe.prototype,"node",void 0),(0,r.gn)([(0,l.RL)("canvasElementDraggedId")],Fe.prototype,"watchCanvasElementDraggedId",null),Fe=(0,r.gn)([l.wA],Fe);const Ve=Fe,$e=Ve;var We=(0,N.Z)($e,Oe,Be,!1,null,null,null);const Ue=We.exports;var ze=n(21115),He=n(85283),Ge=n(94550),qe=n(16734),Ke=n(55735),je=n(20210);let Xe=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}nextTickPositionsWrapper(){(0,A.forceNextTick)(this.calculateStylesAndTitle)}openContextMenu(e){e.stopPropagation(),e.preventDefault();const t=(0,ze.e)(e.clientX,e.clientY);this.elementId&&t&&c.uiStore.setOnCanvasRightClickMenuState({elementId:this.elementId,position:t})}get builderMode(){return c.configStore.builderMode}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate),qe.uq.register(Ke.r.SHIFT_ESC,(()=>{this.activateParent()}))}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval),qe.uq.unbind(Ke.r.SHIFT_ESC)}get isDraftSection(){if(!this.element)return!1;if(this.element.data.type!==Ge.SECTION_SLUG)return!1;const e=K()(this.element.data.properties,"settings.advanced.draft");return!!e}get isDragAndDropEnabled(){return c.uiStore.hasFullAccess}get isElementUpdating(){return!!this.elementId&&!!c.uiStore.elementsThatAreUpdating[this.elementId]}calculateStylesAndTitle(){!c.uiStore.elementWithContentEditable&&this.element?(this.elementTitle=this.getElementTitle(),this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element)),this.titlebarPositionStyle=(0,T.A3)(this.element)):this.wrapperPositionStyle={display:"none"}}get titlebarClasses(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection,"node-titlebar-is-offset":!!this.wrapperPositionStyle.outlineOffset}}get isDragging(){return c.uiStore.currentlyDraggingCanvasElementId===this.elementId}get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}getElementTitle(){return this.element?(0,je.mH)(this.element):""}duplicate(){this.elementId&&c.documentStore.duplicateElementAndActivateIt(this.elementId)}remove(){null!==this.elementId&&c.documentStore.deleteElement({nodeId:this.elementId})}refreshSsr(){c.uiStore.setRefreshSsrElementId(this.elementId)}get hasSSr(){const e=this.element&&c.configStore.element(this.element.data.type);return e?e.template.includes("%%SSR%%"):""}get hasParent(){return this.parentElement&&"root"!==this.parentElement.data.type}get node(){return this.element||!1}activateParent(){this.parentElement&&c.uiStore.activateElement(this.parentElement.id)}get parentElement(){if(!this.element)return!1;const e=(0,ge.getNodeParent)(c.documentStore.document.tree,this.element.id);return e||!1}};Xe=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,OnCanvasDragHandle:Ue}})],Xe);const Ye=Xe,Qe=Ye;var Je=(0,N.Z)(Qe,Ze,Me,!1,null,null,null);const et=Je.exports;var tt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle})},nt=[];let st=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!1,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=U()((()=>(0,A.forceNextTick)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.uiStore.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=U()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging}}get isNotDragging(){return!c.uiStore.isCanvasElementBeingDragged&&!c.uiStore.isDragMixinDragging}get element(){if(!c.uiStore.lastHoveredOnCanvasElementId||c.uiStore.elementWithContentEditable)return!1;const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.lastHoveredOnCanvasElementId);return e||!1}setHoveredNode(e,t){const n=(0,Le.Qf)(e,t);if(void 0!==n){const e=(0,ge.findNode)(c.documentStore.document.tree,n);e&&c.uiStore.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!1===this.element)return;const s=(0,T.Sv)(this.element,"absolute");if(!s)return;const{x:i,y:o,width:a,height:r}=s;this.shouldShowControls=t>i+a-48&&t<i+a&&n>o&&n<o+r}positionWrapper(){!c.uiStore.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element)):this.wrapperPositionStyle={display:"none"}}};st=(0,r.gn)([(0,l.wA)({})],st);const it=st,ot=it;var at=(0,N.Z)(ot,tt,nt,!1,null,null,null);const rt=at.exports;var lt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},ct=[];let dt=class extends l.w3{constructor(){super(...arguments),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperStyle={display:"none"},this.lastModifiedDomElement=null}mounted(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}get domElement(){if(!c.uiStore.elementWithContentEditable)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.elementWithContentEditable);if(!e)return null;const t=(0,T.dq)(e);if("true"===t?.contentEditable)return this.lastModifiedDomElement=t,t;const n=t?.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}calculateWrapperStyles(){(0,A.forceNextTick)((()=>{!this.domElement&&this.lastModifiedDomElement&&(this.lastModifiedDomElement.removeEventListener("input",this.calculateWrapperStyles),this.lastModifiedDomElement=null),this.wrapperStyle=(0,T.Qi)(this.domElement),this.domElement&&this.domElement.addEventListener("input",this.calculateWrapperStyles)}))}};dt=(0,r.gn)([(0,l.wA)({})],dt);const ut=dt,pt=ut;var ht=(0,N.Z)(pt,lt,ct,!1,null,null,null);const gt=ht.exports;var mt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls node-hover-controls--onboarding",class:e.wrapperClassList,style:e.wrapperPositionStyle,on:{click:e.activateElement}},[t("div",{staticClass:"node-hover-onboarding-controls-actions"},[t("div",{staticClass:"node-hover-onboarding-controls-buttons"},[t("NodeOnboardingPaletteButtons",{attrs:{element:e.element}}),t("NodeOnboardingAIRewriteButton",{attrs:{element:e.element}}),t("NodeOnboardingReplaceSectionButton",{attrs:{element:e.element}})],1)]),t("NodeOnboardingAddSectionButton",{attrs:{element:e.element}})],1)},vt=[],ft=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-onboarding-controls-palette-buttons"},e._l(e.groupedGlobalColors,(function(n,s){return t("NodeOnboardingPaletteButton",{key:s,attrs:{colorGroup:n,elementId:e.element.id}})})),1)},yt=[],bt=n(6778),St=n(36240);let _t=class extends l.w3{get groupedGlobalColors(){return(0,bt.xS)(Q.cr.globalColors)}};(0,r.gn)([(0,l.fI)()],_t.prototype,"element",void 0),_t=(0,r.gn)([(0,l.wA)({components:{NodeOnboardingPaletteButton:St.Z}})],_t);const xt=_t,Ct=xt;var wt=(0,N.Z)(Ct,ft,yt,!1,null,null,null);const Pt=wt.exports;var It=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"node-hover-onboarding-controls-buttons__button",attrs:{disabled:e.rewriteInProgress},on:{click:e.rewrite}},[e.rewriteInProgress?t("Icon",{staticClass:"is-spinning",attrs:{icon:"NotchSolidIcon",title:"Importing the data",size:"14"}}):t("Icon",{attrs:{icon:"SparklesSolidIcon",title:"Success loading the data",size:"14"}}),e._v(" Rewrite ")],1)},kt=[],Et=n(65913),Tt=n(47431);let Dt=class extends l.w3{constructor(){super(...arguments),this.rewriteInProgress=!1}async rewrite(){if(!this.rewriteInProgress&&this.element){this.rewriteInProgress=!0,(0,Tt.K)("Onboarding",{action:"onboarding_app_ui_interaction",type:"node_rewrite_button"});try{await(0,Et.H2)(this.element.id)}catch(e){console.error("Error during rewrite:",e)}this.rewriteInProgress=!1}}};(0,r.gn)([(0,l.fI)()],Dt.prototype,"element",void 0),Dt=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],Dt);const At=Dt,Zt=At;var Mt=(0,N.Z)(Zt,It,kt,!1,null,null,null);const Ot=Mt.exports;var Bt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"node-hover-onboarding-controls-buttons__button",on:{click:e.replaceSection}},[t("Icon",{attrs:{icon:"ArrowsRotateSolidIcon",size:"14"}}),e._v(" Shuffle ")],1)},Lt=[],Nt=n(77622);let Rt=class extends l.w3{replaceSection(){Q.kD.activateElement(this.element.id),(0,Nt.R4)(this.element.id),(0,Tt.K)("Onboarding",{action:"onboarding_app_ui_interaction",type:"node_shuffle_section_button"}),window.parent.postMessage({id:"",type:"RESPONSE",payload:{success:!0,payload:{message:"Element activated",elementId:this.element.id,tree:Q.Hb.document.tree.root.children,document:Q.Hb.document}}},"*")}};(0,r.gn)([(0,l.fI)()],Rt.prototype,"element",void 0),Rt=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],Rt);const Ft=Rt,Vt=Ft;var $t=(0,N.Z)(Vt,Bt,Lt,!1,null,null,null);const Wt=$t.exports;var Ut=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-onboarding-controls-add-section"},[t("button",{staticClass:"node-hover-onboarding-controls-buttons__button",on:{click:e.addSection}},[t("Icon",{attrs:{icon:"PlusIconSolid",size:"14"}}),e._v(" Add Section ")],1)])},zt=[];let Ht=class extends l.w3{addSection(){(0,Tt.K)("Onboarding",{action:"onboarding_app_ui_interaction",type:"node_add_section_button"}),(0,Nt.gs)(this.element)}};(0,r.gn)([(0,l.fI)({required:!0})],Ht.prototype,"element",void 0),Ht=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],Ht);const Gt=Ht,qt=Gt;var Kt=(0,N.Z)(qt,Ut,zt,!1,null,null,null);const jt=Kt.exports;let Xt=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!0,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=U()((()=>(0,A.forceNextTick)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.uiStore.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=U()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":!0,"node-hover-controls--outline":this.isNotDragging}}get isNotDragging(){return!c.uiStore.isCanvasElementBeingDragged&&!c.uiStore.isDragMixinDragging}activateElement(){this.element&&(window.parent.postMessage({id:"",type:"RESPONSE",payload:{success:!0,payload:{message:"Element activated",activeElementId:this.element.id,document:c.documentStore.document}}},"*"),c.uiStore.activateElement(this.element.id))}get element(){if(!c.uiStore.lastHoveredOnCanvasElementId||c.uiStore.elementWithContentEditable)return!1;const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.lastHoveredOnCanvasElementId);return e||!1}setHoveredNode(e,t){const n=(0,Le.Qf)(e,t);if(void 0!==n){const e=(0,ge.findNode)(c.documentStore.document.tree,n);e&&"EssentialElements\\Section"===e.data.type&&c.uiStore.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!1===this.element)return;const s=(0,T.Sv)(this.element,"absolute");if(!s)return;const{x:i,y:o,width:a,height:r}=s;this.shouldShowControls=t>i+a-48&&t<i+a&&n>o&&n<o+r}positionWrapper(){!c.uiStore.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element)):this.wrapperPositionStyle={display:"none"}}};Xt=(0,r.gn)([(0,l.wA)({components:{NodeOnboardingPaletteButtons:Pt,NodeOnboardingAIRewriteButton:Ot,NodeOnboardingReplaceSectionButton:Wt,NodeOnboardingAddSectionButton:jt}})],Xt);const Yt=Xt,Qt=Yt;var Jt=(0,N.Z)(Qt,mt,vt,!1,null,null,null);const en=Jt.exports;var tn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"node-titlebar-wrapper":!0,"node-titlebar-wrapper--ghost":!0,"node-titlebar--hide":e.isDragging},style:e.wrapperPositionStyle},[t("div",{staticClass:"node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle},[t("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[t("span",{staticClass:"node-titlebar-button",style:{width:"breakdance"===e.builderMode?"11px":"12px"}},["oxygen"===e.builderMode?t("Icon",{attrs:{icon:e.elementIcon,size:12}}):e._e()],1),t("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?t("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])])])},nn=[];let sn=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}nextTickPositionsWrapper(){(0,A.forceNextTick)(this.calculateStylesAndTitle)}get builderMode(){return c.configStore.builderMode}get isDragging(){return!!c.uiStore.currentlyDraggingCanvasElementId}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval)}get isDraftSection(){if(!this.element)return!1;if(this.element.data.type!==Ge.SECTION_SLUG)return!1;const e=K()(this.element.data.properties,"settings.advanced.draft");return!!e}calculateStylesAndTitle(){!this.element||this.activeElement&&this.activeElement.id===this.elementId?this.wrapperPositionStyle={display:"none"}:(this.elementTitle=this.getElementTitle(),this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element)),this.titlebarPositionStyle=(0,T.A3)(this.element))}get titlebarClasses(){return{"node-titlebar-is-offset":!!this.wrapperPositionStyle.outlineOffset}}get activeElement(){return c.uiStore.activeElement}get element(){if(!c.uiStore.lastHoveredOnCanvasElementId)return!1;const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.lastHoveredOnCanvasElementId);return e||!1}get elementId(){return this.element?this.element.id:null}getElementTitle(){return this.element?(0,je.mH)(this.element):""}get elementIcon(){return this.element?(0,je.Ff)(this.element,!0):"MaximizeIcon"}get node(){return this.element||!1}};sn=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,OnCanvasDragHandle:Ue}})],sn);const on=sn,an=on;var rn=(0,N.Z)(an,tn,nn,!1,null,null,null);const ln=rn.exports;var cn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"node-titlebar-wrapper":!0,"singularity-node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[t("div",{staticClass:"node-titlebar node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?t("OnCanvasDragHandle",{attrs:{node:e.node}},[t("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[t("span",{staticClass:"node-titlebar-button"},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"MaximizeIcon":"GripDotsVerticalIcon",size:"breakdance"===e.builderMode?11:12}})],1),t("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?t("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?t("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[t("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[t("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"DuplicateIcon":"DuplicateSolidIcon",size:"13"}})],1),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"TrashIcon":"TrashSolidIcon",size:"12"}})],1)],2)])},dn=[];let un=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}nextTickPositionsWrapper(){(0,A.forceNextTick)(this.calculateStylesAndTitle)}openContextMenu(e){e.stopPropagation(),e.preventDefault();const t=(0,ze.e)(e.clientX,e.clientY);this.elementId&&t&&c.uiStore.setOnCanvasRightClickMenuState({elementId:this.elementId,position:t})}get builderMode(){return c.configStore.builderMode}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate),qe.uq.register(Ke.r.SHIFT_ESC,(()=>{this.activateParent()}))}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval),qe.uq.unbind(Ke.r.SHIFT_ESC)}get isDraftSection(){if(!this.element)return!1;if(this.element.data.type!==Ge.SECTION_SLUG)return!1;const e=K()(this.element.data.properties,"settings.advanced.draft");return!!e}get isDragAndDropEnabled(){return c.uiStore.hasFullAccess}get isElementUpdating(){return!!this.elementId&&!!c.uiStore.elementsThatAreUpdating[this.elementId]}calculateStylesAndTitle(){!c.uiStore.elementWithContentEditable&&this.element?(this.elementTitle=this.getElementTitle(),this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element),4),this.titlebarPositionStyle=(0,T.A3)(this.element)):this.wrapperPositionStyle={display:"none"}}get titlebarClasses(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection}}get isDragging(){return c.uiStore.currentlyDraggingCanvasElementId===this.elementId}get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}get elementIcon(){return this.element?(0,je.Ff)(this.element,!0):"MaximizeIcon"}getElementTitle(){return this.element?(0,je.mH)(this.element):""}duplicate(){this.elementId&&c.documentStore.duplicateElementAndActivateIt(this.elementId)}remove(){null!==this.elementId&&c.documentStore.deleteElement({nodeId:this.elementId})}refreshSsr(){c.uiStore.setRefreshSsrElementId(this.elementId)}get hasSSr(){const e=this.element&&c.configStore.element(this.element.data.type);return e?e.template.includes("%%SSR%%"):""}get hasParent(){return this.parentElement&&"root"!==this.parentElement.data.type}get node(){return this.element||!1}activateParent(){this.parentElement&&c.uiStore.activateElement(this.parentElement.id)}get parentElement(){if(!this.element)return!1;const e=(0,ge.getNodeParent)(c.documentStore.document.tree,this.element.id);return e||!1}};un=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,OnCanvasDragHandle:Ue}})],un);const pn=un,hn=pn;var gn=(0,N.Z)(hn,cn,dn,!1,null,null,null);const mn=gn.exports;var vn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls node-singularity-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle},[e.isSectionElement&&e.element?[e.element?t("AddSectionButton",{attrs:{sectionId:e.element.id}}):e._e(),e.element&&!e.isActiveElement?t("EditSectionButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e(),e.isChildOfGrid&&e.element?[e.element?t("AddAnotherButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e()],2)},fn=[],yn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-position-wrapper singularity-position-wrapper--bottom-center"},[t("div",{staticClass:"singularity-button-group"},[t("SingularityCanvasButton",{attrs:{icon:"PlusIconSolid",text:"Section"},on:{click:e.addSection}})],1)])},bn=[],Sn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classes,attrs:{role:"button"},on:{click:function(t){return e.$emit("click")}}},[t("Icon",{staticClass:"singularity-canvas-button__icon",attrs:{icon:e.icon,size:"14"}}),t("span",{staticClass:"singularity-canvas-button__text"},[e._v(e._s(e.text))])],1)},_n=[];let xn=class extends s.ZP{get classes(){return{"singularity-canvas-button":!0,"singularity-canvas-button--small":"small"===this.size,"singularity-canvas-button--large":"large"===this.size}}};(0,r.gn)([(0,l.fI)({type:String,required:!0})],xn.prototype,"icon",void 0),(0,r.gn)([(0,l.fI)({type:String,required:!0})],xn.prototype,"text",void 0),(0,r.gn)([(0,l.fI)({type:String,default:null})],xn.prototype,"size",void 0),xn=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],xn);const Cn=xn,wn=Cn;var Pn=(0,N.Z)(wn,Sn,_n,!1,null,null,null);const In=Pn.exports;let kn=class extends l.w3{addSection(){c.singularityStore.setSectionAddOrSwapPanelState({mode:"add_after",sectionId:this.sectionId}),c.singularityStore.setSectionLibraryModalState(!0)}};(0,r.gn)([(0,l.fI)()],kn.prototype,"sectionId",void 0),kn=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,SingularityCanvasButton:In}})],kn);const En=kn,Tn=En;var Dn=(0,N.Z)(Tn,yn,bn,!1,null,null,null);const An=Dn.exports;var Zn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-add-another-button",on:{click:e.addAnother}},[t("div",{staticClass:"singularity-canvas-add-another-button__inner"},[t("Icon",{attrs:{icon:"PlusIconSolid",size:"14"}})],1)])},Mn=[];let On=class extends l.w3{addAnother(){c.documentStore.duplicateElement({elementId:this.elementId})}};(0,r.gn)([(0,l.fI)()],On.prototype,"elementId",void 0),On=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],On);const Bn=On,Ln=Bn;var Nn=(0,N.Z)(Ln,Zn,Mn,!1,null,null,null);const Rn=Nn.exports;var Fn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-background-image-button",on:{click:e.editBackgroundImage}},[e._v("Edit Background Image")])},Vn=[];let $n=class extends l.w3{editBackgroundImage(){c.singularityStore.setBackgroundImageEditorPanelState({sectionId:this.elementId}),c.singularityStore.setSingularityLeftPanel("background_image_editor")}};(0,r.gn)([(0,l.fI)()],$n.prototype,"elementId",void 0),$n=(0,r.gn)([(0,l.wA)({components:{}})],$n);const Wn=$n,Un=Wn;var zn=(0,N.Z)(Un,Fn,Vn,!1,null,null,null);const Hn=zn.exports;var Gn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-icon-button",on:{click:e.editIcon}},[e._v("Change Icon")])},qn=[];let Kn=class extends l.w3{editIcon(){c.singularityStore.setIconEditorPanelState({iconId:this.elementId}),c.singularityStore.setSingularityLeftPanel("icon_editor")}};(0,r.gn)([(0,l.fI)()],Kn.prototype,"elementId",void 0),Kn=(0,r.gn)([(0,l.wA)({components:{}})],Kn);const jn=Kn,Xn=jn;var Yn=(0,N.Z)(Xn,Gn,qn,!1,null,null,null);const Qn=Yn.exports;var Jn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-link-button",on:{click:e.editLink}},[e._v("Edit Link")])},es=[];const ts=[{elementSlug:Ge.WRAPPER_LINK_SLUG,linkPropertyPaths:["content.content.link"]},{elementSlug:Ge.LINK_SLUG,linkPropertyPaths:["content.content.link"]},{elementSlug:Ge.BUTTON_SLUG,linkPropertyPaths:["content.content.link"]},{elementSlug:"EssentialElements\\PricingTable",linkPropertyPaths:["content.content.button.link"]}];function ns(e){return ts.some((t=>t.elementSlug===e))}function ss(e){return ts.find((t=>t.elementSlug===e))?.linkPropertyPaths}function is(e){return(0,ge.parentNodesReduce)(((e,t)=>!!ns(e.data.type)||t),c.documentStore.document.tree,e,!1)}function os(e){return(0,ge.parentNodesReduce)(((e,t)=>ns(e.data.type)?e:t),c.documentStore.document.tree,e,void 0)}let as=class extends l.w3{editLink(){var e=(0,ge.findNode)(c.documentStore.document.tree,this.elementId);if(!e)return;if(ns(e.data.type)||(e=os(e)),!e)return;if(!ns(e.data.type))return;const t=ss(e.data.type);t&&(c.singularityStore.setLinkEditorPanelState({elementId:e.id,linkPropertyPaths:t}),c.singularityStore.setSingularityLeftPanel("link_editor"))}};(0,r.gn)([(0,l.fI)()],as.prototype,"elementId",void 0),as=(0,r.gn)([(0,l.wA)({components:{}})],as);const rs=as,ls=rs;var cs=(0,N.Z)(ls,Jn,es,!1,null,null,null);const ds=cs.exports;var us=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-content-properties-button",on:{click:e.editContentProperties}},[e._v("Edit Content Properties")])},ps=[];let hs=class extends l.w3{editContentProperties(){c.uiStore.activateElement(this.elementId),c.singularityStore.setContentPropertiesEditorPanelState(!0),c.singularityStore.setSingularityLeftPanel("content_properties_editor")}};(0,r.gn)([(0,l.fI)()],hs.prototype,"elementId",void 0),hs=(0,r.gn)([(0,l.wA)({components:{}})],hs);const gs=hs,ms=gs;var vs=(0,N.Z)(ms,us,ps,!1,null,null,null);const fs=vs.exports;var ys=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-sticky-section-edit"},[t("div",{staticClass:"singularity-button-group"},[t("SingularityCanvasButton",{attrs:{icon:"EditSolidIcon",text:"Edit Section"},on:{click:e.activateElement}})],1)])},bs=[];let Ss=class extends s.ZP{activateElement(){c.uiStore.activateElement(this.elementId),c.singularityStore.setSingularityLeftPanel("page_structure")}};(0,r.gn)([(0,l.fI)()],Ss.prototype,"elementId",void 0),Ss=(0,r.gn)([(0,l.wA)({components:{SingularityCanvasButton:In}})],Ss);const _s=Ss,xs=_s;var Cs=(0,N.Z)(xs,ys,bs,!1,null,null,null);const ws=Cs.exports;let Ps=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!0,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=U()((()=>(0,A.forceNextTick)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.uiStore.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=U()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging,"node-hover-controls--active":this.isActiveElement}}get isNotDragging(){return!c.uiStore.isCanvasElementBeingDragged&&!c.uiStore.isDragMixinDragging}get isActiveElement(){return this.element&&c.uiStore.activeElementId===this.element.id}get element(){if(!c.uiStore.lastHoveredOnCanvasElementId||c.uiStore.elementWithContentEditable)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.lastHoveredOnCanvasElementId);return e||null}setHoveredNode(e,t){const n=(0,Le.Qf)(e,t);if(void 0!==n){const e=(0,ge.findNode)(c.documentStore.document.tree,n);e&&c.uiStore.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!this.element)return;const s=(0,T.Sv)(this.element,"absolute");if(!s)return;const{x:i,y:o,width:a,height:r}=s;this.shouldShowControls=t>i+a-48&&t<i+a&&n>o&&n<o+r}positionWrapper(){!c.uiStore.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element),4):this.wrapperPositionStyle={display:"none"}}get isSectionElement(){return this.element&&this.element.data.type===Ge.SECTION_SLUG}get isImageElement(){return this.element&&this.element.data.type===Ge.IMAGE_SLUG}get isSectionElementWithBackgroundImage(){return this.element&&this.element.data.type===Ge.SECTION_SLUG&&"image"==K()(this.element.data.properties,"design.background.type")}get isIconElement(){return this.element&&this.element.data.type===Ge.ICON_SLUG}get isChildOfGrid(){if(!this.element)return!1;const e=(0,ge.findNode)(c.documentStore.document.tree,this.element._parentId);return!!e&&e.data.type===Ge.GRID_SLUG}get isLinkElementOrChildOfLinkElement(){return!!this.element&&(ns(this.element.data.type)||is(this.element))}};Ps=(0,r.gn)([(0,l.wA)({components:{AddSectionButton:An,AddAnotherButton:Rn,EditBackgroundImageButton:Hn,EditLinkButton:ds,EditIconButton:Qn,EditContentPropertiesButton:fs,SingularityCanvasButton:In,EditSectionButton:ws}})],Ps);const Is=Ps,ks=Is;var Es=(0,N.Z)(ks,vn,fn,!1,null,null,null);const Ts=Es.exports;var Ds=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},As=[];let Zs=class extends l.w3{constructor(){super(...arguments),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperStyle={display:"none"},this.lastModifiedDomElement=null}mounted(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}get domElement(){if(!c.uiStore.elementWithContentEditable)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.elementWithContentEditable);if(!e)return null;const t=(0,T.dq)(e);if("true"===t?.contentEditable)return this.lastModifiedDomElement=t,t;const n=t?.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}calculateWrapperStyles(){(0,A.forceNextTick)((()=>{!this.domElement&&this.lastModifiedDomElement&&(this.lastModifiedDomElement.removeEventListener("input",this.calculateWrapperStyles),this.lastModifiedDomElement=null),this.wrapperStyle=(0,T.Qi)(this.domElement),this.domElement&&this.domElement.addEventListener("input",this.calculateWrapperStyles)}))}};Zs=(0,r.gn)([(0,l.wA)({})],Zs);const Ms=Zs,Os=Ms;var Bs=(0,N.Z)(Os,Ds,As,!1,null,null,null);const Ls=Bs.exports;var Ns=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"singularity-node-titlebar-wrapper":!0},style:e.wrapperPositionStyle},[t("div",{staticClass:"singularity-node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle},[e.isSectionElement?t("span",{staticClass:"singularity-node-titlebar__text"},[e._v(" "+e._s(e.elementTitle))]):t("EditElementCanvasButton")],1)])},Rs=[],Fs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("SingularityCanvasButton",{attrs:{icon:"EditSolidIcon",text:`Edit ${e.elementTitle}`},on:{click:e.editElement}})},Vs=[],$s=n(88932);let Ws=class extends l.w3{get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}getElementTitle(){return this.element?(0,je.mH)(this.element):""}get elementTitle(){return this.getElementTitle()}get isImageElement(){return this.element&&this.element.data.type===Ge.IMAGE_SLUG}get isSectionElementWithBackgroundImage(){return this.element&&this.element.data.type===Ge.SECTION_SLUG&&"image"==K()(this.element.data.properties,"design.background.type")}get isIconElement(){return this.element&&this.element.data.type===Ge.ICON_SLUG}get isChildOfGrid(){if(!this.element)return!1;const e=(0,ge.findNode)(c.documentStore.document.tree,this.element._parentId);return!!e&&e.data.type===Ge.GRID_SLUG}get isGalleryElement(){return this.element&&this.element.data.type===Ge.GALLERY_SLUG}get isLinkElementOrChildOfLinkElement(){return!!this.element&&(ns(this.element.data.type)||is(this.element))}get isHeaderElement(){return this.element&&this.element.data.type===$s.Uu}get isFooterElement(){return this.element&&this.element.data.type===$s.hO}get isHeaderOrFooterElement(){return this.isHeaderElement||this.isFooterElement}get isSiteLogoElement(){return this.element&&this.element.data.type===$s.X1}editElement(){if(this.element&&this.elementId)if(this.isSiteLogoElement)c.singularityStore.setSingularityLeftPanel("brand");else{if(!this.isHeaderOrFooterElement)return this.isImageElement?(c.singularityStore.setImageEditorPanelState({elementId:this.elementId,controlPath:"content.image.media"}),void c.singularityStore.setSingularityLeftPanel("image_editor")):this.isGalleryElement?(c.singularityStore.setImageEditorPanelState({elementId:this.elementId,controlPath:"content.content.images[].image",selectedImageIndex:0}),void c.singularityStore.setSingularityLeftPanel("image_editor")):this.isIconElement?(c.singularityStore.setIconEditorPanelState({iconId:this.elementId}),void c.singularityStore.setSingularityLeftPanel("icon_editor")):this.isSectionElementWithBackgroundImage?(c.singularityStore.setImageEditorPanelState({elementId:this.elementId,controlPath:"design.background.image"}),void c.singularityStore.setSingularityLeftPanel("image_editor")):void(this.isLinkElementOrChildOfLinkElement?this.editLink():(c.singularityStore.setContentPropertiesEditorPanelState(!0),c.singularityStore.setSingularityLeftPanel("content_properties_editor")));c.singularityStore.setHeaderAndFooterEditorPanelState({elementId:this.elementId,elementType:this.isHeaderElement?"header":"footer"})}}editLink(){if(!this.elementId)return;let e=(0,ge.findNode)(c.documentStore.document.tree,this.elementId);if(!e)return;if(ns(e.data.type)||(e=os(e)),!e)return;if(!ns(e.data.type))return;const t=ss(e.data.type);t&&(c.singularityStore.setLinkEditorPanelState({elementId:e.id,linkPropertyPaths:t}),c.singularityStore.setSingularityLeftPanel("link_editor"))}};Ws=(0,r.gn)([(0,l.wA)({components:{SingularityCanvasButton:In}})],Ws);const Us=Ws,zs=Us;var Hs=(0,N.Z)(zs,Fs,Vs,!1,null,null,null);const Gs=Hs.exports;let qs=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.nonEditableElementsSlugs=[Ge.DIV_SLUG,Ge.COLUMNS_SLUG,Ge.COLUMN_SLUG],this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}get shouldShowTitlebar(){if(!c.uiStore.activeElement)return!1;const e=c.uiStore.activeElement;return!c.uiStore.elementWithContentEditable&&!this.nonEditableElementsSlugs.includes(e.data.type)}nextTickPositionsWrapper(){(0,A.forceNextTick)(this.calculateStylesAndTitle)}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval)}calculateStylesAndTitle(){!c.uiStore.elementWithContentEditable&&this.element?(this.elementTitle=this.getElementTitle(),this.wrapperPositionStyle=(0,T.Qi)((0,T.dq)(this.element)),this.titlebarPositionStyle=(0,T.A3)(this.element)):this.wrapperPositionStyle={display:"none"}}get titlebarClasses(){return{"node-titlebar-is-offset":!!this.wrapperPositionStyle.outlineOffset,"is-hidden":!this.shouldShowTitlebar}}get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}getElementTitle(){return this.element?(0,je.mH)(this.element):""}get isSectionElement(){return this.element&&this.element.data.type===Ge.SECTION_SLUG}get node(){return this.element||!1}};qs=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,EditElementCanvasButton:Gs}})],qs);const Ks=qs,js=Ks;var Xs=(0,N.Z)(js,Ns,Rs,!1,null,null,null);const Ys=Xs.exports;var Qs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.currentHoveredData.nearestGridItem?t("FutureLayerGridItemOutlineAndControls",{key:`grid-item-${e.currentHoveredData.nearestGridItem.id}`,attrs:{element:e.currentHoveredData.nearestGridItem}}):e._e(),e.currentHoveredData.nearestWrapperLink?t("FutureLayerLinkWrapperOutlineAndControls",{key:`wrapper-link-${e.currentHoveredData.nearestWrapperLink.id}`,attrs:{element:e.currentHoveredData.nearestWrapperLink}}):e._e(),e.isHoveredElementHeaderOrFooter&&e.currentHoveredData.nearestNodeThatCanBeActivated?t("FutureLayerHoveredHeaderOrFooter",{key:`hovered-header-footer-${e.currentHoveredData.nearestNodeThatCanBeActivated.id}`,attrs:{element:e.currentHoveredData.nearestNodeThatCanBeActivated}}):e.currentHoveredData.nearestNodeThatCanBeActivated?t("FutureLayerHoveredElementOutline",{key:`hovered-${e.currentHoveredData.nearestNodeThatCanBeActivated.id}`,attrs:{element:e.currentHoveredData.nearestNodeThatCanBeActivated}}):e._e(),e.activeElement?t("FutureLayerActiveElementOutline",{key:`active-${e.activeElement.id}`,attrs:{element:e.activeElement}}):e._e()],1)},Js=[],ei=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-active-element-wrapper",style:e.cssStyleForWrapper,attrs:{"data-futurelayer-element-id":e.element.id}},[t("div",{staticClass:"futurelayer-active-element-outline",style:e.cssStyleForOutline}),e.isSection&&!e.isInlineEditing?t("AddAnotherSectionButton",{attrs:{element:e.element,elementPositionOnCanvas:e.elementPositionOnCanvas}}):e._e()],1)},ti=[];function ni(e){const t=(0,T.dq)(e);if(!t)return!1;const n=t.getBoundingClientRect(),s=window.Breakdance.canvas.document.documentElement.scrollLeft,i=window.Breakdance.canvas.document.documentElement.scrollTop;return{left:`${n.left+s}px`,top:`${n.top+i}px`,width:`${n.width}px`,height:`${n.height}px`}}function si(e,t){const n=()=>{(0,A.forceNextTick)((()=>{t(ni(e))}))},s=c["default"].subscribe(n),i=setInterval(n,500);return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),s(),clearInterval(i)}}function ii(e){return e?{left:e.left,top:e.top,width:"0px",height:"0px"}:{display:"none"}}function oi(e){return e?{left:"0px",top:"0px",width:e.width,height:e.height}:{display:"none"}}var ai=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"futurelayer-add-section-controls",style:e.cssStyleForAddSectionTop},[t("button",{staticClass:"futurelayer-add-section-button futurelayer-add-section-button-top",on:{click:e.handleAddSectionBefore}},[e._v(" Add Section ")])]),t("div",{staticClass:"futurelayer-add-section-controls",style:e.cssStyleForAddSectionBottom},[t("button",{staticClass:"futurelayer-add-section-button futurelayer-add-section-button-bottom",on:{click:e.handleAddSectionAfter}},[e._v(" Add Section ")])])])},ri=[];let li=class extends l.w3{constructor(){super(...arguments),this.mouseY=0}mounted(){window.Breakdance.canvas.document.addEventListener("mousemove",this.handleMouseMove)}beforeDestroy(){window.Breakdance.canvas.document.removeEventListener("mousemove",this.handleMouseMove)}handleMouseMove(e){this.mouseY=e.clientY}isMouseNearButton(e){const t=50;return Math.abs(this.mouseY-e)<=t}get cssStyleForAddSectionTop(){if(!this.elementPositionOnCanvas)return{display:"none"};const e=parseFloat(this.elementPositionOnCanvas.top.replace("px","")),t=window.Breakdance.canvas.document.documentElement.scrollTop,n=e-t;return this.isMouseNearButton(n)?{left:`calc(${this.elementPositionOnCanvas.width} * 0.5)`,top:"0px",transform:"translate(-50%, -50%)"}:{display:"none"}}get cssStyleForAddSectionBottom(){if(!this.elementPositionOnCanvas)return{display:"none"};const e=parseFloat(this.elementPositionOnCanvas.top.replace("px","")),t=parseFloat(this.elementPositionOnCanvas.height.replace("px","")),n=window.Breakdance.canvas.document.documentElement.scrollTop,s=e+t-n;return this.isMouseNearButton(s)?{left:`calc(${this.elementPositionOnCanvas.width} * 0.5)`,top:this.elementPositionOnCanvas.height,transform:"translate(-50%, -50%)"}:{display:"none"}}handleAddSectionBefore(){c.singularityStore.setSectionAddOrSwapPanelState({mode:"add_before",sectionId:this.element.id}),c.singularityStore.setSectionLibraryModalState(!0)}handleAddSectionAfter(){c.singularityStore.setSectionAddOrSwapPanelState({mode:"add_after",sectionId:this.element.id}),c.singularityStore.setSectionLibraryModalState(!0)}};(0,r.gn)([(0,l.fI)()],li.prototype,"element",void 0),(0,r.gn)([(0,l.fI)()],li.prototype,"elementPositionOnCanvas",void 0),li=(0,r.gn)([l.wA],li);const ci=li,di=ci;var ui=(0,N.Z)(di,ai,ri,!1,null,null,null);const pi=ui.exports;let hi=class extends l.w3{constructor(){super(...arguments),this.elementPositionOnCanvas=!1,this.cleanupListeners=()=>{}}mounted(){this.elementPositionOnCanvas=ni(this.element),this.cleanupListeners=si(this.element,(e=>{this.elementPositionOnCanvas=e}))}beforeDestroy(){this.cleanupListeners()}get cssStyleForWrapper(){return ii(this.elementPositionOnCanvas)}get cssStyleForOutline(){return oi(this.elementPositionOnCanvas)}get isSection(){return this.element.data.type===Ge.SECTION_SLUG}get isInlineEditing(){return Q.kD.isInlineEditing}};(0,r.gn)([(0,l.fI)()],hi.prototype,"element",void 0),hi=(0,r.gn)([(0,l.wA)({components:{AddAnotherSectionButton:pi}})],hi);const gi=hi,mi=gi;var vi=(0,N.Z)(mi,ei,ti,!1,null,null,null);const fi=vi.exports;var yi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-hovered-element-wrapper",style:e.cssStyleForWrapper,attrs:{"data-futurelayer-element-id":e.element.id}},[t("div",{staticClass:"futurelayer-hovered-element-outline",style:e.cssStyleForOutline}),e.isSection&&!e.isInlineEditing?t("AddAnotherSectionButton",{attrs:{element:e.element,elementPositionOnCanvas:e.elementPositionOnCanvas}}):e._e()],1)},bi=[],Si=n(20398);let _i=class extends l.w3{constructor(){super(...arguments),this.elementPositionOnCanvas=!1,this.cleanupListeners=()=>{}}mounted(){this.elementPositionOnCanvas=ni(this.element),this.cleanupListeners=si(this.element,(e=>{this.elementPositionOnCanvas=e}))}beforeDestroy(){this.cleanupListeners()}get canActivate(){return(0,Si.Dn)(this.element.data.type).canActivate}get cssStyleForWrapper(){return this.canActivate?ii(this.elementPositionOnCanvas):{display:"none"}}get cssStyleForOutline(){return this.canActivate?oi(this.elementPositionOnCanvas):{display:"none"}}get isSection(){return this.element.data.type===Ge.SECTION_SLUG}get isInlineEditing(){return Q.kD.isInlineEditing}};(0,r.gn)([(0,l.fI)()],_i.prototype,"element",void 0),_i=(0,r.gn)([(0,l.wA)({components:{AddAnotherSectionButton:pi}})],_i);const xi=_i,Ci=xi;var wi=(0,N.Z)(Ci,yi,bi,!1,null,null,null);const Pi=wi.exports;var Ii=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-hovered-header-footer-wrapper",style:e.cssStyleForWrapper,attrs:{"data-futurelayer-element-id":e.element.id}},[t("div",{staticClass:"futurelayer-hovered-header-footer-outline",style:e.cssStyleForOutline}),t("div",{staticClass:"futurelayer-header-footer-controls",style:e.cssStyleForControls,on:{click:e.startEditing}},[e.loading?t("div",[e._v(" loading ")]):t("button",{staticClass:"futurelayer-header-footer-edit-button"},[e._v(" "+e._s(e.isHeader?"Edit Header":"Edit Footer")+" ")])])])},ki=[];let Ei=class extends l.w3{constructor(){super(...arguments),this.elementPositionOnCanvas=!1,this.cleanupListeners=()=>{},this.loading=!1}mounted(){this.elementPositionOnCanvas=ni(this.element),this.cleanupListeners=si(this.element,(e=>{this.elementPositionOnCanvas=e}))}beforeDestroy(){this.cleanupListeners()}get cssStyleForWrapper(){return ii(this.elementPositionOnCanvas)}get cssStyleForOutline(){return oi(this.elementPositionOnCanvas)}get cssStyleForControls(){return this.elementPositionOnCanvas?{left:"0px",top:"0px",width:this.elementPositionOnCanvas.width,height:this.elementPositionOnCanvas.height}:{display:"none"}}get isHeader(){return this.element.data.type===$s.Uu}async startEditing(){this.loading=!0,await(0,$s.IA)(this.element.id),this.loading=!1}};(0,r.gn)([(0,l.fI)()],Ei.prototype,"element",void 0),Ei=(0,r.gn)([l.wA],Ei);const Ti=Ei,Di=Ti;var Ai=(0,N.Z)(Di,Ii,ki,!1,null,null,null);const Zi=Ai.exports;var Mi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-grid-item-wrapper",style:e.cssStyleForWrapper,attrs:{"data-futurelayer-element-id":e.element.id}},[t("div",{staticClass:"futurelayer-grid-item-outline",style:e.cssStyleForOutline}),t("div",{staticClass:"futurelayer-grid-item-controls",style:e.cssStyleForControls},[e.isGridChildButNotOnlyChild?t("button",{staticClass:"futurelayer-grid-control-button remove",on:{click:e.handleRemove}},[e._v(" Remove ")]):e._e(),t("button",{staticClass:"futurelayer-grid-control-button add",on:{click:e.handleAddAnother}},[e._v(" Add Another ")])])])},Oi=[];let Bi=class extends l.w3{constructor(){super(...arguments),this.elementPositionOnCanvas=!1,this.cleanupListeners=()=>{}}mounted(){this.elementPositionOnCanvas=ni(this.element),this.cleanupListeners=si(this.element,(e=>{this.elementPositionOnCanvas=e}))}beforeDestroy(){this.cleanupListeners()}get cssStyleForWrapper(){return ii(this.elementPositionOnCanvas)}get cssStyleForOutline(){return oi(this.elementPositionOnCanvas)}get cssStyleForControls(){return this.elementPositionOnCanvas?{left:`calc(${this.elementPositionOnCanvas.width} + 2px)`,transform:"translateX(-100%)"}:{display:"none"}}handleRemove(){c.documentStore.deleteElement({nodeId:this.element.id})}handleAddAnother(){c.documentStore.duplicateElement({elementId:this.element.id})}get isGridChildButNotOnlyChild(){const e=(0,ge.findNode)(c.documentStore.document.tree,this.element._parentId);return!!e&&(e.data.type===Ge.GRID_SLUG&&1!==e.children.length)}};(0,r.gn)([(0,l.fI)()],Bi.prototype,"element",void 0),Bi=(0,r.gn)([l.wA],Bi);const Li=Bi,Ni=Li;var Ri=(0,N.Z)(Ni,Mi,Oi,!1,null,null,null);const Fi=Ri.exports;var Vi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-link-wrapper-wrapper",style:e.cssStyleForWrapper,attrs:{"data-futurelayer-element-id":e.element.id}},[t("div",{staticClass:"futurelayer-link-wrapper-outline",style:e.cssStyleForOutline}),t("div",{staticClass:"futurelayer-link-wrapper-controls",style:e.cssStyleForControls},[t("button",{staticClass:"futurelayer-link-control-button edit",on:{click:e.handleEditLink}},[e._v(" Edit Link ")])])])},$i=[];let Wi=class extends l.w3{constructor(){super(...arguments),this.elementPositionOnCanvas=!1,this.cleanupListeners=()=>{}}mounted(){this.elementPositionOnCanvas=ni(this.element),this.cleanupListeners=si(this.element,(e=>{this.elementPositionOnCanvas=e}))}beforeDestroy(){this.cleanupListeners()}get cssStyleForWrapper(){return ii(this.elementPositionOnCanvas)}get cssStyleForOutline(){return oi(this.elementPositionOnCanvas)}get cssStyleForControls(){return this.elementPositionOnCanvas?{left:"0",top:"0px",transform:"translateY(-100%)"}:{display:"none"}}handleEditLink(){const e=ss(this.element.data.type);e&&(c.singularityStore.setLinkEditorPanelState({elementId:this.element.id,linkPropertyPaths:e}),c.singularityStore.setSingularityLeftPanel("link_editor"))}};(0,r.gn)([(0,l.fI)()],Wi.prototype,"element",void 0),Wi=(0,r.gn)([l.wA],Wi);const Ui=Wi,zi=Ui;var Hi=(0,N.Z)(zi,Vi,$i,!1,null,null,null);const Gi=Hi.exports;function qi(e){let t=e;while(t&&t!==window.Breakdance.canvas.document.body){if(t.hasAttribute("data-futurelayer-element-id")){const e=t.getAttribute("data-futurelayer-element-id");if(e){const t=(0,ge.findNode)(c.documentStore.document.tree,e);return t||null}}t=t.parentElement}return null}function Ki(e){let t=e;const n=qi(t);if(n)return n;while(t&&t!==window.Breakdance.canvas.document.body){if(t.hasAttribute("data-node-id")){const e=t.getAttribute("data-node-id");if(e){const t=(0,ge.findNode)(c.documentStore.document.tree,e);return t||null}}t=t.parentElement}return null}var ji=n(45164);class Xi{constructor(e){this.hoveredElementData={nearestNodeThatCanBeActivated:null,nearestGridItem:null,nearestWrapperLink:null},this.callback=e,this.startListening()}destroy(){this.stopListening()}updateHoveredElementData(e){e.nearestNodeThatCanBeActivated===this.hoveredElementData.nearestNodeThatCanBeActivated&&e.nearestGridItem===this.hoveredElementData.nearestGridItem&&e.nearestWrapperLink===this.hoveredElementData.nearestWrapperLink||(this.hoveredElementData=e,this.callback(e))}startListening(){const e=window.Breakdance.canvas.document,t=e=>{const t=e.target,n=Ki(t);this.updateHoveredElementData({nearestNodeThatCanBeActivated:n?(0,Si.fj)(n):null,nearestGridItem:n?(0,ji.bp)(n):null,nearestWrapperLink:n?(0,ji.Fl)(n):null})},n=()=>{this.updateHoveredElementData({nearestNodeThatCanBeActivated:null,nearestGridItem:null,nearestWrapperLink:null})};e.addEventListener("mousemove",t),e.addEventListener("mouseleave",n),this.cleanup=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseleave",n)}}stopListening(){this.cleanup(),this.hoveredElementData={nearestNodeThatCanBeActivated:null,nearestGridItem:null,nearestWrapperLink:null}}}let Yi,Qi=class extends l.w3{constructor(){super(...arguments),this.currentHoveredData={nearestNodeThatCanBeActivated:null,nearestGridItem:null,nearestWrapperLink:null}}mounted(){Yi=new Xi((e=>{this.currentHoveredData=e}))}beforeDestroy(){Yi.destroy()}get activeElement(){return Q.kD.activeElement}get isHoveredElementHeaderOrFooter(){const e=this.currentHoveredData.nearestNodeThatCanBeActivated;return!!e&&(!Q.kD.inlineEditingContext?.elementId&&(e.data.type===$s.Uu||e.data.type===$s.hO))}};Qi=(0,r.gn)([(0,l.wA)({components:{FutureLayerActiveElementOutline:fi,FutureLayerHoveredElementOutline:Pi,FutureLayerHoveredHeaderOrFooter:Zi,FutureLayerGridItemOutlineAndControls:Fi,FutureLayerLinkWrapperOutlineAndControls:Gi}})],Qi);const Ji=Qi,eo=Ji;var to=(0,N.Z)(eo,Qs,Js,!1,null,null,null);const no=to.exports;let so=class extends s.ZP{constructor(){super(...arguments),this.hideTitleBar=!1,this.hideHoverControls=!1}get isSingularityMode(){return Q.kD.isSingularityMode}get isSingularityPreviewMode(){return Q.fz.previewMode}get isOnboardingMode(){return window.Breakdance.isOnboarding}get element(){return Q.kD.activeElement||!1}get activeElement(){return Q.kD.activeElement}get hoveredElement(){return!!Q.kD.lastHoveredOnCanvasElementId&&(0,ge.findNode)(Q.Hb.document.tree,Q.kD.lastHoveredOnCanvasElementId)}get classes(){let e=null;return this.hideTitleBar&&this.hideHoverControls?e="all":this.hideHoverControls?e="hover":this.hideTitleBar&&(e="titlebar"),{"node-chrome":!0,[`node-chrome--hide-${e}`]:e,"node-chrome--singularity":this.isSingularityMode}}onElementSelected(){this.observer?.disconnect(),this.element&&(this.observer=this.observePositionChange(this.element,(e=>{this.hideTitleBar=(0,T.p1)(e)})))}onHoveredElementSelected(){this.hoverObserver?.disconnect(),this.hoveredElement&&(this.hoverObserver=this.observePositionChange(this.hoveredElement,(e=>{this.hideHoverControls=(0,T.p1)(e)})))}beforeDestroy(){this.destroyObserver()}observePositionChange(e,t){if(!e)return;const n=(0,T.dq)(e);if(!n)return;const s=e=>{e.forEach((e=>{const n=e.target;t(n)}))},i=new MutationObserver(s),o={attributes:!0,attributeFilter:["class"]};return i.observe(n,o),i}destroyObserver(){this.observer?.disconnect(),this.hoverObserver?.disconnect()}};(0,r.gn)([(0,l.RL)("element")],so.prototype,"onElementSelected",null),(0,r.gn)([(0,l.RL)("hoveredElement")],so.prototype,"onHoveredElementSelected",null),so=(0,r.gn)([(0,l.wA)({components:{NodeContentEditable:gt,DragDots:F,SpacingBars:ue,ColumnDragSizer:Ae,NodeTitlebar:et,NodeGhostTitlebar:ln,NodeHoverControls:rt,NodeOnboardingHoverControls:en,NodeSingularityHover:Ts,NodeSingularityActive:mn,NodeSingularityContentEditable:Ls,NodeSingularityTitlebar:Ys,FutureLayerNodeChrome:no}})],so);const io=so,oo=io;var ao=(0,N.Z)(oo,P,I,!1,null,null,null);const ro=ao.exports;var lo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("DragPlaceholder"),t("RightClickMenu",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]})],1)},co=[],uo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-drag-placeholder-wrapper"},[t("div",{staticClass:"breakdance-drag-placeholder",style:e.dragPlaceholderPositionStyle}),t("div",{staticClass:"breakdance-drag-target-outline",style:e.dragTargetOutlineStyle})])},po=[];let ho=class extends s.ZP{get canvasDragPlaceholderPosition(){return c.uiStore.canvasDragPlaceholderPosition}get parentNode(){if(!this.canvasDragPlaceholderPosition)return!1;const e=(0,ge.findNode)(c.documentStore.document.tree,this.canvasDragPlaceholderPosition.parentId);return e||!1}get stackingStyle(){return this.canvasDragPlaceholderPosition&&this.parentNode?(0,Le.qE)(this.parentNode):{}}get dragPlaceholderPositionStyle(){if(!this.canvasDragPlaceholderPosition||!0===this.canvasDragPlaceholderPosition.onlyShowTargetOutline)return{};const e=(0,ge.findNode)(c.documentStore.document.tree,this.canvasDragPlaceholderPosition.parentId);if(!e)return{};const t=8,n=`${t}px`;if(0===e.children.length){const s=e.id===ge.ROOT_ELEMENT_ID?(0,T.j3)():(0,T.Sv)(e);if(!s)return{};let{x:i,y:o,width:a,height:r}=s;return a-40>100&&(i+=20,a-=40),{display:"block",top:o+r/2-t/2+"px",left:`${i}px`,width:`${a}px`,height:n}}{const s=e.children[this.canvasDragPlaceholderPosition.nodeIndex],i=(0,T.Sv)(s),o=(0,Le.qE)(e);if(!i)return{};const{x:a,y:r,width:l,height:c}=i;if("vertical"===o){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:r-(t/2-1)+"px",left:`${a}px`,width:`${l}px`,height:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:c+r-(t/2+1)+"px",left:`${a}px`,width:`${l}px`,height:n}}else if("horizontal"===o){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:`${r}px`,left:a-t/2+"px",height:`${c}px`,width:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",left:l+a-t/2+"px",top:`${r}px`,height:`${c}px`,width:n}}}return{}}get dragTargetOutlineStyle(){if(!this.parentNode)return{};const e=this.parentNode.id===ge.ROOT_ELEMENT_ID&&0===c.documentStore.document.tree.root.children.length?(0,T.j3)():(0,T.Sv)(this.parentNode);if(!e)return{};const{x:t,y:n,width:s,height:i}=e;return{display:"block",position:"absolute",top:`${n}px`,left:`${t}px`,width:`${s}px`,height:`${i}px`}}};ho=(0,r.gn)([(0,l.wA)({components:{}})],ho);const go=ho,mo=go;var vo=(0,N.Z)(mo,uo,po,!1,null,null,null);const fo=vo.exports;var yo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],staticClass:"breakdance-canvas-right-click-menu",class:{"breakdance-canvas-right-click-menu--structure-panel":"structure-panel"===e.context},style:e.wrapperPositionStyle},[t("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent,shortcut:[" C","Ctrl C"]},on:{click:e.copyElement}},[e._v(" Copy ")]),t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElement,shortcut:[" V","Ctrl V"]},on:{click:e.pasteElement}},[e._v(" Paste ")]),"breakdance"===e.builderMode?t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("design")}}},[e._v(" Paste Design ")]):e._e(),"breakdance"===e.builderMode?t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("settings")}}},[e._v(" Paste Settings ")]):e._e(),t("RightClickWrapMenu",{attrs:{context:e.context},on:{close:e.close}}),t("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),t("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent,shortcut:["","Del"]},on:{click:e.deleteElement}},[e._v(" Delete ")]),t("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),t("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsGlobalBlock},on:{click:e.openSaveGlobalBlockDialog}},[e._v(" Save as "+e._s(e.$bdox("global_block"))+" ")]),"breakdance"===e.builderMode?t("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsPreset},on:{click:e.openSavePresetDialog}},[e._v(" Create Design Preset ")]):e._e()],1),t("GlobalBlockDialog",{attrs:{open:e.saveGlobalBlockDialog,"element-id":e.elementIdToSaveAsGlobalBlock},on:{close:e.closeGlobalBlockDialog}}),t("PresetDialog",{attrs:{open:e.savePresetDialog,"element-id":e.elementIdToSaveAsPreset},on:{close:e.closePresetDialog}}),t("ClipboardDialog",{model:{value:e.clipboardDialog,callback:function(t){e.clipboardDialog=t},expression:"clipboardDialog"}})],1)},bo=[],So=n(89028),_o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"breakdance-canvas-right-click-menu-item":!0,"breakdance-canvas-right-click-menu-item-disabled":e.disabled},on:{click:function(t){e.disabled||e.$emit("click",t)}}},[e._t("default"),e.shortcut?t("div",{staticClass:"breakdance-canvas-right-click-menu-item-shortcut"},[e._v(" "+e._s(e.isMac?e.shortcut[0]:e.shortcut[1])+" ")]):e._e()],2)},xo=[],Co=n(11859);let wo=class extends s.ZP{get isMac(){const e=(0,Co.X)().toLowerCase();return/mac/.test(e)}};(0,r.gn)([(0,l.fI)({default:!1})],wo.prototype,"disabled",void 0),(0,r.gn)([(0,l.fI)({default:""})],wo.prototype,"shortcut",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],wo.prototype,"subItems",void 0),wo=(0,r.gn)([(0,l.wA)({components:{}})],wo);const Po=wo,Io=Po;var ko=(0,N.Z)(Io,_o,xo,!1,null,null,null);const Eo=ko.exports;var To=n(87615),Do=n(37179),Ao=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.open},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save as "+e._s(e.$bdox("global_block")))]},proxy:!0},{key:"text",fn:function(){return[t("TextInput",{attrs:{size:"md",placeholder:e.$bdox("global_block"),autofocus:e.open},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveAsGlobalBlock.apply(null,arguments)}},model:{value:e.globalBlockName,callback:function(t){e.globalBlockName=t},expression:"globalBlockName"}})]},proxy:!0},{key:"actions",fn:function(){return[t(Do.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{color:"blue",dark:"",disabled:!e.globalBlockName},on:{click:e.saveAsGlobalBlock}},[e._v(" Save ")])]},proxy:!0}])})},Zo=[],Mo=n(89137),Oo=n(41571);let Bo=class extends s.ZP{constructor(){super(...arguments),this.globalBlockName=""}async saveAsGlobalBlock(e){e.preventDefault(),this.globalBlockName&&(this.elementId&&await(0,To.AM)(this.elementId,this.globalBlockName),this.globalBlockName="",this.$emit("close"))}};(0,r.gn)([(0,l.fI)({default:!1})],Bo.prototype,"open",void 0),(0,r.gn)([(0,l.fI)({required:!0})],Bo.prototype,"elementId",void 0),Bo=(0,r.gn)([(0,l.wA)({components:{Dialog:Mo.Z,TextInput:Oo.Z}})],Bo);const Lo=Bo,No=Lo;var Ro=(0,N.Z)(No,Ao,Zo,!1,null,null,null);const Fo=Ro.exports;var Vo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.value,width:500,closeable:!0},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Enable Paste")]},proxy:!0},{key:"text",fn:function(){return[t("p",[e._v(" To paste using the Edit menu, "),e.status&&!e.status.secure?[e._v(" your website needs to be served with HTTPS. ")]:e.status&&!e.permissionGranted?[e._v(" please allow access to your clipboard. ")]:e._e()],2),t("p",[e._v("Alternatively, you can use your keyboard shortcuts:")]),t("ul",{staticClass:"clipboard-dialog-shortcuts"},[t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" C")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("copy")])]),t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" X")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("cut")])]),t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" V")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("paste")])])])]},proxy:!0}])})},$o=[],Wo=n(31737);let Uo=class extends s.ZP{constructor(){super(...arguments),this.status=null}async onChange(){this.status=await(0,Wo.fn)(),this.status?.permission&&(this.status.permission.onchange=()=>{this.$emit("input",!1)})}get permissionGranted(){return"granted"===this.status?.permission?.state}get metaKey(){return this.isAppleDevice?"":"Ctrl + "}get isAppleDevice(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}close(){this.$emit("input",!1)}};(0,r.gn)([(0,l.fI)()],Uo.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("value",{immediate:!0})],Uo.prototype,"onChange",null),Uo=(0,r.gn)([(0,l.wA)({components:{Dialog:Mo.Z}})],Uo);const zo=Uo,Ho=zo;var Go=(0,N.Z)(Ho,Vo,$o,!1,null,null,null);const qo=Go.exports;var Ko=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.open},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Create Design Preset ")]},proxy:!0},{key:"text",fn:function(){return[t("TextInput",{ref:"input",attrs:{size:"md",placeholder:"Preset Name",autofocus:e.open},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.presetName,callback:function(t){e.presetName=t},expression:"presetName"}})]},proxy:!0},{key:"actions",fn:function(){return[t(Do.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{color:"blue",dark:"",disabled:!e.presetName},on:{click:e.save}},[e._v(" Save ")])]},proxy:!0}])})},jo=[],Xo=n(91669);let Yo=class extends s.ZP{constructor(){super(...arguments),this.presetName=null}get isPresetsOverridesEnabled(){return c.configStore.isExperimentEnabled("design-presets-overrides")}get element(){return this.elementId?(0,ge.findNode)(c.documentStore.document.tree,this.elementId):null}onOpenChange(){this.open&&(this.presetName=this.getDefaultName(),this.$nextTick((()=>this.focusAndSelectInput())))}getDefaultName(){if(!this.element)return"";if(this.defaultName)return this.defaultName;const e=this.element.data.type,t=c.configStore.element(e).name;return`${t} ${(0,Xo.z)()}`}focusAndSelectInput(){const e=this.$refs.input,t=e.$el.querySelector("input");t?.focus(),t?.select()}async save(e){if(e.preventDefault(),!this.presetName||!this.elementId||!this.element)return;const t=this.element.data.type,n=(0,ae.Lr)(this.presetName,t,this.element.data.properties.design);(0,ae.xk)(n),(0,ae.I8)(n.id,this.elementId),this.presetName="",this.$emit("close")}};(0,r.gn)([(0,l.fI)({required:!0})],Yo.prototype,"elementId",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Yo.prototype,"open",void 0),(0,r.gn)([(0,l.fI)({default:""})],Yo.prototype,"defaultName",void 0),(0,r.gn)([(0,l.RL)("open")],Yo.prototype,"onOpenChange",null),Yo=(0,r.gn)([(0,l.wA)({components:{Dialog:Mo.Z,TextInput:Oo.Z}})],Yo);const Qo=Yo,Jo=Qo;var ea=(0,N.Z)(Jo,Ko,jo,!1,null,null,null);const ta=ea.exports;var na=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-canvas-right-click-dropdown",class:{"breakdance-canvas-right-click-dropdown--disabled":!e.canWrap,"breakdance-canvas-right-click-dropdown--inverted":e.isInverted},on:{mouseenter:e.checkOverflow}},[t("RightClickMenuItem",{attrs:{disabled:!e.canWrap}},[e._v(" Wrap In "),t("Icon",{staticClass:"breakdance-canvas-right-click-submenu__arrow",attrs:{icon:"ChevronRightIcon",size:10}})],1),t("div",{ref:"submenu",staticClass:"breakdance-canvas-right-click-submenu"},[t("div",{staticClass:"breakdance-canvas-right-click-submenu__content breakdance-canvas-right-click-menu"},e._l(e.wrapItems,(function(n){return t("RightClickMenuItem",{key:n.label,on:{click:function(t){return e.wrapIn(n)}}},[e._v(" "+e._s(n.label)+" ")])})),1)])],1)},sa=[];let ia=class extends l.w3{constructor(){super(...arguments),this.isInverted=!1}get builderMode(){return Q.PK.builderMode}get wrapItems(){return"oxygen"===this.builderMode?[{label:"Container",elementSlug:"OxygenElements\\Container"},{label:"Link",elementSlug:"OxygenElements\\ContainerLink"}]:[{label:"Div",elementSlug:"EssentialElements\\Div"},{label:"Link",elementSlug:"EssentialElements\\WrapperLink"}]}get element(){return Q.kD.activeElement}get canWrap(){if(!this.element)return!1;const e=Q.PK.element(this.element.data.type),t=e.nestingRule.type;return!["section","root","popup"].includes(t)}wrapIn({elementSlug:e}){this.element&&(Q.Hb.wrapElement({wrapperElementSlug:e,elementId:this.element.id}),this.$emit("close"))}getViewportWidth(){return"canvas"===this.context?window.Breakdance.canvas.document?.defaultView?.innerWidth:window.innerWidth}checkOverflow(){this.isInverted=!1,this.$nextTick((()=>{const e=this.$refs.submenu;if(!e)return;const t=e.getBoundingClientRect(),n=this.getViewportWidth();if(!n)return;const s=t.right-n,i=.1*t.width;this.isInverted=s>i}))}};(0,r.gn)([(0,l.fI)({default:"canvas"})],ia.prototype,"context",void 0),ia=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,RightClickMenuItem:Eo}})],ia);const oa=ia,aa=oa;var ra=(0,N.Z)(aa,na,sa,!1,null,"29c8c084",null);const la=ra.exports;let ca=class extends s.ZP{constructor(){super(...arguments),this.clipboardDialog=!1,this.canPasteElement=!1,this.canPasteElementProperties=!1,this.elementIdToSaveAsGlobalBlock=null,this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsPreset=null,this.savePresetDialog=!1}async mounted(){window.Breakdance.canvas.document.addEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}beforeDestroy(){window.Breakdance.canvas.document.removeEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}get menuState(){return"structure-panel"===this.context?"closed"!==c.uiStore.onStructurePanelRightClickMenuState?c.uiStore.onStructurePanelRightClickMenuState:null:"closed"!==c.uiStore.onCanvasRightClickMenuState?c.uiStore.onCanvasRightClickMenuState:null}get shouldShow(){const e="structure-panel"===this.context?"closed"!==c.uiStore.onStructurePanelRightClickMenuState:"closed"!==c.uiStore.onCanvasRightClickMenuState;return e&&!this.saveGlobalBlockDialog}get builderMode(){return c.configStore.builderMode}handleRightClickInCanvas(e){e.preventDefault();const t=(0,Le.Qf)(e.clientX,e.clientY),n=(0,ze.e)(e.clientX,e.clientY);n&&c.uiStore.setOnCanvasRightClickMenuState({elementId:t,position:n})}closeRightClickMenuIfClickHappensOutsideRightClickMenu(e){if(this.saveGlobalBlockDialog)return;const t=e.target.closest(".breakdance-canvas-right-click-menu");t||this.close()}get wrapperPositionStyle(){return this.menuState?{left:`${this.menuState.position.x}px`,top:`${this.menuState.position.y}px`}:{}}get elementIdPresent(){return this.menuState?.elementId}async onStateChange(){const{permission:e}=await(0,Wo.fn)();if(this.permission=e?.state,"prompt"===this.permission)return this.canPasteElement=!0,void(this.canPasteElementProperties=!0);this.canPasteElement=await(0,So.Ku)(this.menuState?.elementId?this.menuState.elementId:c.documentStore.document.tree.root.id),this.canPasteElementProperties=!!this.menuState?.elementId&&await(0,So.us)(this.menuState.elementId)}copyElement(){this.menuState?.elementId&&(0,So.NA)(this.menuState.elementId),this.close()}pasteElement(){"prompt"===this.permission&&(this.clipboardDialog=!0),this.menuState?.elementId?(0,So.Wm)(this.menuState.elementId):(0,So.Wm)(c.documentStore.document.tree.root.id),this.close()}pasteElementProperties(e){"prompt"===this.permission&&(this.clipboardDialog=!0),this.menuState?.elementId&&(0,So.qb)(this.menuState.elementId,e),this.close()}deleteElement(){this.menuState?.elementId&&(c.documentStore.deleteElement({nodeId:this.menuState?.elementId}),this.close())}openSaveGlobalBlockDialog(){this.menuState?.elementId&&(this.elementIdToSaveAsGlobalBlock=this.menuState.elementId,this.saveGlobalBlockDialog=!0)}closeGlobalBlockDialog(){this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsGlobalBlock=null,this.close()}get canSaveAsGlobalBlock(){return this.menuState?.elementId&&(0,To.VQ)(this.menuState.elementId)}openSavePresetDialog(){this.menuState?.elementId&&(this.elementIdToSaveAsPreset=this.menuState.elementId,this.savePresetDialog=!0)}closePresetDialog(){this.savePresetDialog=!1,this.elementIdToSaveAsPreset=null,this.close()}get canSaveAsPreset(){return!(0,ae.CO)(this.menuState?.elementId)}close(){c.uiStore.setOnCanvasRightClickMenuState("closed"),c.uiStore.setOnStructurePanelRightClickMenuState("closed")}};(0,r.gn)([(0,l.fI)({default:"canvas"})],ca.prototype,"context",void 0),(0,r.gn)([(0,l.RL)("menuState")],ca.prototype,"onStateChange",null),ca=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,PresetDialog:ta,ClipboardDialog:qo,GlobalBlockDialog:Fo,RightClickMenuItem:Eo,RightClickWrapMenu:la}})],ca);const da=ca,ua=da;var pa=(0,N.Z)(ua,yo,bo,!1,null,null,null);const ha=pa.exports;let ga=class extends s.ZP{};ga=(0,r.gn)([(0,l.wA)({components:{DragPlaceholder:fo,RightClickMenu:ha}})],ga);const ma=ga,va=ma;var fa=(0,N.Z)(va,lo,co,!1,null,null,null);const ya=fa.exports;var ba=n(3565),Sa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-container node-chrome--singularity breakdance-empty-container-singularity",attrs:{id:"breakdance-empty-container"}},[t("div",{staticClass:"breakdance-empty-container-singularity__content"},[e._m(0),t("div",{staticClass:"breakdance-empty-container-singularity__options"},[t("SingularityCanvasOption",{attrs:{icon:"Grid2Icon",title:"Add from Library",description:"Browse and add pre-designed sections from the library."},on:{click:e.openSectionLibraryModal}}),t("SingularityCanvasOption",{attrs:{icon:"SparklesIcon",title:"Build with AI",description:"Generate a custom section using AI based on your description."},on:{click:e.openAddNewSectionAI}}),t("SingularityCanvasOption",{attrs:{icon:"PageRegularIcon",title:"Manage Pages",description:"Go to the Pages section to create or manage your site's pages."},on:{click:e.openPagesManager}})],1)])])},_a=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("header",{staticClass:"breakdance-empty-container-singularity__header"},[t("h1",{staticClass:"breakdance-empty-container-singularity__title"},[e._v(" Nothing here yet. ")]),t("p",{staticClass:"breakdance-empty-container-singularity__text"},[e._v(" What would you like to do? ")])])}],xa=n(12570),Ca=n(76660),wa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(xa.Z,{attrs:{value:"true","content-class":"singularity-section-library-modal"},on:{input:e.closeDialog}},[t("div",{staticClass:"singularity-section-library-modal__header"},[t("h2",{staticClass:"singularity-section-library-modal__title"},[e._v("Add Section")]),t("div",{staticClass:"singularity-section-library-modal__actions"},[t("div",{staticClass:"singularity-section-library-modal__sections-options"},[t(Ca.Z,{staticClass:"singularity-switch",attrs:{"input-value":e.isSectionRewriteActive,color:"var(--yellow600)",inset:"",label:"AI Rewrite "+(e.isSectionRewriteActive?"On":"Off")},on:{change:e.setSectionRewrite}})],1),t("div",{staticClass:"singularity-section-library-modal__sections-actions"},[t("IconButton",{staticClass:"singularity-icon-button",attrs:{icon:"SquareIcon",small:"",size:"14",active:1===e.columnLayout},on:{click:function(t){return e.setColumnLayout(1)}}}),t("IconButton",{staticClass:"singularity-icon-button",attrs:{icon:"Grid2Icon",size:"14",active:2===e.columnLayout},on:{click:function(t){return e.setColumnLayout(2)}}}),t("IconButton",{staticClass:"singularity-icon-button",attrs:{icon:"GridIcon",size:"14",active:3===e.columnLayout},on:{click:function(t){return e.setColumnLayout(3)}}})],1),t("IconButton",{staticClass:"singularity-icon-button",attrs:{size:"20",icon:"CloseSolidIcon"},on:{click:e.closeDialog}})],1)]),t("div",{staticClass:"singularity-section-library-modal__content"},[t("div",{staticClass:"singularity-section-library-modal__sections-list"},[t("div",{staticClass:"singularity-section-library-modal__sections-wrapper"},[t("div",{staticClass:"singularity-section-library-modal__search-sections"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchCategory,expression:"searchCategory"}],staticClass:"singularity-section-library-modal__sections-search",attrs:{type:"text",placeholder:"Search sections..."},domProps:{value:e.searchCategory},on:{input:function(t){t.target.composing||(e.searchCategory=t.target.value)}}}),t("Icon",{attrs:{icon:"SearchIcon",size:"16"}})],1),t("ul",{staticClass:"singularity-section-library-modal__categories"},e._l(e.sectionsCategories,(function(n){return t("li",{key:n.type,staticClass:"singularity-section-library-modal__section-category"},[t("button",{class:{"singularity-section-library-modal__category-button":!0,"is-active":e.activeCategoryType===n.type},on:{click:function(t){return e.setSelectCategory(n.type)}}},[e._v(" "+e._s(n.type)+" ")])])})),0)])]),t("div",{staticClass:"singularity-section-library-modal__sections"},[t("transition-group",{key:e.activeCategoryType,class:e.gridClass,attrs:{name:"fade",tag:"div"}},e._l(e.activeCategory,(function(n,s){return t("SectionCard",{key:`${n.type}-${s}`,attrs:{currentSection:e.currentSectionIsSame(s,n.type),value:n},nativeOn:{click:function(t){return e.handleSection(n,s)}}})})),1)],1)])])},Pa=[],Ia=n(22608),ka=n(18332),Ea=n(98949),Ta=(n(98374),n(51617)),Da=n(27432),Aa=n(60719),Za=n(48299),Ma=n(15167);const Oa="https://breakdance-design-library-section-screenshots-ap-production.up.railway.app/screenshots/barebones";function Ba(){const e=(0,ka.J)();return Object.entries(e).flatMap((([e,t])=>t.map(((t,n)=>({label:`${e} ${n}`,index:n,node:t,type:e,screenshotUrl:Fa(e,String(t.id))})))))}function La(){const e=(0,ka.J)();return Object.entries(e).map((([e,t])=>{const n=t[0];return{label:`${e} 0`,index:0,node:n,type:e,screenshotUrl:Fa(e,String(n.id))}})).filter(Boolean)}function Na(){const e=c.documentStore.document.tree.root.children.find((e=>e.data.type===$s.Uu));return e?1:0}function Ra(e,t){let n,s;if(-1===t)n=c.documentStore.document.tree.root.id,s=Na();else{const e=(0,ge.getNodeParent)(c.documentStore.document.tree,t);if(!1===e)return null;n=e.id;const i=(0,ge.getNodeIndex)(c.documentStore.document.tree,t);s=!1!==i?i+1:0}const i={nodeId:void 0};return(0,Ea.AE)([e],"inserting",i),i.nodeId&&c.documentStore.moveElement({draggedElementId:i.nodeId,droppedOnElementId:n,index:s}),i.nodeId??null}function Fa(e,t){const n=e.toLowerCase().replace(/[^a-z0-9]/g,""),s=`${n}-${t}.jpg`;return`${Oa}/${n}/${s}`}function Va(e,t,n,s,i){const o={type:e.type,sectionFriendlyName:`${e.type} - ${t}`,description:""},a=(0,Ta.gq)(e.node,o,t,i),r=(0,Ta.ML)(a,o),l=Ra(r,n);if(l){const e=l,t=(0,ge.findNode)(c.documentStore.document.tree,e),n=(0,ge.getNodeIndex)(c.documentStore.document.tree,e);if(!t)return;"add_before"===s&&c.documentStore.moveElement({draggedElementId:l,droppedOnElementId:c.documentStore.document.tree.root.id,index:n?Math.max(0,n-1):0}),i&&Da.P.addJob((async n=>{await(0,Aa.H2)(e,n),await(0,Za.q)(t,n)}),`rewrite and image population for shouldGenerateOnInitialLoad for document\n      "${c.documentStore.document.documentMeta.titleLabel} - ${c.documentStore.document.documentMeta.id}",\n      section ${e}`,e)}"swap"===s&&c.documentStore.deleteElement({nodeId:n}),(0,A.forceNextTick)((()=>{c.uiStore.activateElement(l)}))}function $a(e){const t=(0,Ma.E)((0,ge.findNode)(c.documentStore.document.tree,e));if(!t.singularity||!t.singularity.sectionData.type||!t.singularity.sectionData.index)return null;const n=t.singularity.sectionData.type,s=t.singularity.sectionData.index;return Ba().find((e=>e.type===n&&e.index===s))||null}var Wa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"section-card",class:{"section-card--current":e.currentSection}},[t("div",{staticClass:"section-card-preview"},[e.showLabel||e.currentSection?t("div",{staticClass:"section-card-tag"},[t("SingularityBadge",{attrs:{value:e.showLabel?e.value.label:"Selected"}})],1):e._e(),t("img",{attrs:{src:e.value.screenshotUrl,alt:"Section Preview"}})])])},Ua=[],za=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-badge"},[t("span",{staticClass:"singularity-badge__text"},[e._v(e._s(e.value))])])},Ha=[];let Ga=class extends s.ZP{};(0,r.gn)([(0,l.fI)({required:!0})],Ga.prototype,"value",void 0),Ga=(0,r.gn)([(0,l.wA)({})],Ga);const qa=Ga,Ka=qa;var ja=(0,N.Z)(Ka,za,Ha,!1,null,null,null);const Xa=ja.exports;let Ya=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Ya.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Ya.prototype,"currentSection",void 0),(0,r.gn)([(0,l.fI)()],Ya.prototype,"showLabel",void 0),Ya=(0,r.gn)([(0,l.wA)({components:{SingularityBadge:Xa}})],Ya);const Qa=Ya,Ja=Qa;var er=(0,N.Z)(Ja,Wa,Ua,!1,null,null,null);const tr=er.exports;let nr=class extends s.ZP{constructor(){super(...arguments),this.searchCategory="",this.columnLayout=2,this.selectedCategoryType=null}setSectionRewrite(e){c.singularityStore.setIsSectionRewriteActive(e)}get isSectionRewriteActive(){return c.singularityStore.isSectionRewriteActive}closeDialog(){this.$emit("close")}get sectionToSwapData(){if(!this.sectionAddOrSwapPanelState.sectionId)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,this.sectionAddOrSwapPanelState.sectionId);return e?(0,Ma.E)(e).singularity.sectionData:null}currentSectionIsSame(e,t){return this.sectionToSwapData?.type===t&&this.sectionToSwapData?.index===e}get gridClass(){return`singularity-section-library-modal__sections-masonry singularity-section-library-modal__sections-masonry--${this.columnLayout}`}setColumnLayout(e){this.columnLayout=e}get sections(){return Ba()}handleSection(e,t){Va(e,t,this.sectionAddSectionId,this.mode,this.isSectionRewriteActive),this.closeDialog()}get sectionAddOrSwapPanelState(){return c.singularityStore.sectionAddOrSwapPanelState}get sectionAddSectionId(){return this.sectionAddOrSwapPanelState.sectionId??-1}get mode(){return this.sectionAddOrSwapPanelState.mode}get activeCategory(){return this.sections.filter((e=>e.type===this.activeCategoryType))}get sectionsCategories(){return La().filter((e=>e.type.toLowerCase().includes(this.searchCategory.toLowerCase().trim())))}get activeCategoryType(){return!this.selectedCategoryType&&this.sectionToSwapData?.type&&(this.selectedCategoryType=this.sectionToSwapData.type),this.selectedCategoryType||"Features"}setSelectCategory(e){this.selectedCategoryType=e}};nr=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,Icon:He.Z,SectionCard:tr}})],nr);const sr=nr,ir=sr;var or=(0,N.Z)(ir,wa,Pa,!1,null,null,null);const ar=or.exports;var rr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-container-singularity__option",attrs:{role:"button"},on:{click:function(t){return e.$emit("click")}}},[t("Icon",{staticClass:"breakdance-empty-container-singularity__option-icon",attrs:{icon:e.icon,size:"32"}}),t("div",{staticClass:"breakdance-empty-container-singularity__option-text"},[t("h2",{staticClass:"breakdance-empty-container-singularity__option-title"},[e._v(" "+e._s(e.title)+" ")]),t("p",{staticClass:"breakdance-empty-container-singularity__option-description"},[e._v(" "+e._s(e.description)+" ")])])],1)},lr=[];let cr=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],cr.prototype,"title",void 0),(0,r.gn)([(0,l.fI)()],cr.prototype,"description",void 0),(0,r.gn)([(0,l.fI)({default:"SparklesSolidIcon"})],cr.prototype,"icon",void 0),cr=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],cr);const dr=cr,ur=dr;var pr=(0,N.Z)(ur,rr,lr,!1,null,null,null);const hr=pr.exports;let gr=class extends s.ZP{constructor(){super(...arguments),this.isModalOpen=!1}get canAddElement(){return c.uiStore.hasFullAccess}openSectionLibraryModal(){c.singularityStore.setSectionLibraryModalState(!0)}openPagesManager(){c.singularityStore.setSingularityLeftPanel("page_manager"),c.singularityStore.highlightSingularityLeftPanel()}openAddNewSectionAI(){c.singularityStore.setAddNewSectionPanelState({mode:"breakdance_ai"}),c.singularityStore.highlightSingularityLeftPanel()}};(0,r.gn)([(0,l.fI)({default:null})],gr.prototype,"id",void 0),gr=(0,r.gn)([(0,l.wA)({components:{SingularityCanvasButton:In,SingularitySectionLibraryModal:ar,Icon:He.Z,SingularityCanvasOption:hr}})],gr);const mr=gr,vr=mr;var fr=(0,N.Z)(vr,Sa,_a,!1,null,null,null);const yr=fr.exports;var br=n(79298),Sr=n(660),_r=n(16068),xr=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.shouldShowBackdrop?t("span",{staticClass:"breakdance-inline-editor-backdrop",style:e.style,on:{click:e.onBackdropClick}}):e._e()},Cr=[],wr=n(87950);let Pr=class extends l.w3{get style(){return this.rect?{clipPath:`polygon(\n        0% 0%,\n        100% 0%,\n        100% 100%,\n        0% 100%,\n        0% ${this.rect?.y}px,\n        ${this.rect?.x}px ${this.rect?.y}px,\n        ${this.rect?.x}px ${this.rect?.bottom}px,\n        ${this.rect?.right}px ${this.rect?.bottom}px,\n        ${this.rect?.right}px ${this.rect?.y}px,\n        0% ${this.rect?.y}px\n      )`}:null}get shouldShowBackdrop(){return Q.kD.isInlineEditing&&Q.kD.inlineEditingContext?.showBackdrop}get rect(){return Q.kD.inlineEditingContext?.rect}onBackdropClick(){(0,wr.Uw)()}};Pr=(0,r.gn)([l.wA],Pr);const Ir=Pr,kr=Ir;var Er=(0,N.Z)(kr,xr,Cr,!1,null,null,null);const Tr=Er.exports;var Dr=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.draggedElement&&e.dragPosition?t("div",{staticClass:"breakdance-drag-ghost-element",style:{top:e.dragPosition?.y?e.dragPosition.y+"px":"0",left:e.dragPosition?.x?e.dragPosition.x+"px":"0"}},[e._v(" "+e._s(e.elementName)+" ")]):e._e()},Ar=[];let Zr=class extends l.w3{constructor(){super(...arguments),this.scrollInterval=null,this.maxScrollSpeed=30,this.edgeThreshold=100}onDragElementSet(){this.draggedElement?this.scrollInterval=setInterval(this.startAutoScroll,20):this.stopAutoScroll()}get dragPosition(){return Q.kD.dragMousePosition}get draggedElement(){const e=Q.kD.currentlyDraggingAddElementSlug,t=Q.kD.currentlyDraggingCanvasElementId;if(e)return e;if(t){const e=this.draggedNode;if(e)return e.data.type}return null}get draggedNode(){return Q.kD.currentlyDraggingCanvasElementId?(0,ge.findNode)(Q.Hb.document.tree,Q.kD.currentlyDraggingCanvasElementId):null}get elementName(){if(!this.draggedElement)return"";const e=this.draggedNode?.data?.properties?.meta?.friendlyName;if(e)return e;const t=Q.PK.element(this.draggedElement);return t.name}calculateScrollSpeed(e){return Math.max(0,this.maxScrollSpeed*(1-e/this.edgeThreshold))}startAutoScroll(){if(!this.dragPosition)return;const e=window.Breakdance.canvas.document,t=e.defaultView;if(e.documentElement.style.scrollBehavior="auto",!t)return;const n=t.innerHeight,s=this.dragPosition.y;let i=0;s<this.edgeThreshold?i=-this.calculateScrollSpeed(s):s>n-this.edgeThreshold&&(i=this.calculateScrollSpeed(n-s)),0!==i&&t.scrollBy({top:i,behavior:"auto"})}stopAutoScroll(){const e=window.Breakdance.canvas.document;e.documentElement.style.scrollBehavior="",this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)}};(0,r.gn)([(0,l.RL)("draggedElement")],Zr.prototype,"onDragElementSet",null),Zr=(0,r.gn)([(0,l.wA)({})],Zr);const Mr=Zr,Or=Mr;var Br=(0,N.Z)(Or,Dr,Ar,!1,null,null,null);const Lr=Br.exports;var Nr=n(47354);let Rr=class extends s.ZP{render(){const e=arguments[0],t=()=>this.canvasIsEmpty&&!this.isFutureLayerMode?e(ba.Z):this.isFutureLayerMode?this.elementsForCanvasInFutureLayerMode.map((t=>"empty-container"===t.type?e(yr,{key:"empty-container"}):e(w["default"],{key:t.element.id,attrs:{parentId:this.rootElement.id,element:t.element}}))):this.rootElement.children.map((t=>e(w["default"],{key:t.id,attrs:{parentId:this.rootElement.id,element:t}})));return e("div",{key:this.canvasKey,class:this.classList,attrs:{id:"breakdance_canvas"},style:this.style},[t(),!this.isPreviewMode&&e(ro),(!this.isPreviewMode&&!this.isOnboardingMode)??e(ya),!this.isPreviewMode&&e(ya),!this.isPreviewMode&&e(Tr),!this.isPreviewMode&&e(Lr),this.previewSettings.backgroundColor&&this.previewGlobalStyle()])}mounted(){c.uiStore.setCanvasState("normal"),addEventListener("storage",this.onStorage)}beforeDestroy(){removeEventListener("storage",this.onStorage)}onStorage(e){"oxy_selectors"===e.key&&(0,_r.z3)(e)}get isFutureLayerMode(){return(0,Nr.o8)()}get canvasKey(){return c.uiStore.canvasKey}get builderMode(){return c.configStore.builderMode||"breakdance"}get isPreviewMode(){return c.uiStore.isPreviewMode}get isOnboardingMode(){return window.Breakdance.isOnboarding}get classList(){return{[this.builderMode]:!0,canvas:!0,dragging:c.uiStore.isCanvasElementBeingDragged||c.uiStore.isAddElementBeingDragged}}get rootElement(){return c.documentStore.document.tree.root}get canvasIsEmpty(){return this.isFutureLayerMode?(0,$s.vN)(c.documentStore.document.tree):0===this.rootElement.children.length}get elementsForCanvasInFutureLayerMode(){const e=this.rootElement.children.map((e=>({type:"element",element:e})));if(this.isFutureLayerMode&&this.canvasIsEmpty){const t=e.findIndex((e=>e.element?.data.type===$s.Uu)),n=t>=0?t+1:0;e.splice(n,0,{type:"empty-container"})}return e}get globalProperties(){return c.globalStore.globalProperties}get selectors(){return c.globalStore.cssSelectors}get presets(){return c.globalStore.presets}get oxySelectors(){return c.globalStore.oxySelectors}get variables(){return c.globalStore.variables}get previewSettings(){const{preview:e}=c.documentStore.document.documentMeta.blockSettings||{preview:{}};return{width:e.width,height:e.height,backgroundColor:e.backgroundColor,isCentered:e.isCentered}}get style(){const{height:e,width:t,isCentered:n}=this.previewSettings,s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return{maxWidth:t?"100%":void 0,width:t?`${t}px`:void 0,height:e?`${e}px`:void 0,margin:t||e?"0 auto":void 0,...n?s:{}}}previewGlobalStyle(){const e=this.$createElement,{backgroundColor:t}=this.previewSettings,n="oxygen"===this.builderMode?"background-color":"--bde-background-color";return e("style",[`\n          :root,\n         body {\n          ${n}: ${t};\n         }\n        `])}onGlobalSettingsChanged(){(0,br.TK)((0,T.RY)())}onSelectorsChanged(){(0,br.EO)((0,T.RY)())}onPresetsChanged(){(0,br.aL)((0,T.RY)())}onOxySelectorsChanged(){(0,Sr.V)((0,T.RY)())}onVariablesChanged(){(0,br.Vq)((0,T.RY)()),(0,Sr.V)((0,T.RY)())}};(0,r.gn)([(0,l.RL)("globalProperties",{deep:!0,immediate:!0})],Rr.prototype,"onGlobalSettingsChanged",null),(0,r.gn)([(0,l.RL)("selectors",{deep:!0,immediate:!0})],Rr.prototype,"onSelectorsChanged",null),(0,r.gn)([(0,l.RL)("presets",{deep:!0,immediate:!0})],Rr.prototype,"onPresetsChanged",null),(0,r.gn)([(0,l.RL)("oxySelectors",{deep:!0,immediate:!0})],Rr.prototype,"onOxySelectorsChanged",null),(0,r.gn)([(0,l.RL)("variables",{deep:!0,immediate:!0})],Rr.prototype,"onVariablesChanged",null),Rr=(0,r.gn)([(0,l.wA)({components:{DragGhostElement:Lr,EmptyContainer:ba.Z,BuilderElement:w["default"],NodeChrome:ro,CanvasChrome:ya}})],Rr);const Fr=Rr,Vr=Fr;var $r,Wr,Ur=(0,N.Z)(Vr,$r,Wr,!1,null,null,null);const zr=Ur.exports;var Hr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classes,style:e.style},[t("div",{staticClass:"breakdance-preview-width-adjustment-handle align-center",on:{mousedown:e.dragStart,dblclick:e.resetPreviewWidth}},[t("Icon",{staticClass:"breakdance-preview-width-adjustment-handle__icon",attrs:{icon:"EllipsisStrokeVerticalIcon",size:"6",heightAuto:!0}})],1),e.isDragging||e.currentPreviewWidthIsSetByUser?t("div",{staticClass:"breakdance-px-amount"},[e._v(" "+e._s(e.pxAmount)+" "),t("Icon",{staticClass:"px-amount-reset-icon",attrs:{icon:"CloseCircleIcon",size:"11"},on:{click:e.resetPreviewWidth}})],1):e._e(),e.currentMediaQueryStr?t("div",{staticClass:"breakdance-preview-width-adjustment-handle-preview"},[t("span",{staticClass:"breakdance-preview-width-adjustment-handle-preview__amount"},[e._v(" "+e._s(e.currentBreakpoint.maxWidth)+" ")]),e._v(" "+e._s(e.currentMediaQueryStr)+" ")]):e._e()])},Gr=[];let qr=class extends s.ZP{constructor(){super(...arguments),this.mouseXChange=0,this.lastMouseX=0,this.isDragging=!1,this.easyEvent=new Z.hF}get currentPreviewWidthIsSetByUser(){return"100%"===this.currentBreakpoint.defaultPreviewWidth?"100%"!==this.previewWidth.width:this.previewWidth.width!==this.currentBreakpoint.defaultPreviewWidth}get currentMediaQueryStr(){return(0,Ie.Mc)(this.currentBreakpoint.minWidth,this.currentBreakpoint.maxWidth)}get builderMode(){return c.configStore.builderMode}get style(){return{left:`${this.iframeWrapperPosition.x+this.iframeWrapperPosition.width}px`,height:`${this.iframeWrapperPosition.height}px`}}get pxAmount(){return"100%"===this.previewWidth.width?"100%":`${this.previewWidth.width}px`}get alreadyAtMaximumWidth(){return"100%"===this.previewWidth.width||this.previewWidth.width>=this.previewWidth.availableCanvasSize.width}dragStart(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.lastMouseX=e.clientX,this.iframe&&(this.iframe.style.pointerEvents="none"),this.mainWrapper&&(this.mainWrapper.style.cursor="col-resize",this.mainWrapper.classList.add("is-dragging-adjustment-handle"))}dragging(e){(0,Z.Pm)(e)||(this.isDragging=!0,e.preventDefault(),e.stopPropagation(),this.mouseXChange=e.clientX-this.lastMouseX,this.adjustPreviewWidth(2*this.mouseXChange),this.lastMouseX=e.clientX)}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.iframe&&(this.iframe.style.pointerEvents="auto"),this.mainWrapper&&(this.mainWrapper.style.cursor="auto",this.mainWrapper.classList.remove("is-dragging-adjustment-handle")),this.isDragging=!1}adjustPreviewWidth(e){let t;const n=this.previewWidth.width;if(this.alreadyAtMaximumWidth&&e>0&&(e=0),"100%"===this.previewWidth.width){if(!this.iframe)return void console.warn("iframe element is missing");t=this.iframe.offsetWidth-e}else t=this.previewWidth.width+e;"100%"!==n&&t>n&&t>this.previewWidth.availableCanvasSize.width&&(t=this.previewWidth.availableCanvasSize.width),this.$emit("previewWidthChangeWithAdjustmentBar",t)}resetPreviewWidth(){this.$emit("resetPreviewWidth")}get classes(){return{"breakdance-preview-width-bar":!0,"breakdance-preview-width-bar-is-dragging":this.isDragging}}};(0,r.gn)([(0,l.fI)()],qr.prototype,"iframeWrapperPosition",void 0),(0,r.gn)([(0,l.fI)()],qr.prototype,"previewWidth",void 0),(0,r.gn)([(0,l.fI)()],qr.prototype,"currentBreakpoint",void 0),(0,r.gn)([(0,l.fI)()],qr.prototype,"mainWrapper",void 0),(0,r.gn)([(0,l.fI)()],qr.prototype,"iframe",void 0),qr=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],qr);const Kr=qr,jr=Kr;var Xr=(0,N.Z)(jr,Hr,Gr,!1,null,null,null);const Yr=Xr.exports;var Qr=n(17879),Jr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Do.Z,e._g({class:e.classList,attrs:{elevation:"0",loading:e.loading,height:"breakdance"===e.builderMode?37:32,minWidth:e.minWidth,outlined:"breakdance"===e.builderMode,"data-test-id":e.testId}},e.$listeners),[e._t("default")],2)},el=[];let tl=class extends s.ZP{get classList(){return{"breakdance-toolbar-button":"breakdance"===this.builderMode,"breakdance-toolbar-button--active":this.active,"button-oxygen":"oxygen"===this.builderMode}}get builderMode(){return Q.PK.builderMode}};(0,r.gn)([(0,l.fI)({default:!1})],tl.prototype,"loading",void 0),(0,r.gn)([(0,l.fI)({default:!1})],tl.prototype,"active",void 0),(0,r.gn)([(0,l.fI)({default:"auto"})],tl.prototype,"minWidth",void 0),(0,r.gn)([(0,l.fI)()],tl.prototype,"testId",void 0),tl=(0,r.gn)([(0,l.wA)({components:{}})],tl);const nl=tl,sl=nl;var il=(0,N.Z)(sl,Jr,el,!1,null,null,null);const ol=il.exports;var al=n(49026),rl=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showOverlay?t("div",{class:e.classes,style:e.overlayStyles,on:{mouseleave:e.handleOverlayMouseLeave,click:e.openInCanvasInSingularityMode}},[t("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar-wrapper"},[t("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar"},[e.isSingularityMode?[t("a",[e._v("Edit "+e._s(e.foreignDocumentTitle))])]:[t("a",{attrs:{href:e.foreignDocumentBuilderUrl},on:{click:e.openBuilderUrl}},[e._v(" Edit "+e._s(e.foreignDocumentTitle)+" "),t("Icon",{attrs:{icon:"EditIcon"}})],1)]],2)])]):e._e()},ll=[];const cl=e=>`${e}px`;var dl,ul=n(94543),pl=n(63085);(function(e){e["breakdance_header"]="header",e["oxygen_header"]="header",e["breakdance_footer"]="footer",e["oxygen_footer"]="footer"})(dl||(dl={}));let hl=class extends s.ZP{constructor(){super(...arguments),this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.isScrolling=!1,this.isScrollingCleanupTimerId=null,this.throttledHandleIframeScroll=U()(this.handleIframeScroll,120),this.throttledHandleWatchedElementMouseMove=U()(this.handleWatchedElementMouseMove,60),this.openingInProgress=!1}get showOverlay(){return c.uiStore.hasFullAccess}get foreignDocumentBuilderUrl(){return this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentBuilderUrl}get foreignDocumentTypeLabel(){const e=this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentType;return e?dl[e]??"":""}get foreignDocumentTitle(){const e=this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentTitle;return e||"Unknown Document"}get overlayStyles(){if(!this.isThereHoveredElementAndItsCoords())return;const{top:e,left:t,height:n,width:s}=this.hoveredForeignDocumentDomElementCoords;return{display:"flex",top:cl(e),left:cl(t),height:cl(n),width:cl(s)}}mounted(){this.addEventListenersToIframeDocument(),this.addEventListenersToWatchedElements()}beforeDestroy(){this.removeEventListenersFromIframeDocument(),this.removeEventListenersFromWatchedElements()}addEventListenersToIframeDocument(){this.iframeDocument.addEventListener("scroll",this.throttledHandleIframeScroll)}removeEventListenersFromIframeDocument(){this.iframeDocument.removeEventListener("scroll",this.throttledHandleIframeScroll)}addEventListenersToWatchedElements(){this.elementsToWatch.forEach((e=>{e.addEventListener("mousemove",this.throttledHandleWatchedElementMouseMove),e.addEventListener("mouseleave",this.handleWatchedElementMouseLeave)}))}removeEventListenersFromWatchedElements(){this.elementsToWatch.forEach((e=>{e.removeEventListener("mousemove",this.throttledHandleWatchedElementMouseMove),e.removeEventListener("mouseleave",this.handleWatchedElementMouseLeave)}))}isThereHoveredElementAndItsCoords(){return null!==this.hoveredForeignDocumentDomElement&&null!==this.hoveredForeignDocumentDomElementCoords}setHoveredForeignDocumentDomElement(e){this.hoveredForeignDocumentDomElement=e,this.hoveredForeignDocumentDomElementCoords=this.getCoords()}getCoords(){const e=this.hoveredForeignDocumentDomElement;if(1===e?.childElementCount){const t=e.firstElementChild;return t.getBoundingClientRect()}return e?.getBoundingClientRect()??null}setIsScrolling(e){e?(this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.removeEventListenersFromWatchedElements()):this.addEventListenersToWatchedElements(),this.isScrolling=e}handleIframeScroll(){this.setIsScrolling(!0),this.isScrollingCleanupTimerId&&clearTimeout(this.isScrollingCleanupTimerId),this.isScrollingCleanupTimerId=setTimeout((()=>this.setIsScrolling(!1)),120)}handleOverlayMouseLeave(){this.setHoveredForeignDocumentDomElement(null)}handleWatchedElementMouseMove(e){e.currentTarget&&this.setHoveredForeignDocumentDomElement(e.currentTarget)}handleWatchedElementMouseLeave(e){this.$el.contains(e.relatedTarget)?null!==this.hoveredForeignDocumentDomElement&&(this.hoveredForeignDocumentDomElementCoords=this.getCoords()):this.setHoveredForeignDocumentDomElement(null)}openBuilderUrl(){const e=this.foreignDocumentBuilderUrl;e&&this.$emit("openDocument",{builderUrl:e,title:this.foreignDocumentTitle})}get isSingularityMode(){return c.uiStore.isSingularityMode}get classes(){return{"breakdance-foreign-documents-overlay":!0,"breakdance-foreign-documents-overlay--singularity-mode":this.isSingularityMode}}async openInCanvasInSingularityMode(){if(!this.isSingularityMode)return;if(console.log(this.foreignDocumentBuilderUrl),!this.foreignDocumentBuilderUrl)return;const e=this.getDocIdFromBuilderUrl(this.foreignDocumentBuilderUrl);console.log(e),e&&(this.openingInProgress=!0,await(0,ul.$)(),await(0,pl.rI)(e),c.singularityStore.setSingularityLeftPanel("page_structure"),this.openingInProgress=!1)}getDocIdFromBuilderUrl(e){const t=new URL(e),n=t.searchParams.get("id");return n?parseInt(n):null}};(0,r.gn)([(0,l.fI)()],hl.prototype,"canvasElement",void 0),(0,r.gn)([(0,l.fI)()],hl.prototype,"iframeDocument",void 0),(0,r.gn)([(0,l.fI)()],hl.prototype,"elementsToWatch",void 0),hl=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],hl);const gl=hl,ml=gl;var vl=(0,N.Z)(ml,rl,ll,!1,null,null,null);const fl=vl.exports;var yl=n(713),bl=n(11529),Sl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"mainWrapper",staticClass:"breakdance-iframe-main-wrapper",style:e.mainWrapperStyle,attrs:{id:"canvas-area"}},[t("PreviewWidthAdjustmentHandle",{attrs:{"iframe-wrapper-position":e.iframeWrapperPosition,"preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,iframe:e.iframe,"main-wrapper":e.mainWrapper},on:{resetPreviewWidth:()=>this.$emit("resetPreviewWidth"),previewWidthChangeWithAdjustmentBar:e=>this.$emit("previewWidthChangeWithAdjustmentBar",e)}}),e.iframeExited?t("div",{staticClass:"iframe-reloaded-warning-block"},[e._v(" Something navigated you away from the page you are editing. "),t("StandardButton",{staticClass:"mt-4",attrs:{minWidth:"80"},on:{click:e.handleReloadWanted}},[e._v(" Continue Editing ")])],1):t("div",{ref:"iframeWrapper",staticClass:"breakdance-iframe-inner-wrapper",style:e.iframeWrapperStyles,attrs:{id:"iframe-wrapper"}},[e.iframeIsLoading?t("Loading",{attrs:{absolute:""}}):e._e(),t("iframe",{key:e.iframeUrl,ref:"iframe",staticClass:"breakdance-iframe",style:e.iframeStyle,attrs:{id:e.iframeId,name:e.iframeId,src:e.iframeUrl},on:{load:e.handleIframeLoaded}})],1)],1)},_l=[];let xl=class extends s.ZP{constructor(){super(...arguments),this.iframeWrapperPosition={x:0,y:0,width:0,height:0}}get canvasPadding(){if((0,Nr.o8)())return 0;const e="oxygen"===c.configStore.builderMode?4:8;return this.isPreviewMode?0:e}get mainWrapperStyle(){return{padding:`${this.canvasPadding}px`}}get iframeWrapperStyles(){return{width:"100%"===this.iframePreviewWidth.width?"100%":`${this.iframePreviewWidth.width}px`,overflow:"SCALED_TO_FIT"===c.uiStore.settings.scaleToFit?"hidden":"auto"}}get iframeStyle(){const e=e=>{const t=Math.min(1,this.iframePreviewWidth.availableCanvasSize.width/e);return{width:`${e}px`,transform:`scale(${t})`,height:this.iframePreviewWidth.availableCanvasSize.height*(1/t)+"px"}};return"ACTUAL_SIZE"===c.uiStore.settings.scaleToFit?"100%"===this.iframePreviewWidth.width?{width:"100%",minWidth:`${this.minWidth}px`}:{width:`${this.iframePreviewWidth.width}px`}:"100%"===this.iframePreviewWidth.width?this.iframePreviewWidth.availableCanvasSize.width<this.minWidth?e(this.minWidth):{width:"100%",minWidth:`${this.minWidth}px`}:e(this.iframePreviewWidth.width)}get iframeIsLoading(){return"loading"===this.iframeState}get isPreviewMode(){return c.uiStore.isPreviewMode}handleIframeLoaded(){this.iframe?.contentWindow&&(this.iframe.contentWindow.onunload=()=>{this.$emit("iframeUnloaded")}),this.$emit("iframeLoaded",this.iframe)}handleReloadWanted(){this.$emit("reloadWanted")}mounted(){this.mainWrapper?new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper):c.uiStore.logError("No canvas element."),this.iframeWrapper?new ResizeObserver(this.setIframeWrapperPosition).observe(this.iframeWrapper):c.uiStore.logError("No iframe wrapper element."),this.setAvailableCanvasSize()}setAvailableCanvasSize(){if(this.mainWrapper){const e=this.mainWrapper.getBoundingClientRect(),t={...this.iframePreviewWidth,availableCanvasSize:{width:e.width-2*this.canvasPadding,height:e.height-2*this.canvasPadding}};this.$emit("previewWidthChange",t)}this.setIframeWrapperPosition()}setIframeWrapperPosition(){if(this.iframeWrapper){const e=this.iframeWrapper.getBoundingClientRect();this.iframeWrapperPosition={x:e.x,y:e.y,width:e.width,height:e.height}}}};(0,r.gn)([(0,l.fI)()],xl.prototype,"iframeState",void 0),(0,r.gn)([(0,l.fI)()],xl.prototype,"iframePreviewWidth",void 0),(0,r.gn)([(0,l.fI)()],xl.prototype,"iframeUrl",void 0),(0,r.gn)([(0,l.fI)()],xl.prototype,"iframeId",void 0),(0,r.gn)([(0,l.fI)()],xl.prototype,"minWidth",void 0),(0,r.gn)([(0,l.fI)()],xl.prototype,"iframeExited",void 0),(0,r.gn)([(0,l.fI)()],xl.prototype,"currentBreakpoint",void 0),(0,r.gn)([(0,l.Rl)()],xl.prototype,"mainWrapper",void 0),(0,r.gn)([(0,l.Rl)()],xl.prototype,"iframeWrapper",void 0),(0,r.gn)([(0,l.Rl)()],xl.prototype,"iframe",void 0),xl=(0,r.gn)([(0,l.wA)({components:{StandardButton:ol,Loading:bl.Z,PreviewWidthAdjustmentHandle:Yr}})],xl);const Cl=xl,wl=Cl;var Pl=(0,N.Z)(wl,Sl,_l,!1,null,null,null);const Il=Pl.exports;let kl=class extends s.ZP{constructor(){super(...arguments),this.iframeExited=!1,this.foreignDocumentsOverlayVueApp=null,this.canvasApp=null}handlePreviewWidthChange(e){c.uiStore.changePreviewWidthMutation(e)}handlePreviewWidthChangeWithAdjustmentBar(e){c.uiStore.changePreviewWidthWithAdjustmentBar(e)}handleResetPreviewWidth(){c.uiStore.selectBaseBreakpoint()}setIframeAsExited(){c.configStore.leavingIframeOnPurpose?c.configStore.setLeavingIframeOnPurpose(!1):this.iframeExited=!0}reloadIframe(){this.iframeExited=!1,setTimeout((()=>{window.frames["iframe"].location.reload()}),0)}get iframeMinWidth(){return(0,Ie.GV)(c.globalStore)}get canvasPreviewWidth(){return c.uiStore.canvasPreviewWidth}get canvasState(){return c.uiStore.canvasState}get currentBreakpoint(){return c.uiStore.currentBreakpoint}get iframeURL(){if(c.configStore.documentSpecificNeededUrls&&-1!==c.documentStore.document.documentMeta.id){const e=new URL(c.configStore.documentSpecificNeededUrls.iframeUrl);return e.searchParams.append("breakdance_iframe","true"),e.searchParams.append("breakdance_open_document",`${c.documentStore.document.documentMeta.id}`),e.toString()}return null}mountForeignDocumentsOverlayVueAppInIframe(e,t){const n=e.createElement("div");n.classList.add("breakdance-foreign-documents-overlay-mountpoint"),e.body.appendChild(n),this.foreignDocumentsOverlayVueApp=new s.ZP({el:n,store:c["default"],vuetify:al.Z,render(n){return n(fl,{props:{elementsToWatch:e.querySelectorAll("[data-breakdance-foreign-document]"),canvasElement:t,iframeDocument:e},on:{openDocument:e=>{confirm(`Edit ${e.title}?`)&&window.open(e.builderUrl,"_top")}}})}})}mountCanvasInIframe(e){if(!e.contentDocument)throw"Unable to mount canvas in iframe because its document is missing";(0,T.hm)(e.contentDocument),(0,qe.B6)(document,window.Breakdance.canvas.document),Qr.w.registerAllStoreActions();const t=window.Breakdance.canvas.document.querySelector("#breakdance-canvas-wrapper");this.canvasApp=new s.ZP({store:c["default"],vuetify:al.Z,render:e=>e(zr)}).$mount(t),this.mountForeignDocumentsOverlayVueAppInIframe(window.Breakdance.canvas.document,this.canvasApp.$el),(0,T.sy)().appendChild((0,yl.ok)(document,_,"iframe-styles")),(0,T.sy)().appendChild((0,yl.ok)(document,x,"iframe-singularity-styles")),(0,T.sy)().appendChild((0,yl.ok)(document,C,"iframe-futurelayer-styles")),this.unbindClickEventOnInnerIframeLinks(),this.$emit("loaded")}unbindClickEventOnInnerIframeLinks(){const e=[...window.Breakdance.canvas.document.querySelectorAll("a:not([force-allow-clicks])")],t=[...window.Breakdance.canvas.document.querySelectorAll("#breakdance_canvas a")],n=e.filter((e=>!t.includes(e)));n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}))}destroyed(){this.canvasApp&&this.canvasApp.$destroy(),this.foreignDocumentsOverlayVueApp&&this.foreignDocumentsOverlayVueApp.$destroy()}};kl=(0,r.gn)([(0,l.wA)({components:{IframeWrapper:Il,Loading:bl.Z,Canvas:zr,ForeignDocumentsOverlay:fl,PreviewWidthAdjustmentHandle:Yr,StandardButton:ol}})],kl);const El=kl,Tl=El;var Dl=(0,N.Z)(Tl,b,S,!1,null,null,null);const Al=Dl.exports;let Zl=class extends s.ZP{get isSingularityMode(){return c.uiStore.isSingularityMode}};Zl=(0,r.gn)([(0,l.wA)({components:{IframeCanvas:Al}})],Zl);const Ml=Zl,Ol=Ml;var Bl=(0,N.Z)(Ol,f,y,!1,null,null,null);const Ll=Bl.exports;var Nl=n(55234),Rl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBar",["oxygen"===e.builderMode?[t("TopBarSection",[t("OxygenMenuDropdown"),t("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),t("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIconSolid",size:"14",tooltip:"Structure"},on:{click:e.toggleStructurePanel}}),e.isInlineEditing?t("InlineEditorTopbarIndicator"):t("DocumentChooser"),t("PreviewSize"),t("PreviewContentChooserDialog"),t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t("TopBarSection",[e.shouldShowUpgradeToProButton?t("UpgradeToPro"):e._e(),e.isAiEnabled?t("IconButton",{staticClass:"open-ai-assistant-button",attrs:{active:e.isAiPanelOpen,icon:"SparklesIconSolid",size:"14",tooltip:"AI Assistant"},on:{click:e.toggleAiPanel}}):e._e(),t("UndoRedo"),t("SettingsDropdown"),t("IconButton",{attrs:{active:e.isOxySelectorsPanelOpen,icon:"BracketsSolidIcon",size:"14",tooltip:"Selectors"},on:{click:e.toggleOxySelectorsPanel}}),t("IconButton",{attrs:{active:e.isVariablesPanelOpen,icon:"DollarSolidIcon",size:"14",tooltip:"Variables"},on:{click:e.toggleVariablesPanel}}),t("IconButton",{attrs:{active:e.isPreviewMode,icon:"PlaySolidIcon",size:"14",tooltip:"Preview"},on:{click:e.togglePreviewMode}}),t("Save"),t("Exit")],1)]:e._e(),"breakdance"===e.builderMode?[t("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),t("TopBarSection",{attrs:{"border-right":!0}},[t("IconButton",{staticClass:"open-properties-toolbar-button",attrs:{active:e.isElementPropertiesOpen,icon:"EditIcon",size:"18"},on:{click:e.toggleElementProperties}})],1),t(Nl.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),e.isInlineEditing?t("InlineEditorTopbarIndicator"):t("DocumentChooser"),t("PreviewContentChooserDialog"),t("TopBarSection",{attrs:{borderRight:!0}},[t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t("TopBarSection",[t("PreviewSize")],1),t(Nl.Z),e.shouldShowUpgradeToProButton?[t("TopBarSection",[t("UpgradeToPro")],1)]:e._e(),e.isAiEnabled?t("TopBarSection",{attrs:{borderLeft:!0}},[t("IconButton",{staticClass:"open-ai-assistant-button",attrs:{active:e.isAiPanelOpen,icon:"SparklesIcon",size:"18"},on:{click:e.toggleAiPanel}})],1):e._e(),t("UndoRedo"),t("TopBarSection",{staticClass:"top-bar-settings-and-structure-section",attrs:{"border-left":!0}},[t("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIcon",size:"18"},on:{click:e.toggleStructurePanel}}),t("SettingsDropdown"),t("IconButton",{staticClass:"open-preview-toolbar-button",attrs:{active:e.isPreviewMode,icon:"PlayIcon",size:"18"},on:{click:e.togglePreviewMode}})],1),t("TopBarSection",{attrs:{borderLeft:!0}},[t("Save")],1),t("Exit")]:e._e()],2)},Fl=[],Vl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["breakdance"===e.builderMode?t("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80",testId:"main-save-button"},on:{click:e.save}},[e._v(" Save ")]):e._e(),"oxygen"===e.builderMode?t("button",{class:{"button-save-oxygen":!0,"button-save-oxygen-loading":e.saveInProgress,"button-save-oxygen-unsaved":e.unsavedChangesPresent},on:{click:e.save}},[e.saveInProgress?t("Icon",{staticClass:"animate-spin",attrs:{icon:"CircleNotchSolidIcon",size:"14"}}):t("span",[e._v("Save")]),e.unsavedChangesPresent?t("span",{staticClass:"button-save-oxygen-indicator"}):e._e()],1):e._e()],1)},$l=[],Wl=n(7892);let Ul=class extends s.ZP{constructor(){super(...arguments),this.unsubscribe=null}get saveInProgress(){return c.uiStore.saveInProgress}get unsavedChangesPresent(){return c.uiStore.unsavedChangesPresent}async save(){document.dispatchEvent(new Event("breakdanceSaveButtonClicked")),c.uiStore.inlineEditingContext?.elementId&&await(0,wr.Uw)(),await(0,ul.$)()}mounted(){qe.uq.unbind(Ke.r.CMD_S),qe.uq.register(Ke.r.CMD_S,this.save),this.unsubscribe=this.$store.subscribe((e=>{Pe.n.shouldMutationBeIgnored(e)||c.uiStore.setUnsavedChangesPresent(!0)})),this.warnIfUnsavedFunction=(0,Wl.$)((()=>c.uiStore.unsavedChangesPresent))}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_S),this.unsubscribe&&this.unsubscribe(),(0,Wl.e)(this.warnIfUnsavedFunction)}get builderMode(){return c.configStore.builderMode}};Ul=(0,r.gn)([(0,l.wA)({components:{StandardButton:ol,IconButton:Ia.Z,Icon:He.Z}})],Ul);const zl=Ul,Hl=zl;var Gl=(0,N.Z)(Hl,Vl,$l,!1,null,null,null);const ql=Gl.exports;var Kl=n(70248),jl=n(61908),Xl=n(11193),Yl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return["breakdance"===e.builderMode?t("IconButton",e._g({staticStyle:{"margin-right":"0"},attrs:{active:!e.isBase,icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:18}},n)):e._e(),"oxygen"==e.builderMode?t("button",e._g({staticClass:"breakpoint-selection-oxygen"},n),[t("Icon",{attrs:{icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:14}}),e._v(e._s(e.currentBreakpoint.label)+" ")],1):e._e()]}}])},[t(Kl.Z,e._l(e.breakpoints,(function(n){return t(jl.Z,{key:n.id,class:e.activeClass(n.id),attrs:{"two-line":"",dense:""},on:{click:function(t){return e.changeBreakpoint(n)}}},[t("div",{staticClass:"device-icon-wrapper"},[t("Icon",{attrs:{icon:e.getDeviceIcon(n.id),rotate:e.getDeviceIconRotation(n.id),size:"breakdance"===e.builderMode?"18":"14"}})],1),t(Xl.km,{staticClass:"ml-4"},[t(Xl.V9,[e._v(e._s(n.label))]),t(Xl.oZ,["Desktop"===n.label?[e._v(" All device widths ")]:e._e(),n.maxWidth&&!n.minWidth?[e._v(" "+e._s(n.maxWidth)+"px and below ")]:e._e(),!n.maxWidth&&n.minWidth?[e._v(" "+e._s(n.minWidth)+"px and above ")]:e._e(),n.maxWidth&&n.minWidth?[e._v(" Between "+e._s(n.minWidth)+"px and "+e._s(n.maxWidth)+"px ")]:e._e()],2)],1)],1)})),1)],1)},Ql=[],Jl=n(15133);let ec=class extends s.ZP{getDeviceIcon(e){return Ie.b8[e]?.icon||Ie.nR}getDeviceIconRotation(e){return Ie.b8[e]?.rotate}get isBase(){return this.currentBreakpoint.id===Ie.Wp}get breakpoints(){return c.configStore.breakpoints}get currentBreakpoint(){return this.value}get builderMode(){return c.configStore.builderMode}activeClass(e){return this.currentBreakpoint.id===e&&"breakpoint-active"}changeBreakpoint(e){this.$emit("input",e)}onBreakpointsChanged(){this.breakpoints.find((e=>e.id===this.currentBreakpoint.id))||c.uiStore.selectBaseBreakpoint()}};(0,r.gn)([(0,l.fI)()],ec.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("breakpoints",{deep:!0,immediate:!0})],ec.prototype,"onBreakpointsChanged",null),ec=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,Dropdown:Jl.Z,IconButton:Ia.Z}})],ec);const tc=ec,nc=tc;var sc=(0,N.Z)(nc,Yl,Ql,!1,null,null,null);const ic=sc.exports;var oc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{staticClass:"undo-redo-top-bar-section",attrs:{"border-left":!0}},[t("IconButton",{attrs:{disabled:!e.canUndo,icon:"oxygen"==e.builderMode?"UndoIconSolid":"UndoIcon",size:"oxygen"==e.builderMode?14:18,tooltip:e.canUndo?"Undo changes":""},on:{click:e.undo}}),t("IconButton",{attrs:{disabled:!e.canRedo,icon:"oxygen"==e.builderMode?"RedoIconSolid":"RedoIcon",size:"oxygen"==e.builderMode?14:18,tooltip:e.canRedo?"Redo changes":""},on:{click:e.redo}})],1)},ac=[],rc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[e._t("default")],2)},lc=[];let cc=class extends s.ZP{get classList(){const e=["topbar-section"];return this.borderLeft&&e.push("topbar-section-bl"),this.borderRight&&e.push("topbar-section-br"),e}};(0,r.gn)([(0,l.fI)({default:!1})],cc.prototype,"borderLeft",void 0),(0,r.gn)([(0,l.fI)({default:!1})],cc.prototype,"borderRight",void 0),cc=(0,r.gn)([(0,l.wA)({components:{}})],cc);const dc=cc,uc=dc;var pc=(0,N.Z)(uc,rc,lc,!1,null,null,null);const hc=pc.exports;let gc=class extends s.ZP{mounted(){qe.uq.register(Ke.r.CMD_Z,this.undo),qe.uq.register(Ke.r.CMD_SHIFT_Z,this.redo)}get canUndo(){return c.snapshotStore.canUndo}get canRedo(){return c.snapshotStore.canRedo}undo(){this.canUndo&&Pe.n.undo()}redo(){this.canRedo&&Pe.n.redo()}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_Z),qe.uq.unbind(Ke.r.CMD_SHIFT_Z)}get builderMode(){return c.configStore.builderMode}};gc=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,TopBarSection:hc}})],gc);const mc=gc,vc=mc;var fc=(0,N.Z)(vc,oc,ac,!1,null,null,null);const yc=fc.exports;var bc=n(73385),Sc=n(77859),_c=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.previews?t("div",[t("TopBarSection",{attrs:{"border-right":!0}},[t("Dropdown",{attrs:{"offset-y":"","nudge-top":"oxygen"===e.builderMode?"-16px":0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser",class:{"document-chooser-zero-case":e.nothingToPreview}},n),[t("PreviewChooserText",{attrs:{"preview-item":e.currentPreviewedItem,"nothing-to-preview":e.nothingToPreview}}),"breakdance"==e.builderMode?t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1):e._e(),"oxygen"!=e.builderMode||e.nothingToPreview?e._e():t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownSolidIcon"}})],1)],1)]}}],null,!1,3899795736),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[e.settingsOpen?t("PreviewChooserSettings",{on:{back:function(t){e.settingsOpen=!1}}}):t(bc.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:e.nothingToPreview?void 0:350,loading:e.isLoading}},[e.nothingToPreview?e._e():t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(Sc.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}}),e.isGlobalBlock?t("IconButton",{staticStyle:{"margin-right":"-5px"},attrs:{icon:"GearIcon",small:!0},on:{click:e.toggleSettings}}):e._e()],1),t(Kl.Z,{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.previews,(function(n,s){return t("PreviewChooserItem",{key:s,attrs:{item:n,selected:n.url===e.currentPreviewedItem?.url},on:{select:e.setPreviewedItem}})})),e.nothingToPreview?t("PreviewChooserNoResults"):0===e.previews.length?t("div",{staticClass:"previewable-items-zero-case align-center text-center"},[t("h4",[e._v("No results apply to this template")])]):e._e()],2)],1)],1)],1)],1):e._e()},xc=[],Cc=n(23279),wc=n.n(Cc),Pc=n(25970),Ic=n(30902),kc=n(45974),Ec=n(98851),Tc=n(23777);async function Dc({id:e,search:t=""}){return(0,Ec.D)({action:"breakdance_get_template_previewable_items_with_search",dataToPost:{search:t,id:e},decoder:Tc.NC,resultKey:"data"})}var Ac=n(39664),Zc=function(){var e=this,t=e._self._c;e._self._setupProxy;return"breakdance"===e.builderMode?t("div",{staticClass:"document-chooser-text"},[e.previewItem?[t("h2",[e._v(e._s(e.previewItem.type))]),t("span",{staticClass:"ellipsis-text"},[e.previewItem.label?[e._v(" "+e._s(e.previewItem.label)+" ")]:e.previewItem.id?[e._v(" ID "+e._s(e.previewItem.id)+" ")]:[e._v("(no title)")]],2)]:e.nothingToPreview?[t("h2",[e._v("Nothing to Preview")]),t("span",{staticClass:"ellipsis-text"},[e._v(" No match found ")])]:[t("h2",[e._v("Previewing")]),t("span",{staticClass:"ellipsis-text"},[e._v(" choose ")])]],2):"oxygen"===e.builderMode?t("div",{staticClass:"document-chooser-text"},[e.previewItem?[t("span",{staticClass:"document-chooser-type-label"},[e._v("Preview "+e._s(e.previewItem.type)+":")]),t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.previewLabel)+" ")])]:e.nothingToPreview?[t("span",{staticClass:"document-chooser-type-label"},[e._v("Nothing to preview")])]:[t("span",{staticClass:"document-chooser-type-label"},[e._v("Previewing:")]),t("span",{staticClass:"ellipsis-text"},[e._v("choose")])]],2):e._e()},Mc=[];let Oc=class extends l.w3{get builderMode(){return c.configStore.builderMode}get previewLabel(){return this.previewItem?.label||`ID ${this.previewItem?.id||"(no title)"}`}};(0,r.gn)([(0,l.fI)()],Oc.prototype,"previewItem",void 0),(0,r.gn)([(0,l.fI)()],Oc.prototype,"nothingToPreview",void 0),Oc=(0,r.gn)([l.wA],Oc);const Bc=Oc,Lc=Bc;var Nc=(0,N.Z)(Lc,Zc,Mc,!1,null,"1dce27c0",null);const Rc=Nc.exports;var Fc=n(75223),Vc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(bc.Z,{staticClass:"vscroll-scroll vscroll-wrap preview-chooser-settings",attrs:{width:"350"}},[t(Fc.EB,{staticClass:"preview-chooser-settings-header"},[t("IconButton",{staticStyle:{"margin-left":"-9px"},attrs:{icon:"ArrowLeftIcon",small:!0,size:14},on:{click:function(t){return e.$emit("back")}}}),t("h4",{staticClass:"preview-chooser-settings__title"},[e._v("Settings")])],1),t("div",[t(Fc.ZB,[t("h6",{staticClass:"preview-chooser-settings__subtitle"},[e._v("Preview")]),t("div",{staticClass:"my-3"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" ACF Flexible Content ")]),t("DropdownInput",{attrs:{value:e.blockSettings.preview.acfFlexibleField,placeholder:"Select a field to preview",autocomplete:!0,"dropdown-options":e.dropdownOptions,clearable:!0},on:{input:e.setFlexibleField}})],1),t("div",{staticClass:"my-3"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Row Index ")]),t("NumberInput",{attrs:{value:e.blockSettings.preview.acfFlexibleFieldRow},on:{input:e.setRowIndex}})],1)])],1)],1)},$c=[],Wc=n(36968),Uc=n.n(Wc),zc=n(56125),Hc=n(23267),Gc=n(23128);let qc=class extends l.w3{constructor(){super(...arguments),this.dropdownOptions={populate:{path:"",text:"",value:"",fetchDataAction:"breakdance_fetch_flexible_content_fields",fetchContextPath:"",refetchPaths:[]}}}get postId(){return Q.Hb.document.documentMeta.id}get blockSettings(){const e=Q.Hb.document.documentMeta.blockSettings;return e||{preview:{acfFlexibleField:"",acfFlexibleFieldRow:void 0}}}async saveSettings(){await(0,To.fv)(this.postId,this.blockSettings),Q.PK.flushDynamicDataCache()}setFlexibleField(e){const t=(0,Gc.Z)(Q.Hb.document.documentMeta);Uc()(t,"blockSettings.preview.acfFlexibleField",e),Pe.n.ignore((()=>{Q.Hb.setDocumentMeta(t),this.saveSettings()}))}setRowIndex(e){const t=(0,Gc.Z)(Q.Hb.document.documentMeta);Uc()(t,"blockSettings.preview.acfFlexibleFieldRow",e),Pe.n.ignore((()=>{Q.Hb.setDocumentMeta(t),this.saveSettings()}))}};qc=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,IconButton:Ia.Z,NumberInput:Hc.Z,DropdownInput:zc.Z}})],qc);const Kc=qc,jc=Kc;var Xc=(0,N.Z)(jc,Vc,$c,!1,null,null,null);const Yc=Xc.exports;var Qc=function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)},Jc=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"previewable-items-zero-case previewable-items-zero-case-error"},[t("h4",[e._v("Nothing To Preview")]),t("p",[e._v("Your template settings don't match any content. You can:")]),t("ul",[t("li",[e._v("Edit the template anyway - this is not an error.")]),t("li",[e._v(" Update your template settings in the WP admin at "),t("b",[e._v("Breakdance > Templates > Edit Template")])]),t("li",[e._v("Add some content to your site that matches the template settings.")])])])}];let ed=class extends l.w3{};ed=(0,r.gn)([(0,l.wA)({})],ed);const td=ed,nd=td;var sd=(0,N.Z)(nd,Qc,Jc,!1,null,"7c7cb6d2",null);const id=sd.exports;var od=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(jl.Z,{class:{"document-chooser-item-selected":e.selected},attrs:{link:""},on:{click:function(t){return e.$emit("select",e.item)}}},[t(Xl.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(e.item.label||e.item.url)+" ")]),t("div",{staticClass:"previewable-item-type"},[e._v(e._s(e.item.type))])])],1)},ad=[];let rd=class extends l.w3{};(0,r.gn)([(0,l.fI)()],rd.prototype,"item",void 0),(0,r.gn)([(0,l.fI)()],rd.prototype,"selected",void 0),rd=(0,r.gn)([l.wA],rd);const ld=rd,cd=ld;var dd=(0,N.Z)(cd,od,ad,!1,null,"02fdc782",null);const ud=dd.exports;var pd=n(20918);let hd=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search="",this.isLoading=!1,this.settingsOpen=!1,this.debouncedSearchContentInWp=wc()(this.searchContentInWp,300)}get previews(){return c.configStore.templatePreview&&c.configStore.templatePreview.previewableItems}get currentPreviewedItem(){return c.configStore.previewedItem}get builderMode(){return c.configStore.builderMode}get nothingToPreview(){return(!this.previews||!this.previews.length)&&!this.search&&!this.isLoading}get isGlobalBlock(){return c.documentStore.document.documentMeta.postType===(0,pd.$M)()}async setPreviewedItem(e){this.open=!1,c.uiStore.setLastModifiedElementProperty({elementId:null,path:null}),c.configStore.setPreviewedItem(e),c.configStore.flushDynamicDataCache(),await(0,Pc.Kd)(),(0,pl.Ft)(e)}async handleSearch(e){this.search=e,this.isLoading=!0,this.debouncedSearchContentInWp()}async searchContentInWp(){this.isLoading=!0,(0,Ic.pipe)(await Dc({search:this.search,id:c.documentStore.document.documentMeta.id}),(0,kc.fold)((e=>{this.isLoading=!1,e.forEach((e=>Ac.Z.log.message(e.msg)))}),(e=>{c.configStore.setTemplatePreview({...c.configStore.templatePreview,previewableItems:e}),this.isLoading=!1})))}toggleSettings(){this.settingsOpen=!this.settingsOpen}};hd=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,Dropdown:Jl.Z,IconButton:Ia.Z,TopBarSection:hc,PreviewChooserText:Rc,PreviewChooserItem:ud,PreviewChooserSettings:Yc,PreviewChooserNoResults:id}})],hd);const gd=hd,md=gd;var vd=(0,N.Z)(md,_c,xc,!1,null,null,null);const fd=vd.exports;var yd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{staticClass:"document-chooser-section",attrs:{borderLeft:!0,borderRight:!0}},[t("Dropdown",{attrs:{"offset-y":"","nudge-top":"oxygen"===e.builderMode?"-16px":0,"close-on-content-click":!1,"close-on-click":!e.createOpen},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser"},n),[t("div",{staticClass:"document-chooser-text"},["breakdance"===e.builderMode?t("h2",[e._v(" Editing "+e._s(e.currentDocument.documentMeta.typeLabel)+" ")]):e._e(),"oxygen"===e.builderMode?t("span",{staticClass:"document-chooser-type-label"},[t("span",[e._v(e._s(e.currentDocument.documentMeta.typeLabel)+":")])]):e._e(),-1!==e.currentDocument.documentMeta.id?t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.documentTitle)+" ")]):t("span",{staticClass:"ellipsis-text"},[e._v(" choose a document to edit ")])]),"breakdance"===e.builderMode?t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1):e._e()])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(bc.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:"350",loading:e.isLoading}},[t("div",{staticClass:"document-chooser-search"},[t("div",{staticClass:"document-chooser-search__input"},[t(Sc.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:e.open},on:{input:e.handleSearch,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchContentInWp.apply(null,arguments)}}}),"breakdance"===e.builderMode?t("Icon",{staticClass:"document-chooser-search__create",attrs:{size:"13",icon:"PlusIcon"},on:{click:function(t){e.createOpen=!0}}}):e._e(),"oxygen"===e.builderMode&&0===e.search?.length?t("Icon",{staticClass:"document-chooser-search__search-icon",attrs:{size:"12",icon:"SearchIcon"}}):e._e()],1),"oxygen"===e.builderMode?t("IconButton",{staticClass:"breakdance-toolbar-icon-button document-chooser-search__icon-button",attrs:{size:"14",icon:"PlusIcon"},on:{click:function(t){e.createOpen=!0}}}):e._e()],1),t("DocumentChooserFilters",{attrs:{"sort-by":e.sortBy,"post-type":e.postType},on:{"update:sort-by":function(t){e.sortBy=t},"update:post-type":function(t){e.postType=t}}}),t(Kl.Z,{ref:"scrollable",staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.availableDocuments,(function(n){return t("DocumentChooserItem",{key:n.id,attrs:{item:n,highlight:e.postToShowFirstId===n.id},on:{click:function(t){e.open=!1},update:e.updateTitleInPlace}})})),0===e.availableDocuments.length?t("div",{staticClass:"previewable-items-zero-case-search"},[t("svg",{staticClass:"previewable-items-zero-case-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[t("path",{attrs:{d:"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75","stroke-width":"6.250005"}}),t("path",{attrs:{d:"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037","stroke-width":"6.250005"}})])]),t("h5",[e._v("No items found")]),t("p",[e._v("Try adjusting your search to find what you are looking for.")])]):e._e()],2)],1)],1),t("DocumentChooserCreateDialog",{attrs:{open:e.createOpen},on:{close:function(t){e.createOpen=!1},created:e.afterCreation}})],1)},bd=[],Sd=n(38537);async function _d({search:e="",postType:t="",sortBy:n=""}){return(0,Ec.D)({action:"breakdance_get_available_documents_with_search",dataToPost:{search:e,postType:t,sortBy:n},decoder:Sd.gu,resultKey:"data"})}var xd=n(38562),Cd=n(80427),wd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{staticClass:"document-chooser-create",attrs:{value:e.open},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Create Post")]},proxy:!0},{key:"text",fn:function(){return[t("div",{staticClass:"document-chooser-create-fields"},[t("TextInput",{staticClass:"flex-grow-1 flex-shrink-1",attrs:{placeholder:"Post Title",autofocus:e.autofocus},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.create.apply(null,arguments)}},model:{value:e.postTitle,callback:function(t){e.postTitle=t},expression:"postTitle"}}),t("DropdownInput",{staticClass:"flex-grow-1 flex-shrink-1",attrs:{placeholder:"Post Type",autocomplete:!0,"dropdown-options":e.dropdownOptions},model:{value:e.postType,callback:function(t){e.postType=t},expression:"postType"}})],1)]},proxy:!0},{key:"actions",fn:function(){return[t(Do.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{color:"blue",dark:"",loading:e.loading},on:{click:e.create}},[e._v(" Save ")])]},proxy:!0}])})},Pd=[],Id=n(3735),kd=n(32521),Ed=n(48973);let Td=class extends l.w3{constructor(){super(...arguments),this.autofocus=!1,this.postTitle="",this.postType="",this.loading=!1,this.dropdownOptions={populate:{path:"",text:"",value:"",fetchDataAction:"breakdance_get_editable_post_types",fetchContextPath:"",refetchPaths:[]}}}onOpenChange(){this.open?(this.postTitle="",this.postType="",setTimeout((()=>{this.autofocus=!0}),100)):this.autofocus=!1}async create(){if(!this.postTitle||!this.postType)return;this.loading=!0;const e=(0,Id.zG)(await(0,Ec.D)({action:"breakdance_insert_post",friendlyName:"Insert Post",dataToPost:{postTitle:this.postTitle,postType:this.postType},decoder:kd.dt({postId:kd.pk})}),(0,Ed.g_)((()=>{}),(e=>e)));this.loading=!1,this.$emit("close"),this.$emit("created",{postId:e?.postId,postTitle:this.postTitle,postType:this.postType}),(0,pd._T)(this.postType)&&(0,To.DQ)()}};(0,r.gn)([(0,l.fI)()],Td.prototype,"open",void 0),(0,r.gn)([(0,l.RL)("open")],Td.prototype,"onOpenChange",null),Td=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,Dialog:Mo.Z,DropdownInput:zc.Z}})],Td);const Dd=Td,Ad=Dd;var Zd=(0,N.Z)(Ad,wd,Pd,!1,null,null,null);const Md=Zd.exports;var Od=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(jl.Z,{class:{"document-chooser-item-selected":e.item.id===e.currentDocument.documentMeta.id,"document-chooser-item-highlighted":e.highlight},attrs:{link:"",href:e.documentUrl},on:{click:e.replaceCurrentBuilderPage}},[t(Xl.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(e.title)+" ")]),e.isBreakdancePostType?t("span",{staticClass:"previewable-item-action",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.isGlobalBlockTemplate?e.editGlobalBlock():e.editTemplate()}}},[e._v(" "+e._s(e.loadingData?"Loading...":"Edit Settings")+" ")]):e._e(),t("div",{staticClass:"previewable-item-type"},[e._v(e._s(e.item.typeLabel))])]),e.modalData&&e.isGlobalBlockTemplate?t("EditGlobalBlockModal",{attrs:{value:e.modalData.data,mode:e.modalData.type,globalBlocks:[]},on:{input:function(t){return e.$emit("update",t)},close:function(t){e.modalData=!1}}}):e.modalData?t("EditTemplateModal",{attrs:{value:e.modalData.data,templatesManagementData:e.templatesManagementData,postType:e.item.postType,templateParents:e.templateParentsWithoutTrashed,templates:e.templatesByStatus,mode:e.modalData.type,skipWarning:!0,canDisable:!0},on:{input:function(t){return e.$emit("update",t)},close:function(t){e.modalData=!1}}}):e._e()],1)},Bd=[],Ld=n(93664),Nd=n(67132),Rd=n(60744);let Fd=class extends l.w3{constructor(){super(...arguments),this.templates=[],this.modalData=!1,this.loadingData=!1,this.templatesManagementData={conditions:[],dynamicFields:[],templateTypeCategories:[],popupTriggers:null}}get globalBlocks(){return c.configStore.globalBlocks}get title(){return this.item.titleLabel?(0,yl.aV)(this.item.titleLabel):`ID: ${this.item.id}`}get currentDocument(){return c.documentStore.document}get templateParentsWithoutTrashed(){return[]}get templatesByStatus(){return[]}get documentUrl(){return(0,pl.UH)(this.item.id)}get isBreakdancePostType(){return this.item.postType.startsWith(`${c.configStore.builderMode}_`)&&!this.item.postType.endsWith(`${c.configStore.builderMode}_part`)}get currentTemplate(){return this.templates.find((e=>e.id===this.item.id))}get currentGlobalBlock(){return this.globalBlocks.find((e=>e.id===this.item.id))}get isGlobalBlockTemplate(){return this.item.postType===(0,pd.$M)()}async editGlobalBlock(){this.loadingData=!0,await this.loadGlobalBlocks(),this.currentGlobalBlock?(this.modalData={type:"edit",data:this.currentGlobalBlock},this.loadingData=!1):Ac.Z.log.message("Couldn't load Global Blocks data")}async editTemplate(){this.loadingData=!0,await this.loadTemplates(),this.currentTemplate?(this.modalData={type:"edit",data:this.currentTemplate},this.loadingData=!1):Ac.Z.log.message("Couldn't load templates data")}async loadGlobalBlocks(){return(0,To.DQ)()}async loadTemplates(){const e=this.item.postType;(0,Id.zG)(await(0,Nd.rf)(e),(0,Ed.g_)((()=>{Ac.Z.log.message("Couldn't load templates data")}),(e=>{this.templates=e.templates,this.templatesManagementData=e.templatesManagementData,c.configStore.setDynamicFields(e.templatesManagementData.dynamicFields),c.configStore.setConditions(e.templatesManagementData.conditions),c.configStore.setEnvironment(e.environment)})))}async replaceCurrentBuilderPage(e){e.ctrlKey||e.metaKey||"builder"===window.Breakdance.initialMode&&(e.preventDefault(),this.$emit("click"),(0,pl.rI)(this.item.id))}};(0,r.gn)([(0,l.fI)()],Fd.prototype,"item",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Fd.prototype,"highlight",void 0),Fd=(0,r.gn)([(0,l.wA)({components:{EditGlobalBlockModal:Rd.Z,EditTemplateModal:Ld.Z,Icon:He.Z}})],Fd);const Vd=Fd,$d=Vd;var Wd=(0,N.Z)($d,Od,Bd,!1,null,"65a1e30b",null);const Ud=Wd.exports;var zd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"document-chooser-filters",class:{"document-chooser-filters--with-sort":e.sortBy}},[t("DropdownInput",{attrs:{"dropdown-options":e.postTypeOptions,size:"small",placeholder:"Post Type",value:e.postType,clearable:!0},on:{input:function(t){return e.$emit("update:post-type",t)}}}),t("DropdownInput",{attrs:{items:e.sortItems,size:"small",placeholder:"Sort By",value:e.sortBy,clearable:!0},on:{input:function(t){return e.$emit("update:sort-by",t)}}})],1)},Hd=[];let Gd=class extends l.w3{constructor(){super(...arguments),this.sortItems=[{text:"Last edited: Newest first",value:"modified_desc"},{text:"Last edited: Oldest first",value:"modified_asc"},{text:"Created: Newest first",value:"created_desc"},{text:"Created: Oldest first",value:"created_asc"}],this.postTypeOptions={populate:{path:"",text:"",value:"",fetchDataAction:"breakdance_get_editable_post_types",fetchContextPath:"",refetchPaths:[]}}}};(0,r.gn)([(0,l.fI)()],Gd.prototype,"sortBy",void 0),(0,r.gn)([(0,l.fI)()],Gd.prototype,"postType",void 0),Gd=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z}})],Gd);const qd=Gd,Kd=qd;var jd=(0,N.Z)(Kd,zd,Hd,!1,null,null,null);const Xd=jd.exports;let Yd=class extends s.ZP{constructor(){super(...arguments),this.search="",this.open=!1,this.createOpen=!1,this.isLoading=!1,this.postToShowFirstId=null,this.sortBy="",this.postType="",this.debouncedSearchContentInWp=wc()(this.searchContentInWp,200)}onOpenChange(){this.postToShowFirstId=null}onSortChange(){this.searchContentInWp()}onPostTypeChange(){this.searchContentInWp()}get documentTitle(){return this.currentDocument.documentMeta.titleLabel?(0,yl.aV)(this.currentDocument.documentMeta.titleLabel):`ID: ${this.currentDocument.documentMeta.id}`}get unsavedChangesPresent(){return c.uiStore.unsavedChangesPresent}get availableDocuments(){const e=[...c.configStore.availableDocuments];return null===this.postToShowFirstId?e:e.sort(((e,t)=>e.id===this.postToShowFirstId?-1:t.id===this.postToShowFirstId?1:0))}get builderMode(){return c.configStore.builderMode}get currentDocument(){return c.documentStore.document}handleSearch(e){this.postToShowFirstId=null,this.search=e,this.debouncedSearchContentInWp()}async searchContentInWp(){this.isLoading=!0,(0,Ic.pipe)(await _d({search:this.search||"",postType:this.postType,sortBy:this.sortBy}),(0,kc.fold)((e=>{this.isLoading=!1,e.forEach((e=>Ac.Z.log.message(e.msg)))}),(e=>{c.configStore.setAvailableDocuments(e),this.isLoading=!1}))),this.scrollToTop()}afterCreation(e){this.search="",this.postToShowFirstId=e.postId,this.postType&&this.postType!==e.postType?this.postType="":this.searchContentInWp()}scrollToTop(){const e=this.$refs.scrollable;this.$nextTick((()=>{e.$el.scrollTop=0}))}updateTitleInPlace(e){const t=this.availableDocuments.findIndex((t=>t.id===e.id)),n=this.availableDocuments[t];if(-1===t)return;const s=(0,Gc.Z)(this.availableDocuments);s[t]={...n,titleLabel:e.title||e.label||""},c.configStore.setAvailableDocuments(s)}};(0,r.gn)([(0,l.RL)("open")],Yd.prototype,"onOpenChange",null),(0,r.gn)([(0,l.RL)("sortBy")],Yd.prototype,"onSortChange",null),(0,r.gn)([(0,l.RL)("postType")],Yd.prototype,"onPostTypeChange",null),Yd=(0,r.gn)([(0,l.wA)({components:{DocumentChooserFilters:Xd,NiceButton:Cd.Z,DropdownInput:zc.Z,TextInput:Oo.Z,Dialog:Mo.Z,Icon:He.Z,Dropdown:Jl.Z,SearchInput:xd.Z,TopBarSection:hc,DocumentChooserItem:Ud,DocumentChooserCreateDialog:Md,IconButton:Ia.Z}})],Yd);const Qd=Yd,Jd=Qd;var eu=(0,N.Z)(Jd,yd,bd,!1,null,null,null);const tu=eu.exports;var nu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":"","nudge-top":e.nudgeTop},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{active:e.anySettingsPanelsOpen,testId:"open-settings-menu",size:"breakdance"===e.builderMode?18:16,icon:"breakdance"===e.builderMode?"EllipsisStrokeIcon":"EllipsisSolidIcon",tooltip:e.isOpen?"":"Settings"}},n))]}}]),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t(Kl.Z,[e.globalSettingsAvailableForEditing?t(jl.Z,{attrs:{dense:""},on:{click:e.openGlobalSettingsPanel}},[t(Xl.V9,{attrs:{"data-test-id":"toggle-global-settings"}},[e._v(" Global Settings ")])],1):e._e(),"breakdance"==e.builderMode?t(jl.Z,{attrs:{dense:""},on:{click:e.openSelectorsPanel}},[t(Xl.V9,{attrs:{"data-test-id":"toggle-site-classes-selectors"}},[e._v(" Selectors ")])],1):e._e(),"breakdance"==e.builderMode?t(jl.Z,{attrs:{dense:""},on:{click:e.openPresetsPanel}},[t(Xl.V9,{attrs:{"data-test-id":"toggle-site-presets"}},[e._v(" Design Presets ")])],1):e._e(),t(jl.Z,{attrs:{dense:""},on:{click:e.openHistoryAndRevisionsPanel}},[t(Xl.V9,[e._v(" History ")])],1),"breakdance"==e.builderMode?t(jl.Z,{staticClass:"breakdance-menu-open-preferences",attrs:{dense:""},on:{click:e.openPreferencesModal}},[t(Xl.V9,{attrs:{"data-test-id":"breakdance-menu-open-preferences"}},[e._v(" Preferences ")])],1):e._e(),t(jl.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{"data-test-id":"toggle-element-studio",dense:"",disabled:"success"!==e.elementsLoadingState},on:{click:e.toggleElementStudio}},[t(Xl.V9,{attrs:{"data-test-id":"breakdance-menu-open-element-studio"}},[t("div",{staticClass:"d-flex align-center"},[e._v("Element Studio")])])],1),e.aiSiteCreationExperienceAvailable?t(jl.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{dense:""},on:{click:e.toggleAiSiteCreationExperience}},[t(Xl.V9,[t("div",{staticClass:"d-flex align-center"},[e._v("AI Site Creation Experience")])])],1):e._e()],1)],1)},su=[],iu=n(95690);let ou=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1}get builderMode(){return c.configStore.builderMode}get nudgeTop(){return"oxygen"===this.builderMode?-16:0}openPreferencesModal(){c.uiStore.setPreferencesModalOpen(!0)}toggleElementStudio(){c.uiStore.toggleElementStudio()}openGlobalSettingsPanel(){(0,iu.oM)("globalSettings")}openSelectorsPanel(){c.uiStore.setActiveSelectorName(null),(0,iu.oM)("selectors")}openPresetsPanel(){c.uiStore.setActivePresetId(null),(0,iu.oM)("presets")}get elementsLoadingState(){return c.configStore.elementsLoadingState}get anySettingsPanelsOpen(){return(0,iu.O_)("selectors")||(0,iu.O_)("history")||(0,iu.O_)("globalSettings")||c.uiStore.panelState.elementStudioOpen||c.uiStore.panelState.preferencesModalOpen}openHistoryAndRevisionsPanel(){(0,iu.oM)("history")}get globalSettingsAvailableForEditing(){return c.configStore.globalSettingsControlsAndTemplate.controls.length>0}toggleAiSiteCreationExperience(){(0,Nr.V6)()}get aiSiteCreationExperienceAvailable(){return!!window.Breakdance?.singularity}};ou=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,StandardButton:ol,Dropdown:Jl.Z,IconButton:Ia.Z}})],ou);const au=ou,ru=au;var lu=(0,N.Z)(ru,nu,su,!1,null,null,null);const cu=lu.exports;var du=n(59760),uu=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.backToAdmin||e.backToFrontend?t("TopBarSection",{attrs:{borderLeft:!0}},[t("Dropdown",{attrs:{"offset-y":"","nudge-top":e.nudgeTop,"nudge-left":e.nudgeLeft},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"oxygen"===e.builderMode?"XmarkSolidIcon":"XmarkIcon",size:"oxygen"===e.builderMode?14:18,tooltip:e.isOpen?"":"Exit"}},n))]}}],null,!1,3129812646),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t(Kl.Z,[e.backToFrontend?t(jl.Z,{attrs:{dense:"",href:e.backToFrontend}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"BrowserIcon"}})],1),t(Xl.km,{staticClass:"ml-4"},[t(Xl.V9,[e._v("Exit to Frontend")])],1)],1):e._e(),t(jl.Z,{attrs:{dense:"",href:e.backToAdmin}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"WordPressIcon"}})],1),t(Xl.km,{staticClass:"ml-4"},[t(Xl.V9,[e._v("Exit to WordPress")])],1)],1),t(jl.Z,{attrs:{dense:""},on:{click:e.copyFrontEndLinkToClipboard}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"CopyIcon"}})],1),t(Xl.km,{staticClass:"ml-4"},[t(Xl.V9,[e._v("Copy URL")])],1)],1)],1)],1)],1):e._e()},pu=[],hu=n(85902),gu=n(66485),mu=n.n(gu);let vu=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1}get backToAdmin(){return Q.PK.documentSpecificNeededUrls?Q.PK.documentSpecificNeededUrls.backToWordPressUrl:""}get backToFrontend(){return(0,hu.j)()}get builderMode(){return Q.PK.builderMode}get nudgeTop(){return"oxygen"===this.builderMode?-16:0}get nudgeLeft(){return"oxygen"===this.builderMode?7:0}copyFrontEndLinkToClipboard(){this.backToFrontend&&mu()(this.backToFrontend)}};vu=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,Dropdown:Jl.Z,IconButton:Ia.Z,TopBarSection:hc}})],vu);const fu=vu,yu=fu;var bu=(0,N.Z)(yu,uu,pu,!1,null,null,null);const Su=bu.exports;var _u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{attrs:{borderRight:!0}},["breakdance"===e.builderMode?t("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{active:e.isAddSectionOpen,size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")]):e._e(),"oxygen"===e.builderMode?t("IconButton",{attrs:{active:e.isAddSectionOpen,icon:"PlusIconSolid",size:"14",tooltip:"Add Element"},on:{click:e.toggleAdd}}):e._e()],1)},xu=[];let Cu=class extends s.ZP{mounted(){c.uiStore.hasFullAccess&&qe.uq.register(Ke.r.CMD_A,this.toggleAdd)}toggleAdd(){(0,iu._y)("add")}get isAddSectionOpen(){return(0,iu.O_)("add")}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_A)}get builderMode(){return c.configStore.builderMode}};Cu=(0,r.gn)([(0,l.wA)({components:{StandardButton:ol,TopBarSection:hc,IconButton:Ia.Z}})],Cu);const wu=Cu,Pu=wu;var Iu=(0,N.Z)(Pu,_u,xu,!1,null,null,null);const ku=Iu.exports;var Eu=n(78549),Tu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Eu.Z,{staticClass:"pa-0 breakdance-topbar d-flex flex-row",attrs:{short:"",color:"var(--white)",height:"auto",width:"100%",flat:""}},[e._t("default")],2)},Du=[];let Au=class extends s.ZP{};Au=(0,r.gn)([l.wA],Au);const Zu=Au,Mu=Zu;var Ou=(0,N.Z)(Mu,Tu,Du,!1,null,null,null);const Bu=Ou.exports;var Lu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["breakdance"===e.builderMode?t("NiceButton",{attrs:{"right-icon":"StarsIcon",size:"18",color:"flat"},on:{click:e.toggleDialog}},[e._v("Try Breakdance Pro")]):e._e(),"oxygen"===e.builderMode?t("button",{staticClass:"button-upgrade-oxygen-pro",on:{click:e.toggleDialog}},[t("span",{staticClass:"shining-text"},[e._v(" Try Oxygen Pro")])]):e._e(),t(xa.Z,{attrs:{"max-width":"1120"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[t("div",{staticClass:"upgrade-to-pro-modal-content"},[t("iframe",{attrs:{src:e.$bdox("website_link_upgrade_to_pro_iframe")}})])])],1)},Nu=[];let Ru=class extends s.ZP{constructor(){super(...arguments),this.dialogOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen,(0,Tt.K)("Upgrade To Pro Modal Toggled",{open:this.dialogOpen})}get builderMode(){return c.configStore.builderMode}};Ru=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z}})],Ru);const Fu=Ru,Vu=Fu;var $u=(0,N.Z)(Vu,Lu,Nu,!1,null,null,null);const Wu=$u.exports;var Uu=n(84192),zu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":"","nudge-top":"-16px","nudge-left":"7","max-width":300},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"open-main-dropdown-toolbar-button",attrs:{icon:"OxygenLogoIcon",size:"14",tooltip:e.isOpen?"":"Menu"}},n))]}}]),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t(Kl.Z,[t(jl.Z,{attrs:{dense:"",href:e.backToDashboard}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"WordPressIcon",size:"12"}})],1),t(Xl.km,{staticClass:"ml-2"},[t(Xl.V9,[e._v("Dashboard")])],1)],1),t(jl.Z,{attrs:{dense:""},on:{click:e.openPreferencesModal}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"SlidersSolidIcon",size:"12"}})],1),t(Xl.km,{staticClass:"ml-2"},[t(Xl.V9,[e._v("Preferences")])],1)],1),t(jl.Z,{attrs:{dense:"",href:e.settingsUrl}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"OxygenLogoIcon",size:"12"}})],1),t(Xl.km,{staticClass:"ml-2"},[t(Xl.V9,[e._v("Plugin Settings")])],1)],1),t(Uu.Z),t(jl.Z,{attrs:{dense:"",href:"https://oxygenbuilder.com/learn",target:"_blank"}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"VideoSolidIcon",size:"12"}})],1),t(Xl.km,{staticClass:"ml-2"},[t(Xl.V9,[e._v("Tutorials")])],1)],1),t(jl.Z,{attrs:{dense:"",href:"https://oxygenbuilder.com/documentation",target:"_blank"}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"AlignLeftIcon",size:"12"}})],1),t(Xl.km,{staticClass:"ml-2"},[t(Xl.V9,[e._v("Documentation")])],1)],1)],1)],1)},Hu=[];let Gu=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1}get backToDashboard(){return Q.PK.neededData?.adminUrl}get settingsUrl(){return Q.PK.neededData?.breakdanceSettingsUrl}openDesignLibrary(){Q.kD.setDesignLibraryModalState(!0)}openPreferencesModal(){Q.kD.setPreferencesModalOpen(!0)}};Gu=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,Dropdown:Jl.Z,IconButton:Ia.Z}})],Gu);const qu=Gu,Ku=qu;var ju=(0,N.Z)(Ku,zu,Hu,!1,null,null,null);const Xu=ju.exports;var Yu=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isGlobalBlock?t("Dropdown",{attrs:{"offset-y":"","nudge-top":-3,"max-width":300,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[e.isOxygen?t("button",e._g({staticClass:"oxygen-button-primary"},n),[t("Icon",{attrs:{icon:"ExpandExpandIcon",size:"14"}}),e.preview.width&&e.preview.height?t("span",{staticClass:"d-flex flex-row align-center"},[t("span",[e._v(e._s(e.preview.width))]),t("Icon",{attrs:{icon:"XmarkSolidIcon",size:"10"}}),t("span",[e._v(e._s(e.preview.height))])],1):e._e()],1):t("NiceButton",e._g({staticClass:"preview-size-button",attrs:{size:"small"}},n),[e.preview.width&&e.preview.height?[e._v(" "+e._s(e.preview.width)+"x"+e._s(e.preview.height)+" ")]:[e._v("Preview Size")]],2)]}}],null,!1,2570908065)},[t("div",{staticClass:"preview-size-content"},[t("h4",{staticClass:"preview-size__title mb-2"},[e._v("Constrain Preview Size")]),t("div",{staticClass:"breakdance-control-wrapper"},[t("div",{staticClass:"breakdance-control-wrapper-label-and-stuff"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Dimensions ")])]),t("div",{staticClass:"breakdance-control-wrapper-input-wrapper preview-size-inputs"},[t("UnitInput",{attrs:{type:"text",placeholder:"Width",value:{number:e.preview.width},options:{types:["px"],defaultType:"px"}},on:{input:e.changeWidth}}),t("Icon",{attrs:{icon:"CloseIcon"}}),t("UnitInput",{attrs:{type:"text",placeholder:"Height",value:{number:e.preview.height},options:{types:["px"],defaultType:"px"}},on:{input:e.changeHeight}})],1)]),t("div",{staticClass:"breakdance-control-wrapper breakdance-control-wrapper-inline"},[t("div",{staticClass:"breakdance-control-wrapper-label-and-stuff"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Background Color ")])]),t("div",{staticClass:"breakdance-control-wrapper-input-wrapper"},[t("ColorInput",{attrs:{value:e.preview.backgroundColor},on:{input:e.changeBackgroundColor}})],1)]),t("div",{staticClass:"breakdance-control-wrapper breakdance-control-wrapper-inline"},[t("div",{staticClass:"breakdance-control-wrapper-label-and-stuff"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Vertically Center ")])]),t("div",{staticClass:"breakdance-control-wrapper-input-wrapper"},[t("ToggleInput",{attrs:{value:e.preview.isCentered},on:{input:e.changeIsCentered}})],1)])])]):e._e()},Qu=[],Ju=n(62634),ep=n(71821),tp=n(72252);let np=class extends s.ZP{get isGlobalBlock(){return(0,pd._T)(c.documentStore.document.documentMeta.postType)}get postId(){return c.documentStore.document.documentMeta.id}get blockSettings(){const e=c.documentStore.document.documentMeta.blockSettings;return e||{preview:this.getEmptyPreview()}}get preview(){return this.blockSettings.preview}get isOxygen(){return"oxygen"===c.configStore.builderMode}getEmptyPreview(){return{width:void 0,height:void 0,backgroundColor:"",isCentered:!1}}changeWidth(e){this.updateProp("width",e?.number)}changeHeight(e){this.updateProp("height",e?.number)}changeBackgroundColor(e){this.updateProp("backgroundColor",e)}changeIsCentered(e){this.updateProp("isCentered",e)}updateProp(e,t){const n=(0,Gc.Z)(c.documentStore.document.documentMeta);if(Uc()(n,`blockSettings.preview.${e}`,t),!1!==n.blockSettings){const e=Object.values(n.blockSettings.preview).every((e=>void 0===e));e&&Uc()(n,"blockSettings.preview",this.getEmptyPreview())}Pe.n.ignore((async()=>{c.documentStore.setDocumentMeta(n),await(0,To.fv)(this.postId,this.blockSettings)}))}};np=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,ToggleInput:tp.Z,ColorInput:ep.Z,UnitInput:Ju.Z,NumberInput:Hc.Z,NiceButton:Cd.Z,TextInput:Oo.Z,Dropdown:Jl.Z}})],np);const sp=np,ip=sp;var op=(0,N.Z)(ip,Yu,Qu,!1,null,null,null);const ap=op.exports;var rp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{attrs:{borderLeft:!0,borderRight:!0}},[t("div",{staticClass:"inline-editor-topbar-indicator",on:{click:e.closeEditor}},[t("Icon",{staticClass:"inline-editor-topbar-indicator__icon",attrs:{icon:"ArrowLeftIcon"}}),t("span",{staticClass:"inline-editor-topbar-indicator__title truncate"},[e._v(" "+e._s(e.block?.label)+" ")]),t("Icon",{staticClass:"inline-editor-topbar-indicator__icon",attrs:{icon:"GlobeIcon"}})],1)])},lp=[];let cp=class extends l.w3{get block(){return c.configStore.globalBlocks.find((e=>c.uiStore.inlineEditingContext?.blockId===e.id))}closeEditor(){(0,wr.Uw)()}};cp=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,TopBarSection:hc}})],cp);const dp=cp,up=dp;var pp=(0,N.Z)(up,rp,lp,!1,null,null,null);const hp=pp.exports;let gp=class extends s.ZP{get shouldShowUpgradeToProButton(){return"free"===c.configStore.subscriptionMode}get isPreviewMode(){return c.uiStore.isPreviewMode}togglePreviewMode(){c.uiStore.togglePreviewMode()}toggleElementProperties(){(0,iu._y)("elementproperties")}get isElementPropertiesOpen(){return(0,iu.O_)("elementproperties")}get isOxySelectorsPanelOpen(){return(0,iu.O_)("oxySelectors")}get isVariablesPanelOpen(){return(0,iu.O_)("variables")}toggleStructurePanel(){(0,iu._y)("structure")}toggleOxySelectorsPanel(){(0,iu._y)("oxySelectors")}toggleVariablesPanel(){(0,iu._y)("variables")}get isStructurePanelOpen(){return(0,iu.O_)("structure")}get isAiEnabled(){return c.configStore.ai?.enabled}get isAiPanelOpen(){return(0,iu.O_)("ai")}toggleAiPanel(){(0,iu._y)("ai")}get activeElementId(){return c.uiStore.activeElementId}get isInlineEditing(){return c.uiStore.isInlineEditing}get currentBreakpoint(){return c.uiStore.currentBreakpoint}set currentBreakpoint(e){c.uiStore.changeBreakpoint(e)}mounted(){qe.uq.register(Ke.r.CMD_SHIFT_S,(()=>(0,du.b0)("SCALED_TO_FIT"!==c.uiStore.settings.scaleToFit)))}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_SHIFT_S)}get builderMode(){return c.configStore.builderMode}};gp=(0,r.gn)([(0,l.wA)({components:{InlineEditorTopbarIndicator:hp,PreviewSize:ap,TopBar:Bu,Exit:Su,AddButton:ku,TopBarSection:hc,SettingsDropdown:cu,BreakpointsSelection:ic,Save:ql,UndoRedo:yc,PreviewContentChooserDialog:fd,DocumentChooser:tu,IconButton:Ia.Z,UpgradeToPro:Wu,OxygenMenuDropdown:Xu}})],gp);const mp=gp,vp=mp;var fp=(0,N.Z)(vp,Rl,Fl,!1,null,null,null);const yp=fp.exports;var bp=n(56275),Sp=n(53333),_p=n(77671),xp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(xa.Z,{attrs:{"content-class":"preferences-modal-dialog",value:e.open,"max-width":"780",persistent:""},on:{input:function(t){return e.$emit("update:dialog",!1)},"click:outside":e.handleClickOutside}},[t(bc.Z,{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[!0===e.saveInProgress?[t("div",{staticClass:"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto"},[t(bp.Z,{attrs:{size:100,indeterminate:"",color:"var(--gray300)"}})],1)]:[t("div",{staticClass:"flex-grow-1 d-flex flex-row",staticStyle:{overflow:"auto"}},[t("div",{staticClass:"preferences-tab-area"},[t("h2",{staticClass:"preferences-modal-title-text"},[e._v("Preferences")]),t(_p.Z,{staticClass:"breakdance-tabs",attrs:{vertical:""},on:{change:e.handleChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(Sp.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"SlidersIcon",size:"16"}}),e._v(" UI Settings ")],1),t(Sp.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"FontIcon",size:"16"}}),e._v(" Custom Fonts ")],1),t(Sp.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{size:"16",icon:"BreakpointsIcon"}}),e._v(" Breakpoints ")],1)],1)],1),t("button",{staticClass:"preferences-close-button",on:{click:e.handleClickOutside}},[t("Icon",{attrs:{size:"20",icon:"CloseIcon"}})],1),t("div",{staticClass:"flex-grow-1 preferences-content-area"},[e.currentTab===e.fontFamiliesTab?t("CustomFontFamilies",{ref:"customFontFamiliesPanel",attrs:{value:e.customFontFamilies},on:{input:e.updateCustomFontFamilies}}):e._e(),e.currentTab===e.customBreakpointsTab?t("CustomBreakpointsPanel",{ref:"customBreakpointsPanel",attrs:{value:e.customBreakpoints},on:{input:e.updateBreakpoints}}):e._e(),e.currentTab===e.uiSettingsTab?t("CustomUiSettings"):e._e()],1)])]],2)],1)],1)},Cp=[],wp=n(51168),Pp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{save:{text:"Save Breakpoints",function:e.applyChanges,inProgress:!1,disabled:!e.unsavedChangesPresent}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Breakpoints")]},proxy:!0},{key:"content",fn:function(){return[t("EditBreakpoints",{attrs:{value:e.internalValue},on:{input:e.breakpointsEdited}})]},proxy:!0}])})},Ip=[],kp=n(18446),Ep=n.n(kp),Tp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._l(e.value,(function(n){return t("EditBreakpoint",{key:n.id,attrs:{value:n,isEditing:n.id===e.editingBreakpointId},on:{input:e.updateOrAddBreakpoint,delete:function(t){return e.deleteBreakpoint(n.id)},edit:e.edit}})})),!e.showAddForm&&e.value.length>0?t(Do.Z,{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")]):e._e(),t("div",[e.showAddForm?[t("div",{staticClass:"add-breakpoint-form-content-wrapper"},[t("div",{staticClass:"add-breakpoint-heading-box"},[t("h4",{staticClass:"add-breakpoint-heading"},[e._v("Add New Breakpoint")]),t("IconButton",{staticClass:"add-breakpoint-close-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddBreakpointForm}})],1),t("TextInput",{attrs:{placeholder:"Breakpoint name, ie. iPhone X or tablet",size:"md","validation-function-name":"validateNoQuotes"},model:{value:e.newBreakpointLabel,callback:function(t){e.newBreakpointLabel=t},expression:"newBreakpointLabel"}}),t(Do.Z,{attrs:{disabled:!e.newBreakpointLabel,text:""},on:{click:e.addBreakpoint}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)]:e._e(),e.showAddForm||0!=e.value.length?e._e():t("EmptyStatePreferences",[t("p",[e._v("Add your first breakpoint by clicking the button below.")]),t(Do.Z,{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")])],1)],2)],2)},Dp=[],Ap=n(82202),Zp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{ref:"form",staticClass:"mx-n2 pa-2 py-3 breakpoint-edit"},[t("h3",{staticClass:"font-weight-medium breakpoint-title text-capitalize mb-2"},[e._v(" "+e._s(e.value.label)+" ")]),t("div",{staticClass:"d-flex align-center justify-space-between"},[t("div",{staticClass:"media-query-box"},[e.isEditing?t("div",{staticClass:"media-query-box-items"},[t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Maximum width (px)")]),t("NumberInput",{model:{value:e.internalValue.maxWidth,callback:function(t){e.$set(e.internalValue,"maxWidth",t)},expression:"internalValue.maxWidth"}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Minimum width (px)")]),t("NumberInput",{model:{value:e.internalValue.minWidth,callback:function(t){e.$set(e.internalValue,"minWidth",t)},expression:"internalValue.minWidth"}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"media-query-box-label"},[e._v("Default Preview Width")]),t("DropdownInput",{staticClass:"breakdance-dense-select breakdance-dense-select--md",attrs:{label:"Default Preview Width",value:"100%"===e.internalValue.defaultPreviewWidth?"100%":"custom",items:["100%","custom"],dense:"",solo:"",flat:"",filled:"",clearable:""},on:{input:e.setDefaultPreviewWidth}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},["100%"!==e.internalValue.defaultPreviewWidth?[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Custom width (px)")]),t("NumberInput",{model:{value:e.internalValue.defaultPreviewWidth,callback:function(t){e.$set(e.internalValue,"defaultPreviewWidth",t)},expression:"internalValue.defaultPreviewWidth"}})],1)]:e._e()],2),t("div",{staticClass:"d-flex justify-end align-center"},[t(Do.Z,{staticClass:"mr-3",attrs:{text:"",color:"red darken-1"},on:{click:e.cancel}},[e._v("Cancel")]),t("NiceButton",{attrs:{disabled:!e.internalValue.maxWidth&&!e.internalValue.minWidth},on:{click:e.save}},[e._v("Save")])],1)]):t("div",{on:{click:e.enableEditing}},[this.mediaQueryString?[t("div",{staticClass:"media-query-string"},[e._v(e._s(this.mediaQueryString))])]:[t(Ap.Z,{staticClass:"mt-4",attrs:{dense:"",text:"",color:"orange"}},[e._v(" Click to set min and max widths. ")])]],2)]),e.isEditing?e._e():t("div",{staticClass:"breakpoint-edit__actions"},[t("IconButton",{staticClass:"mr-1",attrs:{icon:"EditIcon",size:"18"},on:{click:e.enableEditing}}),t("IconButton",{attrs:{icon:"TrashIcon",size:"18"},on:{click:function(t){t.stopPropagation(),e.deleteDialog=!0}}})],1)])]),t("ConfirmDialog",{attrs:{show:e.deleteDialog,type:"error","action-text":"Delete","discard-text":"Cancel","save-is-enabled":!0,"discard-is-enabled":!0},on:{discard:function(t){e.deleteDialog=!1},save:e.deleteBreakpoint},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete breakpoint?")]},proxy:!0},{key:"text",fn:function(){return[e._v("{If you delete the "+e._s(e.value.label||`${e.value.defaultPreviewWidth}px`)+" breakpoint, you will lose all design changes it applies.")]},proxy:!0}])})],1)},Mp=[],Op=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(xa.Z,{attrs:{value:e.show,persistent:"",width:400},on:{"click:outside":function(t){return e.$emit("click:outside")}}},[t(bc.Z,{staticClass:"breakdance-dialog"},[e.type?t("div",{staticClass:"card-alert"},[t(Ap.Z,{staticClass:"card-alert__icon",attrs:{type:e.type}})],1):e._e(),t(Fc.EB,{staticClass:"breakdance-dialog-title"},[e._t("title")],2),t(Fc.ZB,{staticClass:"breakdance-dialog-contents"},[e._t("text")],2),t(Fc.h7,{staticClass:"breakdance-dialog-actions"},[e.hasCancel?t(Do.Z,{on:{click:()=>this.$emit("cancel")}},[e._v(e._s(e.cancelText)+" ")]):e._e(),e.hasDiscard?t(Do.Z,{attrs:{disabled:!e.discardIsEnabled,loading:e.discardIsInProgress},on:{click:()=>this.$emit("discard")}},[e._v(e._s(e.discardText)+" ")]):e._e(),t(Do.Z,{attrs:{color:e.type,dark:"",disabled:!e.saveIsEnabled,loading:e.saveIsInProgress},on:{click:()=>this.$emit("save")}},[e._v(e._s(e.actionText)+" ")])],1)],1)],1)},Bp=[];let Lp=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Lp.prototype,"show",void 0),(0,r.gn)([(0,l.fI)({default:"info"})],Lp.prototype,"type",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Lp.prototype,"hasCancel",void 0),(0,r.gn)([(0,l.fI)({default:"Cancel"})],Lp.prototype,"cancelText",void 0),(0,r.gn)([(0,l.fI)()],Lp.prototype,"saveIsEnabled",void 0),(0,r.gn)([(0,l.fI)()],Lp.prototype,"saveIsInProgress",void 0),(0,r.gn)([(0,l.fI)({default:!0})],Lp.prototype,"hasDiscard",void 0),(0,r.gn)([(0,l.fI)()],Lp.prototype,"discardIsEnabled",void 0),(0,r.gn)([(0,l.fI)()],Lp.prototype,"discardIsInProgress",void 0),(0,r.gn)([(0,l.fI)({default:"Save"})],Lp.prototype,"actionText",void 0),(0,r.gn)([(0,l.fI)({default:"Discard"})],Lp.prototype,"discardText",void 0),Lp=(0,r.gn)([(0,l.wA)({components:{}})],Lp);const Np=Lp,Rp=Np;var Fp=(0,N.Z)(Rp,Op,Bp,!1,null,null,null);const Vp=Fp.exports;let $p=class extends s.ZP{constructor(){super(...arguments),this.deleteDialog=!1,this.internalValue=(0,Gc.Z)(this.value)}setDefaultPreviewWidth(e){const t=this.internalValue.maxWidth??this.internalValue.minWidth??250;this.internalValue.defaultPreviewWidth="100%"===e?"100%":t}enableEditing(){this.$emit("edit",this.value.id)}get breakpoints(){return c.configStore.breakpoints}get previewWidthUnit(){return"px"}deleteBreakpoint(){this.$emit("delete"),this.deleteDialog=!1}get mediaQueryString(){const e=this.internalValue.minWidth||void 0,t=this.internalValue.maxWidth||void 0;return(0,Ie.Mc)(e,t)}cancel(){this.internalValue=(0,Gc.Z)(this.value),this.$emit("edit","")}save(){const e=(0,Gc.Z)(this.internalValue);(0,Ic.pipe)((0,Ie.cb)(e),(0,kc.fold)((e=>{e.forEach((e=>Ac.Z.log.message(e.msg)))}),(e=>{this.$emit("input",e),this.$emit("edit","")})))}};(0,r.gn)([(0,l.fI)()],$p.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],$p.prototype,"isEditing",void 0),$p=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,TextInput:Oo.Z,NumberInput:Hc.Z,DropdownInput:zc.Z,NiceButton:Cd.Z,ConfirmDialog:Vp},directives:{focus:{inserted:function(e){e.focus()}}}})],$p);const Wp=$p,Up=Wp;var zp=(0,N.Z)(Up,Zp,Mp,!1,null,null,null);const Hp=zp.exports;var Gp=function(){var e=this,t=e._self._c;return t("div",{staticClass:"preferences-empty-state"},[e._t("default")],2)},qp=[],Kp={},jp=(0,N.Z)(Kp,Gp,qp,!1,null,null,null);const Xp=jp.exports;let Yp=class extends s.ZP{constructor(){super(...arguments),this.editingBreakpointId="",this.showAddForm=!1,this.newBreakpointLabel=""}edit(e){this.editingBreakpointId=e,this.showAddForm=!1}openAddBreakpointForm(){this.showAddForm=!0,this.editingBreakpointId=""}toggleAddBreakpointForm(){this.showAddForm=!this.showAddForm}addBreakpoint(){if(!this.newBreakpointLabel)return;const e=this.newBreakpointLabel.toLowerCase().replace(/[- ]/g,"_"),t=`custom_breakpoint_${e}`;this.updateOrAddBreakpoint({id:t,label:this.newBreakpointLabel,minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:"100%"})}deleteBreakpoint(e){const t=(0,Gc.Z)(this.value),n=t.findIndex((t=>t.id===e));t.splice(n,1),this.$emit("input",t)}updateOrAddBreakpoint(e){const t=(0,Ie.lx)(this.value,e);this.$emit("input",t),!0===this.showAddForm&&(this.showAddForm=!1),this.newBreakpointLabel=""}};(0,r.gn)([(0,l.fI)()],Yp.prototype,"value",void 0),Yp=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,EditBreakpoint:Hp,EmptyStatePreferences:Xp,TextInput:Oo.Z,IconButton:Ia.Z}})],Yp);const Qp=Yp,Jp=Qp;var eh=(0,N.Z)(Jp,Tp,Dp,!1,null,null,null);const th=eh.exports;var nh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"preferences-panel-topbar"},[t("div",{staticClass:"preferences-panel-heading"},[e._t("title")],2),e._t("aftertitle"),t(Nl.Z)],2),t("div",{staticClass:"preferences-panel-content-area"},[e._t("content")],2),t("div",{staticClass:"preferences-bottom-panel"},[e.hideSaveButton?e._e():t(Do.Z,{attrs:{loading:e.save.inProgress,disabled:e.save.disabled,color:"blue",dark:""},on:{click:e.save.function}},[e._v(e._s(e.save.text)+" ")])],1)])},sh=[];let ih=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],ih.prototype,"save",void 0),(0,r.gn)([(0,l.fI)({default:!1})],ih.prototype,"hideSaveButton",void 0),ih=(0,r.gn)([(0,l.wA)({})],ih);const oh=ih,ah=oh;var rh=(0,N.Z)(ah,nh,sh,!1,null,null,null);const lh=rh.exports;let ch=class extends s.ZP{constructor(){super(...arguments),this.internalValue=(0,Gc.Z)(this.value)}get unsavedChangesPresent(){return!Ep()((0,Gc.Z)(this.internalValue),(0,Gc.Z)(this.value))}applyChanges(){this.$emit("input",this.internalValue)}breakpointsEdited(e){this.internalValue=e}};(0,r.gn)([(0,l.fI)()],ch.prototype,"value",void 0),ch=(0,r.gn)([(0,l.wA)({components:{EditBreakpoints:th,PreferencesPanel:lh}})],ch);const dh=ch,uh=dh;var ph=(0,N.Z)(uh,Pp,Ip,!1,null,null,null);const hh=ph.exports;var gh=n(56904),mh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{save:{text:"Save Fonts",function:e.applyChanges,inProgress:e.saveInProgress,disabled:!e.unsavedChangesPresent||e.isFreeMode}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Custom Fonts")]},proxy:!0},{key:"content",fn:function(){return[t("ProOnlyAlertBox",{staticClass:"mb-5",attrs:{options:{content:`Managing custom fonts is only available in ${e.$bdox("plugin_name")} Pro`,feature:"custom-fonts"}}}),e._l(e.internalValue,(function(n,s){return t("FontFamily",{key:n.family,attrs:{value:n,isOpen:s===e.openedFontIndex},on:{open:function(t){return e.openFont(t?s:-1)},delete:function(t){return e.deleteFontFamily(s)},input:function(t){return e.updateFontFamily(t,s)}}})})),e.internalValue.length?[t("div",{staticClass:"mt-12"})]:e._e(),t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Add Font")]),e.showAddForm||0!=e.internalValue.length?e._e():t("EmptyStatePreferences",[t("p",[e._v(" Add a font family to "+e._s(e.$bdox("plugin_name"))+"'s font family dropdowns, and optionally upload associated .woff/.woff2 files. ")]),t(Do.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")])],1),e.showAddForm?t("div",[t(gh.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.saveNewFontFamily.apply(null,arguments)}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[t("div",{staticClass:"add-font-family-form-content-wrapper"},[t("div",{staticClass:"add-font-heading-box"},[t("h4",{staticClass:"add-font-heading"},[e._v("Add New Font")]),t("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddForm}})],1),t("TextInput",{attrs:{placeholder:"Custom font name, ie. Helvetica",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md","validation-function-name":"validateAlphanumericHyphenUnderscore"},model:{value:e.fontFamily,callback:function(t){e.fontFamily=t},expression:"fontFamily"}}),t(Do.Z,{attrs:{disabled:!e.fontFamily||!0!==e.validFontFamily,type:"submit",text:""}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showAddForm?t(Do.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")]):e._e(),t("h4",{staticClass:"my-4 font-weight-medium mt-12"},[e._v("Use Fonts In External CSS")]),e.showCssForm||0!=e.internalValue.length?e._e():t("EmptyStatePreferences",[t("p",[e._v("Use hosted fonts from providers like Adobe Fonts.")]),t(Do.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add External CSS ")])],1),e.showCssForm?t("div",[t(gh.Z,{ref:"cssForm",on:{submit:function(t){return t.preventDefault(),e.saveCssUrl.apply(null,arguments)}},model:{value:e.validCssForm,callback:function(t){e.validCssForm=t},expression:"validCssForm"}},[t("div",{staticClass:"add-font-family-form-content-wrapper mb-4"},[t("div",{staticClass:"add-font-heading-box"},[t("h4",{staticClass:"add-font-heading"},[e._v("CSS URL")]),t("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleCssForm}})],1),t("TextInput",{attrs:{rules:[e=>!!e||"Please enter a value",t=>e.isValidUrl(t)||"Please enter a valid URL"],placeholder:"URL to CSS file containing Font Face definitions",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md"},model:{value:e.cssUrl,callback:function(t){e.cssUrl=t},expression:"cssUrl"}}),t(Do.Z,{attrs:{disabled:e.saveInProgress,type:"submit",text:""}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showCssForm?t(Do.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add CSS URL ")]):e._e()]},proxy:!0}])})},vh=[],fh=n(88667),yh=n(65669);async function bh(e){return await(0,Ec.D)({action:"breakdance_save_font_file",dataToPost:{file:e},decoder:fh.zM})}async function Sh(e){return await(0,Ec.D)({action:"breakdance_get_font_families_from_css_file",dataToPost:{cssUrl:e},decoder:fh.lU})}async function _h(e){return await(0,Ec.D)({action:"breakdance_save_font_families",dataToPost:{customFontFamilies:(0,yh.J)(e)},decoder:fh.lU})}const xh=e=>{const t=(0,Gc.Z)(Q.PK.fonts),n=t.findIndex((t=>t.slug===e.slug));-1===n?t.unshift(e):t[n]=e,Q.PK.setFonts(t)},Ch=e=>{const t=(0,Gc.Z)(Q.PK.fonts),n=t.findIndex((t=>t.slug===e));n>-1&&t.splice(n,1),Q.PK.setFonts(t)};var wh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family"},[t("div",{staticClass:"custom-font-family-titlebar",on:{click:e.toggleFaces}},[t("div",{staticClass:"custom-font-family-title"},[e._v(" "+e._s(e.value.family)+" ")]),t(Do.Z,{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.deleteFontFamily.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),e.isOpen?t("div",{staticClass:"custom-font-family-edit"},[e.value.hasExternalCssUrl?e._e():t("div",[t("FontFaces",{attrs:{value:e.value.faces},on:{input:e.editFontFamily}}),t("TextField",{attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}}),e.fallbackStringHasBeenEdited?[t(Ap.Z,{staticClass:"mt-4",attrs:{dense:"",border:"left",text:"",type:"warning"}},[e._v(" Changes to the CSS fallback string will take effect after "),t("strong",[e._v("saving and refreshing")]),e._v(". ")])]:e._e()],2),e.value.hasExternalCssUrl?t("div",[t("span",{staticStyle:{"font-size":"var(--text-sm)","font-weight":"500"}},[e._v("Sourced from "+e._s(e.value.cssUrl))]),t("TextField",{staticClass:"mt-4",attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}})],1):e._e()]):e._e()])},Ph=[],Ih=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family-font-faces"},[e._l(e.value,(function(n,s){return t("UpdateFontFace",{key:n.id,attrs:{value:n,existingFontFaces:e.existingFontFaces(s)},on:{input:function(t){return e.updateFontFace(t,s)},delete:function(t){return e.deleteFontFace(s)}}})})),t("FontFileUpload",{on:{save:e.newFontFileSuccessfullyUploaded}})],2)},kh=[],Eh=n(9207),Th=n(42564),Dh=n(25135),Ah=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family-font-face"},[t(gh.Z,{ref:"form",model:{value:e.isFontFaceUnique,callback:function(t){e.isFontFaceUnique=t},expression:"isFontFaceUnique"}},[t("div",{staticClass:"custom-font-family-font-face-titlebar"},[t("div",{staticClass:"custom-font-family-font-face-titlebar-title"},e._l(e.value.files,(function(n){return t("div",{key:n.fileUrl,staticClass:"mr-3"},[e._v(" "+e._s(n.fileName)+" ")])})),0),t(Do.Z,{attrs:{icon:""},on:{click:e.deleteFontFace}},[t("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),t("div",{staticClass:"custom-font-family-font-face-controls"},[t("div",{staticClass:"custom-font-family-font-face-controls-control"},[t(Dh.Z,{staticClass:"mr-4",attrs:{dense:"",outlined:"",value:e.value.weight,items:e.weights,rules:[e.validateWeight],label:"Font Weight"},on:{input:e.updateWeight}})],1),t("div",{staticClass:"custom-font-family-font-face-controls-control"},[t(Th.Z,{staticClass:"pt-0 mt-0 mr-4",attrs:{value:e.value.style,rules:[e.validateStyle],row:"",dense:""},on:{change:e.updateStyle}},[t(Eh.Z,{attrs:{label:"Normal",value:"normal"}}),t(Eh.Z,{attrs:{label:"Italic",value:"italic"}})],1)],1)])])],1)},Zh=[],Mh=n(52343);let Oh=class extends s.ZP{constructor(){super(...arguments),this.isFontFaceUnique=!0}validateWeight(e){return e?!this.existingFontFaces.find((t=>t.weight===e&&t.style===this.value.style))?.files.find((e=>this.valueFormats.includes(e.format)))||"This font weight already exists with this style, and format":"A weight is required"}validateStyle(e){return!this.existingFontFaces.find((t=>t.weight===this.value.weight&&t.style===e))?.files.find((e=>this.valueFormats.includes(e.format)))||"This font style already exists with this weight, and format"}get valueFormats(){return this.value.files.map((e=>e.format))}revalidateOnValueChange(){this.form.validate()}updateWeight(e){const t={...this.value,weight:e};this.$emit("input",t)}updateStyle(e){const t={...this.value,style:e};this.$emit("input",t)}deleteFontFace(){this.$emit("delete")}get weights(){return Mh.I}get currentWeight(){return Mh.I.find((e=>e.value===this.value.weight))}};(0,r.gn)([(0,l.Rl)()],Oh.prototype,"form",void 0),(0,r.gn)([(0,l.fI)()],Oh.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:[]})],Oh.prototype,"existingFontFaces",void 0),(0,r.gn)([(0,l.RL)("value")],Oh.prototype,"revalidateOnValueChange",null),Oh=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],Oh);const Bh=Oh,Lh=Bh;var Nh=(0,N.Z)(Lh,Ah,Zh,!1,null,null,null);const Rh=Nh.exports;var Fh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-font-file-uploader"},[t("FileUpload",{attrs:{height:"150px",accept:".woff,.woff2",saveInProgress:e.saveInProgress},on:{input:e.handleFiles}},[e._v(" drag .woff or .woff2 files or "),t("span",{staticClass:"breakdance-font-file-uploader-choose-link"},[e._v("browse...")])])],1)},Vh=[],$h=n(30895);let Wh=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1}handleFiles(e){Array.from(e).forEach((e=>{const t=new FileReader;t.onloadend=async t=>{if(!t?.target)return;const n=new Uint8Array(t.target.result).subarray(0,4);let s="";n.forEach((e=>s+=e.toString(16)));const i=e.name.split(".").pop(),o="774f4646"===s&&"woff"===i,a="774f4632"===s&&"woff2"===i;o||a?(this.saveInProgress=!0,(0,Ic.pipe)(await bh(e),(0,kc.fold)((e=>{(0,wp.UE)(e)}),(e=>{this.$emit("save",{fileUrl:e.fileUrl,format:o?"woff":"woff2",fileName:e.fileName})}))),this.saveInProgress=!1):Ac.Z.log.message('Only  ".woff" and ".woff2" files are supported')},t.readAsArrayBuffer(e)}))}};Wh=(0,r.gn)([(0,l.wA)({components:{FileUpload:$h.Z}})],Wh);const Uh=Wh,zh=Uh;var Hh=(0,N.Z)(zh,Fh,Vh,!1,null,null,null);const Gh=Hh.exports;var qh=n(8773);let Kh=class extends s.ZP{newFontFileSuccessfullyUploaded(e){const t=Xh(e),n=[...this.value,t];this.$emit("input",n)}updateFontFace(e,t){const n=[...this.value],s=e.files.map((e=>e.format)),i=n.findIndex((t=>t.weight===e.weight&&t.style===e.style&&!t.files.find((e=>s.includes(e.format)))));-1===i?n[t]=e:(n[i].files=[...n[i].files,...e.files],n.splice(t,1)),this.$emit("input",n)}deleteFontFace(e){const t=[...this.value];t.splice(e,1),this.$emit("input",t)}existingFontFaces(e){return this.value.filter(((t,n)=>n!==e))}};(0,r.gn)([(0,l.fI)()],Kh.prototype,"value",void 0),Kh=(0,r.gn)([(0,l.wA)({components:{FontFileUpload:Gh,UpdateFontFace:Rh}})],Kh);const jh=Kh;function Xh(e){return{id:(0,qh.Z)(),files:[e],style:"normal",weight:0}}const Yh=jh;var Qh=(0,N.Z)(Yh,Ih,kh,!1,null,null,null);const Jh=Qh.exports;let eg=class extends s.ZP{constructor(){super(...arguments),this.fallbackStringHasBeenEdited=!1}toggleFaces(){this.$emit("open",!this.isOpen)}deleteFontFamily(){this.$emit("delete")}editFallbackString(e){this.fallbackStringHasBeenEdited=!0,this.$emit("input",{...this.value,fallbackString:e})}editFontFamily(e){this.$emit("input",{...this.value,faces:e})}editCssUrl(e){this.$emit("input",{...this.value,cssUrl:e})}};(0,r.gn)([(0,l.fI)()],eg.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],eg.prototype,"isOpen",void 0),eg=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,FontFaces:Jh,TextField:Oo.Z}})],eg);const tg=eg,ng=tg;var sg=(0,N.Z)(ng,wh,Ph,!1,null,null,null);const ig=sg.exports;var og=n(13997),ag=n(2028),rg=n(73077);let lg=class extends s.ZP{constructor(){super(...arguments),this.internalValue=(0,Gc.Z)(this.value),this.fontFamily="",this.cssUrl="",this.validForm=!0,this.validCssForm=!0,this.saveInProgress=!1,this.openedFontIndex=-1,this.showAddForm=!1,this.showCssForm=!1}get unsavedChangesPresent(){return!Ep()((0,Gc.Z)(this.internalValue),(0,Gc.Z)(this.value))}get validFontFamily(){return(0,og.q3)(this.fontFamily)}toggleAddForm(){this.showAddForm=!this.showAddForm}toggleCssForm(){this.showCssForm=!this.showCssForm}async applyChanges(){this.saveInProgress=!0,(0,Ic.pipe)(await _h(this.internalValue),(0,kc.fold)((e=>{(0,wp.UE)(e)}),(e=>{e.forEach((e=>{const t=this.internalValue.findIndex((t=>t.id===e.fontId));this.internalValue[t].cssUrl=e.cssUrl,this.internalValue[t].cssName=e.fontRegistrationData.cssName,xh(e.fontRegistrationData)})),this.$emit("input",this.internalValue)}))),this.saveInProgress=!1}openFont(e){this.isFreeMode||(this.openedFontIndex=e)}updateFontFamily(e,t){const n=(0,Gc.Z)(this.internalValue);n[t]=e,this.internalValue=n}deleteFontFamily(e){if(this.isFreeMode)return;const t=(0,Gc.Z)(this.internalValue);t.splice(e,1),Ch(this.internalValue[e].id),this.internalValue=t}saveNewFontFamily(){this.form.validate()&&this.fontFamily&&(this.internalValue.push({id:"custom_font_"+this.fontFamily.toLowerCase().replace(/ /g,"_"),family:this.fontFamily,fallbackString:"",cssUrl:"",hasExternalCssUrl:!1,cssName:this.fontFamily,faces:[]}),this.openedFontIndex=this.internalValue.length-1,this.fontFamily="",this.form.reset(),this.showAddForm=!1)}async saveCssUrl(){this.cssForm.validate()&&this.cssUrl&&(this.saveInProgress=!0,(0,Ic.pipe)(await Sh(this.cssUrl),(0,kc.fold)((e=>{(0,wp.UE)(e)}),(e=>{e.forEach((e=>{const t=this.internalValue.findIndex((t=>t.id===e.fontId))>-1;t||this.internalValue.unshift({id:e.fontId,family:e.fontRegistrationData.label,fallbackString:e.fontRegistrationData.fallbackString,cssUrl:e.cssUrl,hasExternalCssUrl:!0,cssName:e.fontRegistrationData.cssName,faces:[]})}))}))),this.saveInProgress=!1,this.cssUrl="",this.showCssForm=!1)}isValidUrl(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}get isFreeMode(){return"free"===Q.PK.subscriptionMode}};(0,r.gn)([(0,l.Rl)()],lg.prototype,"form",void 0),(0,r.gn)([(0,l.Rl)()],lg.prototype,"cssForm",void 0),(0,r.gn)([(0,l.fI)()],lg.prototype,"value",void 0),lg=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:rg.Z,AlertBox:ag.Z,FontFamily:ig,PreferencesPanel:lh,EmptyStatePreferences:Xp,Icon:He.Z,TextInput:Oo.Z,IconButton:Ia.Z}})],lg);const cg=lg,dg=cg;var ug=(0,N.Z)(dg,mh,vh,!1,null,null,null);const pg=ug.exports;var hg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{"hide-save-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("UI Settings")]},proxy:!0},{key:"content",fn:function(){return[t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Settings")]),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.autoScrollEnabled,inset:"",label:"Auto-scroll to active element",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null},on:{change:e.setAutoScrollEnabled}})],1),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.isScaledToFit,label:"Scale content to fit the screen (zoom)",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setScaleToFit}})],1),"breakdance"===e.builderMode?t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.isDarkMode,label:"Dark Mode",inset:""},on:{change:e.toggleTheme}})],1):e._e(),e.displayShowExperimentalElementsSetting?t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.showExperimentalElements,label:"Show Experimental Elements",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setShowExperimentalElements}})],1):e._e(),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.disableNoticeForEmptySSRElements,label:"Disable Message For Empty SSR Elements",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setDisableNoticeForEmptySSRElements}})],1),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.isShowingIdsInStructurePanel,label:"Show elements ID in the Structure Panel",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setIsShowingIdsInStructurePanel}})],1),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.disableCodeMirrorLineWrapping,label:"Disable Code Editor Line Wrapping",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setDisableCodeMirrorLineWrapping}})],1),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.isTinyMcePreferredForRichText,label:"Prefer TinyMCE For Rich Text",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setIsTinyMcePreferredForRichText}})],1),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.includeCustomBreakpointsInBreakpointsDropdown,label:"Include Custom Breakpoints in Breakpoint Dropdowns",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setIncludeCustomBreakpointsInBreakpointsDropdown}})],1),e.includeCustomBreakpointsInBreakpointsDropdown?[t("AlertBox",{staticClass:"mb-5",attrs:{options:{style:"info",content:`<a target='_blank' href='${e.customBreakpointsDocUrl}'>Limitations May Apply</a>`}}})]:e._e(),"breakdance"===e.builderMode?t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.showPreviousBreakpointValueAsPlaceholder,label:"Experimental: Show Previous Breakpoint Value As Placeholder",inset:""},on:{change:e.setShowPreviousBreakpointValueAsPlaceholder}})],1):e._e(),t("div",{staticClass:"ui-setting"},[t(Ca.Z,{attrs:{"input-value":e.disableCustomUnitDropdown,label:"Disable Custom Unit Dropdown",inset:""},on:{change:e.updatedisableCustomUnitDropdown}})],1),t("div",{staticClass:"ui-setting"},[t("div",{staticClass:"ui-panel-title"},[e._v("Default Unit Type")]),t("DropdownInput",{attrs:{items:e.unitTypes,value:e.defaultUnitType,placeholder:"px",clearable:!0},on:{input:e.setDefaultUnitType}})],1),t("div",{staticClass:"mt-4"},[t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Panel Positions")]),e._l(e.panelsState,(function(n,s){return[t("div",{key:s,staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[t("div",{staticClass:"ui-panel-title"},[e._v(e._s(n.label))]),t("ButtonBarInput",{attrs:{value:n.value,items:e.panelPositionsAsItems,options:{mandatory:!0}},on:{input:function(t){return e.setPanelPosition(n.id,t)}}})],1)]})),t("div",{staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[t("div",{staticClass:"ui-panel-title"},[e._v("Popout Position")]),t("ButtonBarInput",{attrs:{value:e.popoutPosition,items:e.popoutPositionItems,options:{mandatory:!0}},on:{input:e.setPopoutPosition}})],1),t("div",{staticClass:"d-flex justify-end mt-4"},[t("NiceButton",{attrs:{disabled:e.arePanelPositionsDefault},on:{click:e.resetUiPanelPositionsToDefault}},[e._v("Reset to defaults")])],1)],2)]},proxy:!0}])})},gg=[],mg=n(44762),vg=n(6613),fg=n(31549),yg=n(82436),bg=n(16795);let Sg=class extends s.ZP{constructor(){super(...arguments),this.panelsState=this.getPanelsInitialState()}getPanelsInitialState(){const e=[{id:"add",label:"Add"},{id:"elementproperties",label:"Element Properties"},{id:"structure",label:"Structure"},{id:"history",label:"History & Revisions"}];return"breakdance"===c.configStore.builderMode&&(e.push({id:"globalSettings",label:"Global Settings"}),e.push({id:"selectors",label:"Selectors"})),"oxygen"===c.configStore.builderMode&&(e.push({id:"variables",label:"Variables"}),e.push({id:"oxySelectors",label:"Selectors"})),e.map((e=>({...e,value:(0,iu.pL)(e.id)})))}get builderMode(){return c.configStore.builderMode}setPanelPosition(e,t){const n=this.panelsState.findIndex((t=>t.id===e));this.panelsState[n].value=t,(0,iu.hy)(e,t),(0,iu.ug)(),(0,iu.oM)(e)}resetUiPanelPositionsToDefault(){(0,iu.qH)(),this.panelsState=this.getPanelsInitialState()}get arePanelPositionsDefault(){return Ep()(iu.c$,this.panelsState.reduce(((e,t)=>(e[t.id]=t.value,e)),{}))}get panelPositionsAsItems(){return["left","right"].map((e=>({text:e,value:e})))}get popoutPositionItems(){return[{text:"Stacked",value:"STACKED"},{text:"Stacked (First Visible)",value:"STACKED_FIRST_VISIBLE"},{text:"Side By Side",value:"SIDE_BY_SIDE"}]}get displayShowExperimentalElementsSetting(){return(0,yg.y)()}get isDarkMode(){return"dark"===c.uiStore.settings.theme}get isScaledToFit(){return"SCALED_TO_FIT"===c.uiStore.settings.scaleToFit}get includeCustomBreakpointsInBreakpointsDropdown(){return c.uiStore.settings.includeCustomBreakpointsInBreakpointsDropdown}get isShowingIdsInStructurePanel(){return c.uiStore.settings.showElementIdInStructurePanel}get isTinyMcePreferredForRichText(){return c.uiStore.settings.isTinyMcePreferredForRichText}get customBreakpointsDocUrl(){return"oxygen"===c.configStore.builderMode?"https://oxygenbuilder.com/documentation/settings/preferences/custom-breakpoints/breakpoint-dropdown-limitations/":"https://breakdance.com/documentation/settings/preferences/custom-breakpoints/breakpoint-dropdown-limitations/"}get unitTypes(){return bg.LF}setScaleToFit(e){this.setUiSettings((0,du.b0)(e))}toggleTheme(){const e=(0,Gc.Z)(c.uiStore.settings);e.theme=this.isDarkMode?"light":"dark",this.setUiSettings(e)}setDisableNoticeForEmptySSRElements(e){const t=(0,Gc.Z)(c.uiStore.settings);t.disableNoticeForEmptySSRElements=e,this.setUiSettings(t)}get disableNoticeForEmptySSRElements(){return c.uiStore.settings.disableNoticeForEmptySSRElements}get showExperimentalElements(){return c.uiStore.settings.showExperimentalElements}setShowExperimentalElements(e){const t=(0,Gc.Z)(c.uiStore.settings);t.showExperimentalElements=e,this.setUiSettings(t)}setIsShowingIdsInStructurePanel(e){const t=(0,Gc.Z)(c.uiStore.settings);t.showElementIdInStructurePanel=e,this.setUiSettings(t)}setIncludeCustomBreakpointsInBreakpointsDropdown(e){const t=(0,Gc.Z)(c.uiStore.settings);t.includeCustomBreakpointsInBreakpointsDropdown=e,this.setUiSettings(t)}get defaultUnitType(){return c.uiStore.settings.defaultUnitType}setDefaultUnitType(e){const t=(0,Gc.Z)(c.uiStore.settings);t.defaultUnitType=e,this.setUiSettings(t)}get disableCustomUnitDropdown(){return c.uiStore.settings.disableCustomUnitDropdown}updatedisableCustomUnitDropdown(e){const t=(0,Gc.Z)(c.uiStore.settings);t.disableCustomUnitDropdown=e,this.setUiSettings(t)}get showPreviousBreakpointValueAsPlaceholder(){return c.uiStore.settings.showPreviousBreakpointValueAsPlaceholder}setShowPreviousBreakpointValueAsPlaceholder(e){const t=(0,Gc.Z)(c.uiStore.settings);t.showPreviousBreakpointValueAsPlaceholder=e,this.setUiSettings(t)}get disableCodeMirrorLineWrapping(){return c.uiStore.settings.disableCodeMirrorLineWrapping}setDisableCodeMirrorLineWrapping(e){const t=(0,Gc.Z)(c.uiStore.settings);t.disableCodeMirrorLineWrapping=e,this.setUiSettings(t)}setIsTinyMcePreferredForRichText(e){const t=(0,Gc.Z)(c.uiStore.settings);t.isTinyMcePreferredForRichText=e,this.setUiSettings(t)}get autoScrollEnabled(){return c.uiStore.settings.autoScrollEnabled}get popoutPosition(){return c.uiStore.settings.popoutPosition}setAutoScrollEnabled(e){const t=(0,Gc.Z)(c.uiStore.settings);t.autoScrollEnabled=e,this.setUiSettings(t)}setPopoutPosition(e){const t=(0,Gc.Z)(c.uiStore.settings);t.popoutPosition=e,this.setUiSettings(t)}setUiSettings(e){const t=(0,vg.g)({...du.OC,...e});t&&(0,fg.r)(du.rZ,t),c.uiStore.setSettings(e)}};Sg=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,NiceButton:Cd.Z,PreferencesPanel:lh,ButtonBarInput:mg.Z,ToggleInput:tp.Z,AlertBox:ag.Z}})],Sg);const _g=Sg,xg=_g;var Cg=(0,N.Z)(xg,hg,gg,!1,null,null,null);const wg=Cg.exports;let Pg=class extends s.ZP{constructor(){super(...arguments),this.tab=0,this.currentTab=0,this.uiSettingsTab=0,this.fontFamiliesTab=1,this.customBreakpointsTab=2,this.saveInProgress=!1,this.hasUnsavedChanges=!1}get preferences(){return c.configStore.preferences}get customBreakpoints(){return this.preferences.customBreakpoints}get customFontFamilies(){return c.configStore.preferences.customFonts}updateBreakpoints(e){const t=(0,Gc.Z)(this.preferences);t.customBreakpoints=e,this.save(t)}updateCustomFontFamilies(e){const t=(0,Gc.Z)(this.preferences);t.customFonts=e,this.save(t)}handleClickOutside(){if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges)return this.$emit("update:dialog",!1);const e=confirm("Exit without saving?");return e?this.$emit("update:dialog",!1):this}async handleChangeTab(){if(this.checkForUnsavedChanges(),this.hasUnsavedChanges){const e=confirm("Exit without saving?");if(!e)return await this.$nextTick(),this.tab=this.currentTab,!0}return this.currentTab=this.tab,!1}async save(e){this.saveInProgress=!0,(0,Ic.pipe)(await wp.HR("preferences",e),(0,kc.fold)((e=>{(0,wp.UE)(e)}),(()=>{c.configStore.setPreferences(e)}))),this.saveInProgress=!1,this.checkForUnsavedChanges()}checkForUnsavedChanges(){return this.currentTab===this.fontFamiliesTab?(this.hasUnsavedChanges=this.customFontFamiliesPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.currentTab===this.customBreakpointsTab?(this.hasUnsavedChanges=this.customBreakpointsPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.hasUnsavedChanges=!1}};(0,r.gn)([(0,l.fI)()],Pg.prototype,"open",void 0),(0,r.gn)([(0,l.Rl)()],Pg.prototype,"customFontFamiliesPanel",void 0),(0,r.gn)([(0,l.Rl)()],Pg.prototype,"customBreakpointsPanel",void 0),Pg=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,CustomUiSettings:wg,CustomFontFamilies:pg,CustomBreakpointsPanel:hh,Loading:bl.Z}})],Pg);const Ig=Pg,kg=Ig;var Eg=(0,N.Z)(kg,xp,Cp,!1,null,null,null);const Tg=Eg.exports;var Dg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(xa.Z,{attrs:{"content-class":"keyboard-shortcuts-help-modal",value:e.open,"max-width":"850"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[t(bc.Z,{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[t(Fc.ZB,[t("table",{staticClass:"styled-table"},[t("thead",[t("tr",[t("th",[e._v("Shortcut")]),t("th",[e._v("Description")])])]),t("tbody",e._l(e.filteredShortcuts,(function(n,s){return t("tr",{key:s},[t("td",{domProps:{innerHTML:e._s(n.shortcut)}}),t("td",[e._v(e._s(n.description))])])})),0)])])],1)],1)],1)},Ag=[];let Zg=class extends s.ZP{constructor(){super(...arguments),this.shortcuts=[{shortcut:["CMD_A"],description:"Open add elements panel",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_B"],description:"Open design sets modal",availableIn:["breakdance"]},{shortcut:["CMD_S"],description:"Save",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_Z"],description:"Undo",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_SHIFT_Z"],description:"Redo",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_C"],description:"Copy the active element",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_V"],description:"Paste copied element",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_D"],description:"Duplicate the active element",availableIn:["breakdance","oxygen"]},{shortcut:["ESC"],description:"De-activate the active element or close modal",availableIn:["breakdance","oxygen"]},{shortcut:["SHIFT_ESC"],description:"Go to the parent of the active element",availableIn:["breakdance","oxygen"]},{shortcut:["BACKSPACE","DELETE"],description:"Delete active element",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_OPTION_R"],description:"Cycle to the next breakpoint",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_SHIFT_SLASH","CMD_QUESTION"],description:"Show keyboard shortcuts help modal",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_SHIFT_S"],description:"Switch between 'scale to fit' and 'actual size' content",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_E"],description:"Open the rich text editor modal. Only when the Rich Text element is selected",availableIn:["breakdance","oxygen"]},{shortcut:["C_S_S"],description:"Open the active element's Advanced  Custom CSS and focus it.",availableIn:["breakdance"]},{shortcut:["C_L_A"],description:"Open the active element's Advanced  Classes autocomplete and focus it.",availableIn:["breakdance"]},{shortcut:["F"],description:"Focus the properties search box.",availableIn:["breakdance"]},{shortcut:["SHIFT_F"],description:"Focus the properties search box and toggle the option to search advanced settings (element properties panel only).",availableIn:["breakdance"]},{shortcut:["CMD_I"],description:"Toggle the modified option in the properties search box.",availableIn:["breakdance"]},{shortcut:["OPTION_P"],description:"Toggle the preview mode.",availableIn:["breakdance","oxygen"]}]}get builderMode(){return c.configStore.builderMode||"breakdance"}get filteredShortcuts(){return this.shortcuts.filter((e=>e.availableIn.includes(this.builderMode))).map((e=>{const t=e.shortcut.map(this.getKeyboardShortcutValue).join("<br />");return{...e,shortcut:t}}))}getKeyboardShortcutValue(e){const t=Ke.r[e],n=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);let s=t?t[0]:"";return n||2!=t.length||(s=t[1]),s.toUpperCase().split("+").join(" + ")}};(0,r.gn)([(0,l.fI)()],Zg.prototype,"open",void 0),Zg=(0,r.gn)([(0,l.wA)({components:{}})],Zg);const Mg=Zg,Og=Mg;var Bg=(0,N.Z)(Og,Dg,Ag,!1,null,null,null);const Lg=Bg.exports;var Ng=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio",style:e.styles},[t("ElementStudioWidthAdjustmentBar",{on:{change:e.adjustWidth}}),t("div",{staticClass:"element-studio-wrapper",attrs:{"data-test-id":"element-studio-wrapper"}},[e.activeItemType&&"element"!==e.activeItemType?e._e():t("ElementStudioElements",{attrs:{value:e.data,width:e.width},on:{input:e.updateData,width:e.updateWidth,active:e.updateActiveItemType}}),e.activeItemType&&"macro"!==e.activeItemType?e._e():t("ElementStudioMacros",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType&&"preset"!==e.activeItemType?e._e():t("ElementStudioPresets",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType?e._e():t("div",{staticClass:"d-flex flex-column align-center justify-center pa-6"},[t("h4",[e._v("Element Studio is for developers and is provided as-is.")]),t("p",[t("small",[e._v(" No support is provided. Please read the "),t("a",{attrs:{href:e.$bdox("docs_link_element_studio"),target:"_blank"}},[e._v("documentation")]),e._v(" before use. ")])])])],1)],1)},Rg=[],Fg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ElementStudioWidthAdjustmentBarAdjustmentHandle",{staticClass:"element-studio-width-adjustment-bar",attrs:{"on-dragging":e.dragging}})},Vg=[],$g=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._g(e._b({staticClass:"breakdance-element-studio-adjustment-handle",on:{mousedown:e.dragStart}},"div",e.$attrs,!1),e.$listeners),[e._t("default")],2)},Wg=[];let Ug=class extends s.ZP{constructor(){super(...arguments),this.lastMouseX=0}draggingFunc(e){e.preventDefault(),this.onDragging(e,this.lastMouseX),this.lastMouseX=e.clientX}dragStart(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("mousemove",this.draggingFunc),document.addEventListener("mouseup",this.dragEnd),this.lastMouseX=e.clientX,document.getElementById("iframe").style.pointerEvents="none"}dragEnd(e){e.preventDefault(),document.removeEventListener("mousemove",this.draggingFunc),document.removeEventListener("mouseup",this.dragEnd),document.getElementById("iframe").style.pointerEvents="auto"}};(0,r.gn)([(0,l.fI)()],Ug.prototype,"onDragging",void 0),Ug=(0,r.gn)([(0,l.wA)({})],Ug);const zg=Ug,Hg=zg;var Gg=(0,N.Z)(Hg,$g,Wg,!1,null,null,null);const qg=Gg.exports;let Kg=class extends s.ZP{dragging(e,t){this.$emit("change",-1*(e.clientX-t))}};Kg=(0,r.gn)([(0,l.wA)({components:{ElementStudioWidthAdjustmentBarAdjustmentHandle:qg}})],Kg);const jg=Kg,Xg=jg;var Yg=(0,N.Z)(Xg,Fg,Vg,!1,null,null,null);const Qg=Yg.exports;var Jg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingElement}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.elementsSlug,value:e.currentlyEditingElement,itemType:"element","item-name":e.currentlyEditingElement?e.currentlyEditingElement.element.name:"",hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openElement,switchMode:e.switchMode,delete:e.deleteElement,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingElement}}),e.currentlyEditingElement?t("div",{staticClass:"element-studio-content"},["split-vertical"===e.mode?[t("div",{staticClass:"panel-50 panel-50-top-panel vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),t("div",{staticClass:"panel-50 vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)]:"split-horizontal"===e.mode?[t("div",{staticClass:"d-flex flex-row",staticStyle:{height:"100%"}},[t("div",{staticClass:"panel-50-h panel-50-h-first-panel vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),t("div",{staticClass:"panel-50-h vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)])]:[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1)]],2):e._e()],1)},em=[],tm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-top-bar d-flex"},[e.showNewItemDialog?t("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.saveLocations,"item-type":e.itemType},on:{input:e.saveNewItem,close:function(t){e.showNewItemDialog=!1}}}):e._e(),t("div",{staticClass:"d-flex ml-4"},[e.value?e._e():[t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Do.Z,e._g(e._b({attrs:{text:"",disabled:0===e.itemsSlug.length,"data-test-id":"element-studio-open-element"}},"v-btn",s,!1),n),[t("Icon",{staticClass:"mr-2",attrs:{icon:"OpenFolderIcon",size:"18"}}),e._v(" Open "+e._s(e.itemType)+" ")],1)]}}],null,!1,4260211493)},[t(Kl.Z,{staticStyle:{"max-height":"500px",overflow:"auto"}},[t(Sc.Z,{staticClass:"breakdance-element-studio-searchbar",staticStyle:{padding:"12px 16px","margin-bottom":"24px"},attrs:{label:`Search ${e.itemType}s`,flat:"",autofocus:""},model:{value:e.availableItemsSearch,callback:function(t){e.availableItemsSearch=t},expression:"availableItemsSearch"}}),e._l(e.availableItemsBySearch,(function(n,s){return t(jl.Z,{key:s,attrs:{dense:""},on:{click:function(t){return e.openItem(n)}}},[t(Xl.V9,[e._v(" "+e._s(n)+" ")])],1)}))],2)],1),t(Do.Z,{staticClass:"ml-2",attrs:{text:"","data-test-id":"element-studio-new-element-button"},on:{click:e.handleNewItem}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"AddFileIcon"}}),e._v(" New "+e._s(e.itemType)+" ")],1)],e.value?[t("div",{staticClass:"d-flex align-center flex-wrap"},[t("div",{staticClass:"mr-2 element-studio-element-name"},[e._v(" "+e._s(e.itemName)+" ")]),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("div",[e.value.directoryPath&&e.canSaveOrIsAdvancedUser?t("NiceButton",e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),n.click.apply(null,arguments)},click:function(t){e.saveOverwrite(!1)}}},"NiceButton",s,!1),[e._v(" Save ")]):!e.value.directoryPath||e.value.onlyForAdvancedUsers?t("NiceButton",e._g(e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),n.click.apply(null,arguments)}}},"NiceButton",s,!1),n),[e._v(" Save ")]):e._e()],1)]}}],null,!1,3543840629)},[t(Kl.Z,[e.value.directoryPath?[e.showAdvancedFeatures?t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[t(Xl.V9,[t("h3",[e._v("Save & Bypass Psalm...")])])],1):e.canSaveOrIsAdvancedUser?t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[t(Xl.V9,[t("h3",[e._v("Save")])])],1):e._e()]:e._e(),t(jl.Z,{attrs:{dense:""}},[t(Xl.V9,[e.availableSaveLocations.length?t("h3",[e._v("Save A Copy In:")]):t("div",[e._v(" Enable saving elements by "),t("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements/",target:"_blank"}},[e._v("adding a save location.")])])])],1),e._l(e.availableSaveLocations,(function(n,s){return[t(jl.Z,{key:s,attrs:{dense:""},on:{click:function(t){return e.saveAs(n)}}},[t(Xl.V9,[e._v(" "+e._s(n.label)+"  ")])],1)]}))],2)],1),e.canDeleteElement?t(xa.Z,{attrs:{"max-width":"360"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("NiceButton",e._g(e._b({staticClass:"mr-2",attrs:{elevation:"0","data-test-id":"element-studio-delete-button",title:"Delete element","left-icon":"TrashIcon"}},"NiceButton",s,!1),n),[e._v(" Delete ")])]}}],null,!1,2278590123),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t(bc.Z,[t(Fc.EB,{staticClass:"subtitle-1"},[e._v(' Delete "'+e._s(e.itemName)+'" '+e._s(e.itemType)+"? ")]),t(Fc.ZB,[e._v("This action cannot be undone.")]),t(Fc.h7,[t(Nl.Z),t(Do.Z,{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.deleteItem}},[e._v(" Delete ")])],1)],1)],1):e._e(),t(Do.Z,{attrs:{icon:"","data-test-id":"element-studio-close-element",title:`Close ${e.itemType}`},on:{click:e.closeItem}},[t("Icon",{attrs:{icon:"CloseSquareIcon"}})],1)],1)]:e._e()],2),t(Nl.Z),e.value?t(Do.Z,{staticClass:"mr-1 element-studio-switch-mode",attrs:{icon:"",title:"Switch mode","data-test-id":"element-studio-topbar-switch-mode"},on:{click:e.switchMode}},[t("Icon",{attrs:{icon:"TableColumnIcon",size:"18"}})],1):e._e(),t(Do.Z,{staticClass:"mr-4 element-studio-close-panel",attrs:{icon:"",title:"Close Element Studio Panel"},on:{click:e.closePanel}},[t("Icon",{attrs:{icon:"CloseCircleIcon",size:"18"}})],1),t(xa.Z,{attrs:{value:e.closeItemOrPanelDialog,persistent:"","max-width":"400"}},[t(bc.Z,[t(Fc.EB,{staticClass:"headline"},[e._v(" You have unsaved changes ")]),t(Fc.ZB,[e._v(" Please save your changes before closing this "+e._s(e.itemType)+", or discard your changes. ")]),t(Fc.h7,[t(Nl.Z),t(Do.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.discardChanges}},[e._v(" Discard my changes ")]),t(Do.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.closeItemOrPanelDialog=!1}}},[e._v(" I'll save them ")])],1)],1)],1)],1)},nm=[],sm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(xa.Z,{attrs:{value:!0,"max-width":"400",persistent:""}},[t(bc.Z,[t(Fc.EB,{staticClass:"headline"},[e._v(" Create new "+e._s(e.itemType)+" ")]),t(Fc.ZB,{staticClass:"pb-1"},[t("div",[e._v("Please enter the "+e._s(e.itemType)+"'s name.")])]),t(Fc.ZB,[t(Sc.Z,{attrs:{rules:[e.nameIsValid],label:"Name"},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}}),e.saveLocations.length?t(Th.Z,{attrs:{mandatory:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select a saving location ")]},proxy:!0}]),model:{value:e.newItemSaveLocation,callback:function(t){e.newItemSaveLocation=t},expression:"newItemSaveLocation"}},[e._l(e.saveLocations,(function(n){return[e.showSaveLocation(n)?t(Eh.Z,{key:n.directoryPath,attrs:{label:n.label,value:n}}):e._e()]}))],2):[t("b",[e._v("Error: no registered saving locations. Using the "),t("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements"}},[e._v("Custom Elements")]),e._v(" plugin will automatically register a saving location.")])]],2),t(Fc.h7,[t(Nl.Z),t(Do.Z,{attrs:{color:"green darken-1",text:""},on:{click:e.closeNewItemDialog}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{color:"blue darken-1",text:"",disabled:!0!==e.nameIsValid(e.newItemName)||!e.newItemSaveLocation},on:{click:e.saveNewItem}},[e._v(" Create ")])],1)],1)],1)},im=[],om=n(91362);let am=class extends s.ZP{constructor(){super(...arguments),this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1}nameIsValid(e){return(0,om.nQ)(e)}get showAdvancedFeatures(){return(0,yg.y)()||Q.PK.isElementStudioPowerUser}showSaveLocation(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}saveNewItem(){this.$emit("input",{...this.newItemSaveLocation,name:this.newItemName}),this.closeNewItemDialog()}closeNewItemDialog(){this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1,this.$emit("close")}};(0,r.gn)([(0,l.fI)()],am.prototype,"saveLocations",void 0),(0,r.gn)([(0,l.fI)()],am.prototype,"itemType",void 0),am=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],am);const rm=am,lm=rm;var cm=(0,N.Z)(lm,sm,im,!1,null,null,null);const dm=cm.exports;let um=class extends s.ZP{constructor(){super(...arguments),this.deleteDialog=!1,this.availableItemsSearch="",this.closeItemOrPanelDialog=!1,this.showNewItemDialog=!1}mounted(){document.addEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked),this.warnIfUnsavedFunction=(0,Wl.$)((()=>this.hasUnsavedChanges))}destroyed(){document.removeEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked)}beforeDestroy(){(0,Wl.e)(this.warnIfUnsavedFunction)}handleNewItem(){this.showNewItemDialog=!0}get availableSaveLocations(){return this.saveLocations.filter((e=>this.showSaveLocation(e)))}get availableItemsBySearch(){return this.itemsSlug.filter((e=>e.toLowerCase().includes(this.availableItemsSearch.toLowerCase().replace(/ /g,""))))}get canDeleteElement(){return!!this.value&&this.availableSaveLocations.find((e=>this.value&&this.value.directoryPath&&this.value.directoryPath.startsWith(e.directoryPath)))}discardChanges(){"panel"===this.closeItemOrPanelDialog&&c.uiStore.toggleElementStudio(),this.closeItemOrPanelDialog=!1,this.$emit("discardChanges")}mainAppSaveButtonClicked(){this.hasUnsavedChanges&&confirm(`Also save your Element Studio ${this.itemType}?`)&&this.saveOverwrite(!1)}openItem(e){this.availableItemsSearch="",this.$emit("open",e)}closeItem(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="item":this.$emit("reset")}closePanel(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="panel":c.uiStore.toggleElementStudio()}saveNewItem(e){this.$emit("saveNew",e)}saveAs(e){this.$emit("saveAs",e)}saveOverwrite(e){this.value&&this.value.directoryPath&&this.canSaveOrIsAdvancedUser&&this.$emit("saveOverride",e)}showSaveLocation(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}get showAdvancedFeatures(){return(0,yg.y)()||c.configStore.isElementStudioPowerUser}get canSaveOrIsAdvancedUser(){return this.value&&(!this.value.onlyForAdvancedUsers||this.showAdvancedFeatures)}deleteItem(){this.deleteDialog=!1,this.$emit("delete")}switchMode(){this.$emit("switchMode")}};(0,r.gn)([(0,l.fI)()],um.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],um.prototype,"saveLocations",void 0),(0,r.gn)([(0,l.fI)()],um.prototype,"hasUnsavedChanges",void 0),(0,r.gn)([(0,l.fI)()],um.prototype,"itemType",void 0),(0,r.gn)([(0,l.fI)()],um.prototype,"itemName",void 0),(0,r.gn)([(0,l.fI)()],um.prototype,"saveInProgress",void 0),(0,r.gn)([(0,l.fI)()],um.prototype,"itemsSlug",void 0),um=(0,r.gn)([(0,l.wA)({components:{ElementStudioSaveNewDialog:dm,NiceButton:Cd.Z,Icon:He.Z,Dropdown:Jl.Z}})],um);const pm=um,hm=pm;var gm=(0,N.Z)(hm,tm,nm,!1,null,null,null);const mm=gm.exports;var vm=n(1387),fm=n(46072),ym=n(197),bm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column",staticStyle:{height:"100%"}},[e.showNewMacroDialog?t("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.available.saveLocations,"item-type":"macro"},on:{input:e.saveNewMacro,close:function(t){e.showNewMacroDialog=!1}}}):e._e(),t("Dropdown",{attrs:{value:!!e.contextMenu,absolute:!0,"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,transition:!1},on:{input:function(t){e.contextMenu=!1}},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},[t(Kl.Z,{attrs:{dense:""}},[t(jl.Z,{attrs:{link:!0},nativeOn:{click:function(t){return e.handleCreateMacro.apply(null,arguments)}}},[t(Xl.V9,[e._v("Make into a macro")])],1)],1)],1),t("div",{staticClass:"element-studio-tabs"},[t(_p.Z,{attrs:{value:e.tab},on:{change:e.updateTab}},[t(Sp.Z,{attrs:{href:"#content",title:"Content","data-test-id":"element-studio-content-tab"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#design",title:"Design","data-test-id":"element-studio-design-tab"}},[t("Icon",{attrs:{icon:"PaletteIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#html",title:"HTML","data-test-id":"element-studio-html-tab"}},[t("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#css",title:"CSS","data-test-id":"element-studio-css-tab"}},[t("Icon",{attrs:{icon:"Css3Icon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#defaultCss",title:"Default CSS","data-test-id":"element-studio-default-css-tab"}},[t("Icon",{attrs:{icon:"CssIcon",size:"16"}})],1),e.nestingRuleTypeIsContainer?t(Sp.Z,{attrs:{href:"#default-elements",title:"Default Elements","data-test-id":"element-studio-default-elements"}},[t("Icon",{attrs:{icon:"BoxIcon",size:"16"}})],1):e._e(),t(Sp.Z,{attrs:{href:"#attributes",title:"HTML Attributes","data-test-id":"element-studio-attributes"}},[t("Icon",{attrs:{icon:"AttributesIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#prop-paths",title:"Property Paths","data-test-id":"element-studio-property-paths"}},[t("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#dependencies",title:"Dependencies","data-test-id":"element-studio-dependencies-tab"}},[t("Icon",{attrs:{icon:"DownloadFileIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#actions",title:"Actions","data-test-id":"element-studio-actions-tab"}},[t("Icon",{attrs:{icon:"ActionsIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#settings",title:"Settings","data-test-id":"element-studio-settings-tab"}},[t("Icon",{attrs:{icon:"CogsIcon",size:"16"}})],1)],1)],1),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},["settings"===e.tab?t("div",[t(jl.Z,{attrs:{"two-line":""}},[t(Xl.km,[t(Xl.V9,{staticClass:"font-weight-bold"},[e._v("Slug")]),t(Xl.oZ,[e._v(" "+e._s(e.element.slug))])],1)],1),t("div",{staticClass:"px-4 pt-2"},[t("div",{staticClass:"d-flex align-center"},[t(Sc.Z,{attrs:{label:"Name",value:e.element.name,"data-test-id":"element-studio-name-input",rules:[e.isValidItemName]},on:{input:e.updateElementName}}),e.nameHasChanged?t(Do.Z,{staticClass:"ml-3",attrs:{outlined:"",small:""},on:{click:e.updateSlug}},[e._v(" Update slug ")]):e._e()],1),t(Sc.Z,{staticClass:"mb-4",attrs:{label:"Class Name",placeholder:"the_best_class",value:e.element.className||"","data-test-id":"element-studio-classname-input","persistent-hint":"",hint:"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS",rules:[e.htmlClassNameRule]},on:{input:e.updateClassName}}),t(Dh.Z,{attrs:{items:e.elementCategories,label:"Category",value:e.cleanElement.category},on:{input:function(t){return e.updateElementValue("category",t)}}}),t("div",{staticClass:"breakdance-element-studio-element-badges"},[t(vm.Z,{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.backgroundColor,label:"Badge Background"},on:{input:function(t){return e.updateElementValue("badge.backgroundColor",t)}}}),t(vm.Z,{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.textColor,label:"Badge Text"},on:{input:function(t){return e.updateElementValue("badge.textColor",t)}}}),t(Sc.Z,{attrs:{label:"Badge Label",value:!!e.cleanElement.badge&&e.cleanElement.badge.label},on:{input:function(t){return e.updateElementValue("badge.label",t)}}}),t(Do.Z,{attrs:{outlined:"",small:""},on:{click:function(t){return e.updateElementValue("badge",!1)}}},[e._v("clear badge")])],1),t("h3",[e._v("HTML Tag options")]),t("div",{staticClass:"breakdance-element-studio__html-tags"},[t(vm.Z,{attrs:{label:"Default Tag",value:e.cleanElement.htmlTag.default,hint:"Tag of the root element",clearable:"",items:e.defaultTag},on:{input:function(t){return e.updateElementValue("htmlTag.default",t)}}}),t(vm.Z,{attrs:{label:"Tag Options",value:e.cleanElement.htmlTag.options,items:e.htmlTags,multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.options",t)}}}),t(vm.Z,{attrs:{label:"Get the Tag from a Control's path",value:e.cleanElement.htmlTag.pathToControl||"",items:e.pathsToAllControls,hint:"This will disable the 'Settings -> Html -> Tag' control",clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.pathToControl",t)}}})],1),t("h3",[e._v("UI Icon")]),t("div",{staticClass:"mb-5 d-flex align-center"},[e.showAdvancedFeatures?[t("ToggleInput",{attrs:{value:e.useLocalIcon},on:{input:e.updateUseLocalIcon}}),t("span",{staticClass:"mr-4"},[e._v("Local")])]:e._e(),t("div",{staticClass:"d-flex align-center"},[t("ElementIcon",{staticClass:"mr-2",attrs:{icon:e.cleanElement.uiIcon||"SquareIcon",size:"16"}}),e.useLocalIcon&&e.showAdvancedFeatures?t("ElementStudioIconsAutocomplete",{attrs:{value:e.cleanElement.uiIcon||"SquareIcon"},on:{input:e.updateUiIcon}}):t(Sc.Z,{attrs:{label:"SVG code for icon",value:e.cleanElement.uiIcon,"data-test-id":"element-studio-ui-icon-input"},on:{input:e.updateUiIcon}})],1)],2),t(Sc.Z,{attrs:{label:"UI Order (number)",value:e.cleanElement.order},on:{input:e.updateUiOrder}}),t("h3",[e._v("Nesting rules")]),t(vm.Z,{attrs:{items:e.containerRestrictedElements,label:"Element to be a direct child of",hint:"This element will only be allowed as a direct child of the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADirectChildOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADirectChildOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(vm.Z,{staticClass:"mt-4",attrs:{items:e.elementsThisElementIsAllowedToBeInsideOf,label:"Element to be a descendant of",hint:"This element will only be allowed inside the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADescendantOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADescendantOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(vm.Z,{staticClass:"mt-4",attrs:{items:e.allElementSlugs,label:"Disallow if others are present",hint:"This element will not be allowed on a page if one of the following elements is already present on the page","persistent-hint":"",value:e.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.notAllowedWhenNodeTypeIsPresentInTree",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(fm.Z,{attrs:{label:"Inline Editable",hint:"This element contains a Global Block that can be edited inline. Requires a Global Block Chooser control to be present.","persistent-hint":"","input-value":e.cleanElement.nestingRule.inlineEditable},on:{change:function(t){return e.updateElementValue("nestingRule.inlineEditable",!!t)}}}),t(vm.Z,{staticClass:"mt-4",attrs:{items:e.pathsToAllControls,label:"Inline Editable Block Path",value:e.cleanElement.nestingRule.inlineEditableBlockPath},on:{input:function(t){return e.updateElementValue("nestingRule.inlineEditableBlockPath",t)}}}),t("h3",[e._v("Misc options")]),t(Dh.Z,{attrs:{items:e.elementType,label:"Element Type",value:e.cleanElement.nestingRule.type,hint:"Only change to create complex elements","persistent-hint":""},on:{input:function(t){return e.updateElementValue("nestingRule.type",t)}}}),t(ym.Z,{staticClass:"mt-3",attrs:{label:"Required plugins",items:e.requiredPluginItems,"hide-details":"",value:e.cleanElement.settings?e.cleanElement.settings.requiredPlugins:[],multiple:!0},on:{input:function(t){return e.updateElementValue("settings.requiredPlugins",t&&t.length?t:void 0)}}}),t(fm.Z,{attrs:{label:"Is Pro Only","input-value":e.cleanElement.settings&&e.cleanElement.settings.proOnly,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.proOnly",!!t)}}}),t(fm.Z,{attrs:{label:"Element depends on global scripts to work","input-value":e.cleanElement.settings&&e.cleanElement.settings.dependsOnGlobalScripts,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.dependsOnGlobalScripts",!!t)}}}),t(fm.Z,{attrs:{label:"Experimental Element?","input-value":e.cleanElement.experimental,"hide-details":""},on:{change:function(t){return e.updateElementValue("experimental",!!t)}}}),t(fm.Z,{attrs:{label:"Bypass Pointer Events",hint:"Use this if clicking on the element doesn't active it, but instead clicks something inside of it","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.bypassPointerEvents},on:{change:function(t){return e.updateElementValue("settings.bypassPointerEvents",!!t)}}}),t(fm.Z,{attrs:{label:"Disable AI",hint:"Use this if you want to disable the AI for this element","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.disableAI},on:{change:function(t){return e.updateElementValue("settings.disableAI",!!t)}}}),t(fm.Z,{attrs:{label:"Share props with SSR children",hint:"Use this if you need to access the properties data from this element in a child SSR element.","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.sharePropsWithSSRChildren},on:{change:function(t){return e.updateElementValue("settings.shareStateWithChildSSR",!!t)}}}),t(fm.Z,{attrs:{label:"Disable Wrapper HTML Tag (frontend-only)",hint:"Note: This breaks JavaScript functionality that relies on the tag being present (Ex: %%SELECTOR%%)","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.disableWrapperHtmlTag},on:{change:function(t){return e.updateElementValue("settings.disableRootHtmlTag",!!t)}}}),t(fm.Z,{attrs:{label:"Builder Only",hint:"Use this if the element should only be visible in the builder","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.builderOnly},on:{change:function(t){return e.updateElementValue("settings.builderOnly",!!t)}}}),t("div",{staticClass:"pt-4"},[t("h3",[e._v("Add panel rules")]),t(fm.Z,{attrs:{label:"Always hide element from the Add Panel","input-value":e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide,"hide-details":""},on:{change:function(t){return e.updateElementValue("addPanelRules.alwaysHide",!!t)}}}),e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide?e._e():[t(ym.Z,{attrs:{label:"Allowed post type",items:["breakdance_template"],"hide-details":"",value:e.cleanElement.addPanelRules?e.cleanElement.addPanelRules.allowedPostTypes:[],multiple:!0},on:{input:function(t){return e.updateElementValue("addPanelRules.allowedPostTypes",t&&t.length?t:void 0)}}})]],2),t("ElementStudioDefaultProperties",{staticClass:"my-8",attrs:{elementSlug:e.cleanElement.slug,value:e.cleanElement.defaultProperties},on:{input:function(t){return e.updateElementValue("defaultProperties",t)}}}),e.showAdvancedFeatures?[t("h3",[e._v("Available In")]),t("div",{staticClass:"breakdance-element-studio__available-in"},[t(vm.Z,{attrs:{label:"Available In",value:e.cleanElement.availableIn,items:["breakdance","oxygen"],multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("availableIn",t)}}})],1)]:e._e()],2)],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"design"===e.tab,expression:"tab === 'design'"}]},[t("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"design"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"content"===e.tab,expression:"tab === 'content'"}]},[t("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"content"}})],1),"html"===e.tab?t("div",[t("CodeInput",{attrs:{value:e.cleanElement.template,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"twig/html"},on:{input:function(t){return e.updateElementValue("template",t||"")}}})],1):e._e(),"css"===e.tab?t("div",[t("CodeInput",{attrs:{value:e.cleanElement.cssTemplate,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"twig/css"},on:{input:function(t){return e.updateElementValue("cssTemplate",t||"")}}})],1):e._e(),"defaultCss"===e.tab?t("div",[t("div",{staticClass:"px-4 py-2"},[e._v(" Element's class: "),t("span",{staticClass:"font-weight-bold mr-2"},[e._v(e._s(e.elementClass))]),t("CopyButton",{attrs:{"value-to-copy":e.elementClassToCopy}})],1),t("CodeInput",{attrs:{value:e.cleanElement.defaultCss,language:"css"},on:{input:function(t){return e.updateElementValue("defaultCss",t||"")}}})],1):e._e(),e.nestingRuleTypeIsContainer?t("div",{directives:[{name:"show",rawName:"v-show",value:"default-elements"===e.tab,expression:"tab === 'default-elements'"}],staticClass:"studio-default-elements-panel"},[t("ElementStudioDefaultElements",{attrs:{value:e.cleanElement.defaultChildren,"parent-element-slug":e.cleanElement.slug},on:{input:function(t){return e.updateElementValue("defaultChildren",t||"")}}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"attributes"===e.tab,expression:"tab === 'attributes'"}],staticClass:"studio-dependencies-panel"},[e._v(" Attributes are added to the container of the element "),t("ElementStudioAttributes",{attrs:{value:e.cleanElement.attributes},on:{input:function(t){return e.updateElementValue("attributes",t)}}}),t("br"),e._v(" Classes are added to the container of the element "),t("ElementStudioAdditionalClasses",{attrs:{value:e.cleanElement.additionalClasses||[]},on:{input:function(t){return e.updateElementValue("additionalClasses",t)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.tab,expression:"tab === 'prop-paths'"}]},[t("ElementStudioManagePropertyPaths",{attrs:{value:e.cleanElement}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"dependencies"===e.tab,expression:"tab === 'dependencies'"}],staticClass:"studio-dependencies-panel"},[t("ElementStudioDependencies",{attrs:{value:e.cleanElement.dependencies}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"actions"===e.tab,expression:"tab === 'actions'"}]},[t("ElementStudioAction",{attrs:{"action-key":"onPropertyChange",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after one of this element's property changes (a value in a control) ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("control's path")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("design.background.color")]),e._v(": action will only run for that path. "),t("code",[e._v("design.background.*")]),e._v(": action will run for any control below 'background' ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onMovedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element is moved in the canvas ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("element's and moved-on element's type ")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("EssentialElements\\Text")]),e._v(": action will only run if element being moved is of that type, "),t("b",[e._v("OR")]),e._v(" if the element was moved onto an element with that type. ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onAfterDeletedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs AFTER this element was deleted "),t("br")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("deleted element's parent type")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("EssentialElements\\Section")]),e._v(": action will only run if the deleted element was inside a Section element. ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onBeforeDeletingElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs BEFORE this element is deleted ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onMountedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element renders in the canvas ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onCreatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after adding this element to the canvas for the first time ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onActivatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after the element is activated (selected) ")]},proxy:!0}])})],1)])],1)},Sm=[],_m=n(63842),xm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("draggable",{attrs:{value:e.value[this.sectionName]},on:{input:e.handleDrag}},e._l(e.value[this.sectionName],(function(n,s){return t("ControlSectionOrControl",{key:n.slug,attrs:{value:n,index:s,path:`${e.sectionName}[${s}]`,parentPath:e.sectionName,twigParentPath:e.section}})})),1),t("div",{staticClass:"text-center py-4"},[t(Do.Z,{attrs:{tile:"",text:"","data-test-id":"element-studio-add-control-section"},on:{click:e.addSection}},[e._v(" Add Control Section ")]),t(Do.Z,{attrs:{tile:"",text:""},on:{click:e.addPreset}},[e._v(" Add Preset ")]),e.canPaste?t(Do.Z,{attrs:{tile:"",text:""},on:{click:e.handlePaste}},[e._v(" Paste ")]):e._e()],1)],1)},Cm=[],wm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.showNewPresetDialog?t("ElementStudioSaveNewDialog",{attrs:{"item-type":"preset","save-locations":e.elementStudioData.saveLocations},on:{input:e.saveNewPreset,close:function(t){e.showNewPresetDialog=!1}}}):e._e(),t("div",{class:e.classList},[t("Accordion",{attrs:{expanded:e.accordionState[e.index],disableToggle:e.isPresetSection},on:{toggle:function(t){return e.toggleAccordion(e.index)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"d-flex flex-row justify-space-between align-center",attrs:{"data-test-id":"element-studio-control-accordion"}},["section"!==e.value.options.type||e.isPresetSection?t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Do.Z,e._g(e._b({staticClass:"mr-2",attrs:{color:"black",small:"",icon:"",title:"Open Twig Code Helper"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"BracketsIcon"}})],1)]}}],null,!1,1714806599),model:{value:e.codeHelpOpen,callback:function(t){e.codeHelpOpen=t},expression:"codeHelpOpen"}},[t(bc.Z,{staticClass:"element-studio-poppy-card",staticStyle:{width:"400px",height:"300px"}},[t("TwigCodeHelper",{key:e.keyToRerenderCodeHelp,attrs:{control:e.value,twigParentPath:e.twigParentPath,inRepeater:e.isParentARepeater},on:{close:function(t){e.codeHelpOpen=!1}}})],1)],1):e._e(),t("input",{staticClass:"element-studio-control-label-input",attrs:{placeholder:"Label"},domProps:{value:e.value.label},on:{click:function(e){e.stopPropagation()},focusout:e.updateLabelAndSlugOnFocusOut}}),e.isPresetSection?t(vm.Z,{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.presetSectionSlug,items:e.availablePresetSections,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updatePresetSectionSlug}}):e._e(),"section"!==e.value.options.type?t(vm.Z,{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.value.options.type,items:e.controlTypes,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updateControlType}}):e._e(),e.isSection?e._e():t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Do.Z,e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[t(bc.Z,{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make this control's value available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.autofocusSupported?t(Ca.Z,{attrs:{label:"Autofocus",value:e.value.options.autofocus},on:{change:function(t){return e.updateOptions(t,"autofocus")}}}):e._e(),e.hasSsr?t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when this control's value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),"alert_box"===e.value.options.type||"pro_only_alert_box"===e.value.options.type?[t("ElementStudioAlertBoxOptions",{attrs:{value:e.value.options.alertBoxOptions},on:{input:function(t){return e.updateOptions(t,"alertBoxOptions")}}})]:e._e(),"date_picker"===e.value.options.type?[t("h3",{staticClass:"mb-3"},[e._v("Date picker options")]),t("DropdownInput",{attrs:{value:e.value.options.datePickerOptions?Object.keys(e.value.options.datePickerOptions)[0]:"",items:e.datePickerOptions,clearable:""},on:{input:function(t){return e.updateOptions({[t]:t},"datePickerOptions")}}})]:e._e(),"multiselect"===e.value.options.type||"dropdown"===e.value.options.type||"button_bar"===e.value.options.type?[t("ElementStudioDropdownOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.dropdownOptions},on:{input:function(t){return e.updateOptions(t,"dropdownOptions")},updateDropdownItems:e.updateDropdownItems,updateDropdownItem:e.updateDropdownItem}})]:e._e(),"button_bar"===e.value.options.type?[t(Ca.Z,{attrs:{label:"Big Button Bar",value:e.value.options.buttonBarOptions&&"big"===e.value.options.buttonBarOptions.size&&"default"===e.value.options.buttonBarOptions.layout,"hide-details":""},on:{change:e.updateButtonBarOptionsSize}}),t(Ca.Z,{attrs:{label:"Multiline Bar",value:e.value.options.buttonBarOptions&&"multiline"===e.value.options.buttonBarOptions.layout&&"small"===e.value.options.buttonBarOptions.size,"hide-details":""},on:{change:e.updateButtonBarOptionsLayout}})]:e._e(),"trigger_action_button"===e.value.options.type?[t("h3",{staticClass:"mb-3"},[e._v("Trigger action button options")]),t("TextInput",{staticClass:"mr-3 d-inline-block",attrs:{label:"Button Text",value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.text},on:{input:function(t){return e.updateOptions({...e.value.options.triggerActionsButtonOptions,text:t||""},"triggerActionsButtonOptions")}}}),t("ElementStudioIconsAutocomplete",{staticClass:"d-inline-block",attrs:{value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.icon},on:{input:function(t){return e.updateOptions({...e.value.options.triggerActionsButtonOptions,icon:t},"triggerActionsButtonOptions")}}})]:e._e(),e.isRepeater?[t("ElementStudioRepeaterOptions",{attrs:{control:e.value,value:e.value.options.repeaterOptions},on:{input:function(t){return e.updateOptions(t,"repeaterOptions")}}})]:e._e(),"unit"===e.value.options.type?[t("ElementStudioUnitOptions",{attrs:{value:e.value.options.unitOptions},on:{input:function(t){return e.updateOptions(t,"unitOptions")}}})]:e._e(),"wpmedia"===e.value.options.type?[t("ElementStudioMediaOptions",{attrs:{value:e.value.options.mediaOptions},on:{input:function(t){return e.updateOptions(t,"mediaOptions")}}})]:e._e(),"video"===e.value.options.type?[t("ElementStudioVideoOptions",{attrs:{value:e.value.options.videoOptions},on:{input:function(t){return e.updateOptions(t,"videoOptions")}}})]:e._e(),"unit"===e.value.options.type||"number"===e.value.options.type||"slider"===e.value.options.type?[t("ElementStudioRangeOptions",{attrs:{value:e.value.options.rangeOptions},on:{input:function(t){return e.updateOptions(t,"rangeOptions")}}})]:e._e(),"shadow"===e.value.options.type?[e._v(" Shadow Type "),t(Dh.Z,{staticClass:"pt-3",attrs:{dense:"",items:e.shadowTypes,value:e.value.options.shadowOptions&&e.value.options.shadowOptions.type||"box"},on:{input:e.updateShadowType}})]:e._e(),"breakpoint_dropdown"===e.value.options.type?[t("ElementStudioBreakpointOptions",{attrs:{value:e.value.options.breakpointOptions},on:{input:function(t){return e.updateOptions(t,"breakpointOptions")}}})]:e._e(),"text"===e.value.options.type?[t("h3",{staticClass:"mb-2"},[e._v("Text")]),t(Ca.Z,{attrs:{label:"Multiline",value:e.value.options.textOptions&&e.value.options.textOptions.multiline,"hide-details":""},on:{change:e.updateTextOptionsMultiline}}),t("h3",{staticClass:"mb-2"},[e._v("Text Format")]),t("DropdownInput",{attrs:{value:e.value.options.textOptions&&e.value.options.textOptions.format,items:[{text:"HTML",value:"html"},{text:"Plain Text",value:"plain"}]},on:{input:e.updateTextOptionsFormat}})]:e._e(),"focus_point"===e.value.options.type?[t("ElementStudioFocusPointOptions",{attrs:{value:e.value.options.focusPointOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"focusPointOptions")}}})]:e._e(),"media_size_dropdown"===e.value.options.type?[t("ElementStudioMediaSizeOptions",{attrs:{value:e.value.options.mediaSizeOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"mediaSizeOptions")}}})]:e._e(),"post_chooser"===e.value.options.type?[t("ElementStudioPostChooserOptions",{attrs:{value:e.value.options.postChooserOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"postChooserOptions")}}})]:e._e(),"icon"===e.value.options.type?[t("ElementStudioIconOptions",{attrs:{value:e.value.options.iconOptions},on:{input:function(t){return e.updateOptions(t,"iconOptions")}}})]:e._e(),"color"===e.value.options.type?[t("h3",{staticClass:"mb-2"},[e._v("Color Type")]),t("DropdownInput",{attrs:{value:e.value.options.colorOptions&&e.value.options.colorOptions.type||"solidOnly",items:[{text:"Solid Only",value:"solidOnly"},{text:"Solid and Gradient",value:"solidAndGradient"},{text:"Gradient Only",value:"gradientOnly"}]},on:{input:e.updateColorType}})]:e._e(),e.isSection?e._e():[t("h3",[e._v("Dynamic Property")]),t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable dynamic property","input-value":!!e.value?.dynamic,"hide-details":""},on:{change:e.updateDynamic}}),e.value?.dynamic?[t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make dynamic data Pro only","input-value":e.value.dynamic.proOnly,"hide-details":""},on:{change:function(t){return e.updateDynamic(!0,e.value?.dynamic?.accepts,t)}}}),t("h4",{staticClass:"mb-1"},[e._v("Dynamic Property Type")]),t("DropdownInput",{attrs:{items:e.dynamicPathAcceptsItems,value:e.value?.dynamic?.accepts},on:{input:function(t){return e.updateDynamic(!0,t,e.value?.dynamic?.proOnly)}}})]:e._e()],"add_registered_children"===e.value.options.type?[t("h3",[e._v("Registered Children options: add extra elements")]),e.availableDescendantElements.length?t("div",{staticClass:"d-flex align-center"},[t(vm.Z,{staticClass:"element-studio-control-type-dropdown mr-4 mt-2",attrs:{items:e.availableDescendantElements,value:e.value.options.addRegisteredChildrenOptions&&e.value.options.addRegisteredChildrenOptions.addExtraElementsBySlug,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown",multiple:""},on:{input:e.updateAddExtraElementsBySlug}}),t("IconButton",{attrs:{icon:"TrashIcon"},on:{click:function(t){return e.updateAddExtraElementsBySlug([])}}})],1):t("div",[e._v(" No available extra elements. ")])]:e._e(),"code"===e.value.options.type?[t("h3",[e._v("Code input options")]),t("DropdownInput",{staticClass:"pt-3",attrs:{items:e.codeTypes,value:e.value.options.codeOptions&&e.value.options.codeOptions.language},on:{input:e.updateCodeType}})]:e._e(),"text"===e.value.options.type||"richtext"===e.value.options.type?[t("ElementStudioVariableOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.variableOptions},on:{input:function(t){return e.updateOptions(t,"variableOptions")},updateVariableItems:e.updateVariableItems,updateVariableItem:e.updateVariableItem}})]:e._e(),t("h3",[e._v("Misc Options")]),e.isInContentTab?[t(fm.Z,{attrs:{label:"See content editable code","hide-details":""},model:{value:e.showContentEditableCode,callback:function(t){e.showContentEditableCode=t},expression:"showContentEditableCode"}}),e.showContentEditableCode?[t("Copyable",{staticClass:"element-studio-inline-helper-code",attrs:{shouldCopy:!1}},[e._v(" "+e._s(e.contentEditableHelperCode)+" ")])]:e._e()]:e._e(),t("div",[e.isInContentTab?e._e():[t("div",{staticClass:"d-flex flex-row"},[t(fm.Z,{attrs:{disabled:e.canHaveMediaQueries,label:"Enable Media Queries","input-value":e.value.enableMediaQueries,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableMediaQueries")}}})],1)],t("div",{staticClass:"d-flex flex-row"},[t(fm.Z,{attrs:{label:"Enable Hover","input-value":e.value.enableHover,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableHover")}}})],1),t("div",{staticClass:"d-flex flex-row"},[t(fm.Z,{attrs:{label:"Enable Variables","input-value":e.value.enableVariables,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableVariables")}}})],1),t("h3",[e._v("Layout")]),t("DropdownInput",{staticClass:"pt-3",attrs:{items:e.controlLayouts,value:e.value.options.layout},on:{input:e.updateControlLayout}}),"text"===e.value.options.type||"dropdown"===e.value.options.type||"multiselect"===e.value.options.type?[t("h3",[e._v("Placeholder")]),t("TextInput",{attrs:{value:e.value.options.placeholder},on:{input:e.updatePlaceholder}})]:e._e(),t("h3",[e._v("Keywords")]),t("TextInput",{attrs:{value:e.keywordsValue},on:{input:e.updateKeywords}}),t("h3",[e._v("Slug")]),t("input",{staticClass:"breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base",attrs:{placeholder:"Slug"},domProps:{value:e.value.slug},on:{click:function(e){e.stopPropagation()},focusout:e.updateSlugOnFocusOut}}),t("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),t("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}})],2)],2)],1),e.isSection?t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(Do.Z,e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[t(bc.Z,{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[e.isPresetSection?e._e():t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make all control values in this section available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.hasSsr?t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when any child control value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),t("h3",[e._v("Section Layout")]),t(Dh.Z,{staticClass:"pt-3",attrs:{dense:"",items:e.sectionLayouts,value:e.value.options.sectionOptions&&e.value.options.sectionOptions.type},on:{input:e.updateSectionLayoutType}}),t("h3",[e._v("Slug")]),t("input",{staticClass:"breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base",attrs:{placeholder:"Slug"},domProps:{value:e.value.slug},on:{click:function(e){e.stopPropagation()},focusout:e.updateSlugOnFocusOut}}),t("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),t("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}}),e.spacingBarPresetSlug?[t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable spacing bars","input-value":e.isSpacingBarEnabled(),"hide-details":""},on:{change:e.updateSpacingBar}})]:e._e()],2)],1):e._e(),t(Nl.Z),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t(Do.Z,e._g({staticClass:"mr-1",attrs:{color:"black",icon:"",small:""}},n),[t("Icon",{attrs:{icon:"EllipsisIcon",size:"18"}})],1)]}}])},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:e.copy}},[t(Xl.V9,[e._v("Copy")])],1),e.canPaste?t(jl.Z,{attrs:{dense:""},on:{click:e.handlePaste}},[t(Xl.V9,[e._v("Paste As Child")])],1):e._e(),e.canReplace?t(jl.Z,{attrs:{dense:""},on:{click:e.handleReplace}},[t(Xl.V9,[e._v("Replace")])],1):e._e(),e.isSection?t(jl.Z,{attrs:{dense:""},on:{click:e.handleMakePreset}},[t(Xl.V9,[e._v("Make into a Preset")])],1):e._e()],1)],1),t(Do.Z,{staticClass:"mr-3",attrs:{color:"black",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteControl.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("draggable",{attrs:{value:e.value.children},on:{input:e.handleDrag}},e._l(e.value.children,(function(n,s){return t("ControlSectionOrControl",{key:n.slug,attrs:{value:n,path:`${e.path}.children[${s}]`,index:s,parentPath:e.path,twigParentPath:`${e.twigParentPath}${e.isParentARepeater?`[${s}]`:""}.${e.value.slug}`,parentControl:e.value}})})),1),e.controlAcceptsChildren?t(Do.Z,{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-control"},on:{click:e.addControl}},[e._v(" Add Control ")]):e._e(),e.controlAcceptsChildren?t(Do.Z,{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-preset"},on:{click:e.addPreset}},[e._v(" Add Preset ")]):e._e()]},proxy:!0}])})],1)],1)},Pm=[],Im=n(89754),km=n(34680),Em=n.n(km),Tm=n(16888),Dm=n(19508),Am=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex"},[t(Sc.Z,e._b({staticClass:"breakdance-dense-input",attrs:{value:e.value,rules:e.rules,clearable:e.clearable,solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)","data-test-id":e.testId},on:{input:e.edit,blur:function(t){return e.$emit("blur",t)}}},"v-text-field",e.inputOptions,!1))],1)},Zm=[];let Mm=class extends s.ZP{get isNumber(){return"number"===this.inputOptions?.type}edit(e){this.isNumber&&e?this.$emit("input",parseFloat(e)):this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Mm.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Mm.prototype,"inputOptions",void 0),(0,r.gn)([(0,l.fI)()],Mm.prototype,"rules",void 0),(0,r.gn)([(0,l.fI)()],Mm.prototype,"testId",void 0),(0,r.gn)([(0,l.fI)({default:!0})],Mm.prototype,"clearable",void 0),Mm=(0,r.gn)([l.wA],Mm);const Om=Mm,Bm=Om;var Lm=(0,N.Z)(Bm,Am,Zm,!1,null,null,null);const Nm=Lm.exports;var Rm=n(69790),Fm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-studio-twig-code-helper"},[e.codeForControl?t("Copyable",{on:{onCopy:e.close}},[e._v(e._s(e.codeForControl))]):[e._v("No code help available for "),t("code",[e._v(e._s(e.control.options.type))]),e._v(" control type")]],2)},Vm=[],$m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-studio-copyable"},[t("textarea",{ref:"input",attrs:{readonly:""},domProps:{value:e.textToCopy}}),e.shouldCopy?t(Do.Z,{attrs:{small:""},on:{click:e.copy}},[e._v("Copy")]):e._e()],1)},Wm=[];let Um=class extends s.ZP{mounted(){this.shouldCopy&&(0,A.forceNextTick)((()=>{this.$refs.input.select(),document.execCommand("copy")}))}get textToCopy(){return this.$slots?.default[0]?.text||""}copy(){this.$refs.input.select(),document.execCommand("copy"),this.$emit("onCopy")}};(0,r.gn)([(0,l.fI)({default:!0})],Um.prototype,"shouldCopy",void 0),Um=(0,r.gn)([(0,l.wA)({})],Um);const zm=Um,Hm=zm;var Gm=(0,N.Z)(Hm,$m,Wm,!1,null,null,null);const qm=Gm.exports,Km=({twigPath:e})=>"{{ "+e+" }}",jm=({twigPath:e})=>`{% if ${e} %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}`,Xm=({control:e,twigPath:t})=>e.options.items?e.options.items.map(((e,n)=>{const s=n?"elseif":"if";return`{% ${s} ${t} == '${e.value}' %}\n  CSS or HTML here\n`})).join("")+"\n{% endif %}":"no items yo",Ym=({control:e,twigPath:t})=>e.options.items?e.options.items.map(((e,n)=>{const s=n?"elseif":"if";return`{% ${s} '${e.value}' in ${t} %}\n  CSS or HTML here\n`})).join("")+"\n{% endif %}":"no items yo",Qm=({control:e,twigPath:t})=>{const n="text"===e?.options?.shadowOptions?.type,s=n?"text-shadow":"box-shadow";return`${s}: {{ ${t}.style }};`},Jm=({twigPath:e})=>`\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class="some-class-to-wrap-the-icon-svg">\n{{ ${e}.svgCode }}\n</div>\n`,ev=({twigPath:e})=>`\n    {% for item in ${e} %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    `,tv=({twigPath:e})=>`\n  /* could be used for transforms */\n  transform-origin: {{ ${e}.x }}% {{ ${e}.y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ${e}.x }}% {{ ${e}.y }}%;\n  `,nv=["layout_basic_flex","layout","borders","background","css","size","grid",...Ge.spacingBarsPresetSlug],sv=({control:e,twigPath:t})=>{const n=e.options.sectionOptions?.preset?.slug?.replace("EssentialElements\\","");return n?nv.includes(n)?`{{ macros.${n}(${t}) }}`:"effects"===n?`\n    {{ macros.effects(${t}, '%%SELECTOR%%') }}\n    {{ macros.effectsHover(${t}, '%%SELECTOR%%:hover') }}\n    `:"effects_no_hover"===n?`{{ macros.effects(${t}, '%%SELECTOR%%') }}`:"filter"===n?`{{ macros.filters(${t}) }}`:"typography"===n||"typography_with_nothing"===n||"typography_with_align"===n||"typography_with_effects"===n||"typography_with_effects_and_align"===n?`{{ macros.typography(${t}, globalSettings) }}`:"simpleLayout"===n?`{{ macros.simpleLayout(${t}, breakpoint) }}`:"fancy_background"===n?`\n      {{ macros.fancyBackgroundHtml(${t}) }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ${t}, breakpoint) }}\n    `:"typography_with_hoverable_color"===n||"typography_with_align_with_hoverable_color"===n||"typography_with_effects_with_hoverable_color_and_effects"===n||"typography_with_effects_and_align_with_hoverable_color_and_effects"===n?`\n    %%SELECTOR%% {\n      {{ macros.typography(${t}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(${t}) }}\n    }\n    `:"typography_with_hoverable_everything"===n||"typography_with_align_with_hoverable_everything"===n||"typography_with_effects_with_hoverable_everything"===n||"typography_with_effects_and_align_with_hoverable_everything"===n?`\n    %%SELECTOR%% {\n      {{ macros.typography(${t}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(${t}) }}\n    }\n    `:"AtomV1ButtonContent"===n?`\n    \x3c!-- In order to set default styles for your buttons, use the following macros: --\x3e\n    \x3c!-- You can overwrite these settings using design options  --\x3e\n\n    \x3c!-- Button (Primary) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, '${t}.text') }}\n\n    \x3c!-- Button (Secondary) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '${t}.text') }}\n\n    \x3c!-- Button (Custom) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '${t}.text') }}\n\n    \x3c!-- Button (Text) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'text', '${t}.text') }}\n\n    \x3c!-- Form Button (Submit) --\x3e\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '${t}.text') }}\n\n    \x3c!-- SSR Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    \x3c!-- SSR Form Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n`:"AtomV1ButtonDesign"===n?`\n      {{ macros.atomV1ButtonCss(${t}, 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    `:"AtomV1CustomButtonDesign"===n?`\n\n      {{ macros.atomV1ButtonButton(${t}, '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    `:"AtomV1IconDesignWithHover"===n?`\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${t}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${t}, 'my-icon-class', '%%SELECTOR%%', true) }}`:"AtomV1IconDesign"===n?`\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${t}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${t}, 'my-icon-class', '%%SELECTOR%%') }}`:"AtomV1FormDesign"===n?`{{ macros.atomV1FormCss(${t}, '%%SELECTOR%%') }}`:"tabs_design"===n?`{{ macros.atomV1TabsCss('%%SELECTOR%%', ${t}, breakpoint, globalSettings) }}`:"WooGlobalStylerOverride"===n?`{{ macros.wooGlobalStyler(${t}, '%%SELECTOR%%', breakpoint, globalSettings) }}`:"pagination"===n?`{{ macros.pagination(${t}, '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}`:"wooPresetInputsDesign"===n||"wooPresetInputsDesignNoSelect2"===n?`\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(${t}) }}\n    }`:"wooProductsListElements"===n?`\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ${t}) }}\n    `:"wooProductsListLayout"===n?`\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ${t}) }}\n    `:"wooProductWrapperDesign"===n?`\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ${t}) }}\n    `:["lightbox_design","lightbox_single_design"].includes(n)?`{{ macros.atomV1LightboxCss(${t}) }}`:"AtomV1SwiperSettings"===n?`\nHTML:\n\n<div class="breakdance-swiper-wrapper" data-swiper-id="%%ID%%">\n  <div class="swiper">\n    <div class="swiper-wrapper">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss(${t}, '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n`:"borders_without_shadows"===n?`\n    {{ macros.borders_without_shadows(${t}) }}\n    `:`no code help for preset section type of ${n}`:"undefined preset type"},iv={trigger_action_button:void 0,border_complex:({twigPath:e})=>`{{ macros.border_complex(${e}) }}`,border_radius:({twigPath:e})=>`{{ macros.border_radius(${e}) }}`,breakpoint_dropdown:({twigPath:e})=>`\n    {% if breakpoint == ${e} %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    `,button_bar:Xm,dropdown:Xm,code:Km,color:({control:e,twigPath:t})=>"solidAndGradient"===e.options.colorOptions?.type?`\n        /* Background Color */\n        {{ macros.backgroundColor(${t}) }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(${t}) }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(${t}) }}\n      `:`background-color: {{ ${t} }}`,gradient:({twigPath:e})=>`background-image: {{ ${e}.style }}`,shadow:Qm,icon:Jm,number:Km,repeater:ev,inline_repeater:ev,richtext:Km,toggle:jm,spacing_complex:({twigPath:e})=>`{{ macros.spacing_complex(${e}, 'margin') }}`,text:Km,url:Km,unit:({twigPath:e})=>`font-size: {{ ${e}.style }};`,wpmedia:({control:e,twigPath:t})=>e.options?.mediaOptions?.multiple?`\n      {% for item in ${t} %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      `:`\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(${t}, content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(${t}, content.content.size, alt, lazyLoad) }}\n    `,video:({twigPath:e})=>`\n      {{ macros.video(${e}) }}\n    `,focus_point:tv,section:sv,multiselect:Ym,condition:void 0,font_family:void 0,class:void 0,global_colors:void 0,override_variables:void 0,global_block_chooser:void 0,component_chooser:void 0,typography:void 0,custom_typography:void 0,typography_preset:void 0,message:void 0,post_chooser:void 0,element_screenshot:void 0,slider:void 0,add_registered_children:void 0,builder_behavior:void 0,alert_box:void 0,pro_only_alert_box:void 0,date_picker:({twigPath:e})=>`{{ ${e} }}`,time_picker:({twigPath:e})=>`{{ ${e} }}`,api_key_input:void 0,link:({twigPath:e})=>`\n     {{ macros.linkStart(${e}) }}\n         Link Text\n     {{ macros.linkEnd() }}\n    `,media_size_dropdown:({twigPath:e})=>`{{ ${e} }}`,wp_query:()=>"Use this control in your SSR.php file. For example:\n    \\Breakdance\\WpQueryControl\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);",conditional_form_field:void 0,interactions:void 0},ov=(e,t)=>{let n="";if(Array.isArray(e))n=e.reduce(((e,t)=>{const n=t.reduce(((e,{path:t,value:n})=>e?`${e} and ${t} == "${n}"`:`${t} == "${n}"`),"");return e?`${e} or (${n})`:`(${n})`}),"");else{const{path:t,value:s}=e;n=`${t} == "${s}"`}return`\n      {% if ${n} %}\n      ${t}\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      `};var av=n(70802);let rv=class extends s.ZP{get twigPath(){return this.inRepeater?`item.${this.control.slug}`:`${this.twigParentPath}.${this.control.slug}`}get codeForControl(){const e=iv[this.control.options.type],t=this.control.options.sectionOptions?.preset?.codeHelp?.replace("%%TWIG_PATH%%",this.twigPath);let n=t||e&&e({control:this.control,twigPath:this.twigPath});if(!n)return!1;if(this.control.options.condition&&(n=ov(this.control.options.condition,n)),this.control.enableHover){const e=n.replace(new RegExp(this.twigPath,"g"),(0,av.sg)(this.twigPath));n+="\n\n.some-selector:hover {\n"+e+"\n}\n"}return n}close(){this.$emit("close")}};(0,r.gn)([(0,l.fI)()],rv.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],rv.prototype,"twigParentPath",void 0),(0,r.gn)([(0,l.fI)()],rv.prototype,"inRepeater",void 0),rv=(0,r.gn)([(0,l.wA)({components:{Copyable:qm}})],rv);const lv=rv,cv=lv;var dv=(0,N.Z)(cv,Fm,Vm,!1,null,null,null);const uv=dv.exports;var pv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h3",[e._v(e._s(e.label))]),t("Repeater",{attrs:{value:this.internalValue,control:{options:{repeaterOptions:{defaultNewValue:[e.getBlankCondition()],titleTemplate:"OR",buttonName:"Add new OR condition",forceDontProcessDefaultNewValueWhenAddingItemsHack:!0}}}},on:{input:e.emit},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t("Repeater",{attrs:{value:e.internalValue[n],control:{options:{repeaterOptions:{defaultNewValue:e.getBlankCondition(),forceDontProcessDefaultNewValueWhenAddingItemsHack:!0,titleTemplate:`(AND) ${e.title} for '{path}'`,buttonName:`Add new (AND) ${e.title}`}}}},on:{input:function(t){return e.updateOrCondition(t,n)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:i}){return[t("div",{staticClass:"element-studio-condition-input"},[i?t("div",{staticClass:"element-studio-condition-input-row"},[i.external?t("span",[e._v(" External conditions can't be edited ")]):e._e(),t(ym.Z,{attrs:{label:"Path",items:e.paths,value:i.path,disabled:i.external},on:{input:function(t){return e.updatePath(t,n,s)}}}),t(Dh.Z,{attrs:{label:"Operand","no-data-text":"No data. Select a path first",value:i.operand,items:e.getOperands(i),disabled:i.external},on:{input:function(t){return e.updateOperand(t,n,s)}}}),"is set"!==i.operand&&"is not set"!==i.operand?["is one of"!==i.operand&&"is none of"!==i.operand?[t(ym.Z,{attrs:{label:"Value",items:e.getPossibleValues(i),value:i.value,disabled:i.external},on:{input:function(t){return e.updateValue(t,n,s)}}})]:[t(ym.Z,{attrs:{multiple:"",label:"Values",items:e.getPossibleValues(i),value:e.hasMultipleValues(i),disabled:i.external},on:{input:function(t){return e.updateValue(t,n,s)}}})]]:e._e()],2):e._e()])]}}],null,!0)})]}}])})],1)},hv=[];let gv=class extends s.ZP{mounted(){this.value&&!Array.isArray(this.value)&&this.emit([[this.value]])}getBlankCondition(){return{path:"",operand:"equals",value:""}}getOperands(e){const t=e.path;if(!t)return[];const n=this.getControl(t);let s=["equals","not equals","is one of","is none of","is set","is not set","contains","does not contain"];return"multiselect"===n?.options.type&&(s=["includes"]),"toggle"===n?.options.type&&(s=["is set","is not set"]),s.map((e=>({text:e,value:e})))}hasMultipleValues(e){return Array.isArray(e.value)?e.value:[]}get internalValue(){return this.value?Array.isArray(this.value)?this.value:[[this.value]]:[]}get paths(){const e=this.context.getPathsToAllControls().filter((e=>!e.includes("settings.animations")));return this.pathStartsWith?e.filter((e=>e.startsWith(this.pathStartsWith))).map((e=>e.replace(this.pathStartsWith,""))):e}getPossibleValues(e){const t=e.path;if(!t)return[];const n=this.getControl(t);if(!n)return[];const s=n.options.items?.map((e=>String(e.value)));return s||[]}getControl(e){return(0,je.AP)(this.context.element(),e)}updatePath(e,t,n){const s=(0,Gc.Z)(this.internalValue);s[t][n].path=e,this.emit(s)}updateOperand(e,t,n){const s=(0,Gc.Z)(this.internalValue);s[t][n].operand=e,this.emit(s)}updateValue(e,t,n){const s=(0,Gc.Z)(this.internalValue);s[t][n].value=e,this.emit(s)}updateOrCondition(e,t){const n=(0,Gc.Z)(this.internalValue);n[t]=e,this.emit(n)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],gv.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:"Condition"})],gv.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({default:"Only Show Control When Condition Is Met"})],gv.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],gv.prototype,"pathStartsWith",void 0),(0,r.gn)([(0,l.tB)("context")],gv.prototype,"context",void 0),gv=(0,r.gn)([(0,l.wA)({components:{Repeater:Dm.Z}})],gv);const mv=gv,vv=mv;var fv=(0,N.Z)(vv,pv,hv,!1,null,null,null);const yv=fv.exports;var bv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-unit-options"},[t("h2",{staticClass:"mb-2"},[e._v("Unit Options")]),t("h3",[e._v("Allowed types")]),t(vm.Z,{attrs:{label:"Types",value:e.value&&e.value.types,items:e.availableTypes,multiple:!0,"hide-details":""},on:{input:e.updateTypes}}),t("h3",{staticClass:"mb-1"},[e._v("Default Type")]),t("DropdownInput",{attrs:{label:"Default Type",items:e.value&&e.value.types||[],value:e.value&&e.value.defaultType},on:{input:e.updateDefaultType}}),t(fm.Z,{attrs:{label:"Disable Custom Unit Dropdown",value:e.value?.disableCustomUnitDropdown},on:{change:e.updateDisableCustomUnitDropdown}})],1)},Sv=[];let _v=class extends s.ZP{constructor(){super(...arguments),this.control={options:{repeaterOptions:{titleTemplate:"Type",buttonName:"Add type"}}}}get internalValue(){return this.value||{}}get availableTypes(){return bg.qc}updateTypes(e){const t=(0,Gc.Z)(this.internalValue);this.emit({...t,types:e})}updateDefaultType(e){const t=(0,Gc.Z)(this.internalValue);this.emit({...t,defaultType:e})}updateDisableCustomUnitDropdown(e){const t=(0,Gc.Z)(this.internalValue);this.emit({...t,disableCustomUnitDropdown:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],_v.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],_v.prototype,"context",void 0),_v=(0,r.gn)([(0,l.wA)({components:{Repeater:Dm.Z,DropdownInput:zc.Z}})],_v);const xv=_v,Cv=xv;var wv=(0,N.Z)(Cv,bv,Sv,!1,null,null,null);const Pv=wv.exports;var Iv=n(62231),kv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-range-options"},[t("h3",{staticClass:"mb-2"},[e._v("Range Options")]),t("div",{staticClass:"d-flex align-end"},[t("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Step (fixed to 2 decimals) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.step},on:{input:function(t){return e.updateStep(t.target.value)}}})]),t("div",{staticClass:"flex-grow-1 mx-1 flex-column"},[e._v(" Min (Integer) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.min},on:{input:function(t){return e.updateMin(t.target.value)}}})]),t("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Max (Integer) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.max},on:{input:function(t){return e.updateMax(t.target.value)}}})])])])},Ev=[];let Tv=class extends s.ZP{get internalValue(){return this.value||{min:void 0,max:void 0,step:void 0}}get inputClass(){return"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base"}updateStep(e){this.emit({...this.internalValue,step:e?(0,me.v)(e):void 0})}updateMin(e){this.emit({...this.internalValue,min:e?parseInt(e):void 0})}updateMax(e){this.emit({...this.internalValue,max:e?parseInt(e):void 0})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Tv.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Tv.prototype,"context",void 0),Tv=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z}})],Tv);const Dv=Tv,Av=Dv;var Zv=(0,N.Z)(Av,kv,Ev,!1,null,null,null);const Mv=Zv.exports;var Ov=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-repeater-options"},[t("h3",{staticClass:"mb-2"},[e._v("Repeater Options")]),t("div",[e._v(" Title Template "),t("TextInput",{attrs:{value:e.internalValue.titleTemplate},on:{input:function(t){return e.update(t,"titleTemplate")}}}),e.controlSlugs.length?t("div",{staticClass:"element-studio-repeater-options-variables"},[e._v(" Available variables: "),e._l(e.controlSlugs,(function(n){return t("span",{staticClass:"element-studio-repeater-options-variable",on:{click:function(t){return e.appendVariableToTitle(n)}}},[t("span",[e._v("{")]),e._v(e._s(n)),t("span",[e._v("}")])])}))],2):e._e()],1),t("div",{staticClass:"my-2"},[e._v(" Default Title "),t("TextInput",{attrs:{value:e.internalValue.defaultTitle},on:{input:function(t){return e.update(t,"defaultTitle")}}}),e._v(" Used as a fallback when the title template is blank. ")],1),t("div",[e._v(" Button Name "),t("TextInput",{attrs:{value:e.internalValue.buttonName},on:{input:function(t){return e.update(t,"buttonName")}}}),e._v(' Defaults to "Add Item". ')],1),t("div",[t(fm.Z,{staticClass:"mb-3",attrs:{label:"Enable gallery mode","hide-details":"","input-value":e.internalValue.galleryMode},on:{change:e.updateGalleryMode}}),e.internalValue.galleryMode?[t("h3",{staticClass:"mb-3"},[e._v("Gallery Media Path")]),t("DropdownInput",{attrs:{value:e.internalValue.galleryMediaPath,items:e.mediaControlSlugs},on:{input:function(t){return e.update(t,"galleryMediaPath")}}})]:e._e()],2)])},Bv=[];const Lv={titleTemplate:"",defaultTitle:"",buttonName:""};let Nv=class extends s.ZP{get internalValue(){return this.value||Lv}get controlSlugs(){return this.control.children.map((e=>e.slug))}get mediaControlSlugs(){return this.control.children.filter((e=>"wpmedia"===e.options.type)).map((e=>e.slug))}appendVariableToTitle(e){const t=this.internalValue.titleTemplate,n=t.includes(`{${e}}`);if(n)return;const s=`${t} {${e}}`.trim();this.update(s,"titleTemplate")}update(e,t){this.emit({...this.internalValue,[t]:e??""})}updateGalleryMode(e){this.emit({...this.internalValue,galleryMode:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Nv.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Nv.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],Nv.prototype,"control",void 0),Nv=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,TextInput:Oo.Z}})],Nv);const Rv=Nv,Fv=Rv;var Vv=(0,N.Z)(Fv,Ov,Bv,!1,null,null,null);const $v=Vv.exports;var Wv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-dropdown-options"},[t("h2",{staticClass:"mb-2"},[e._v("Dropdown options")]),"dropdown"===e.control.options.type?[this.element.htmlTag.options.length>0?t("NiceButton",{on:{click:e.populateWithHtmlTagOptions}},[e._v("Populate with HTML Tag Options")]):e._e(),t(fm.Z,{attrs:{"input-value":!!e.internalValue.populate,label:"Populate dropdown dynamically","hide-details":""},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?[t(Uu.Z,{staticClass:"my-3"}),t("h3",{staticClass:"mb-2"},[e._v("Populate from a Repeater's Input")]),e.internalValue.populate.fetchDataAction?t("div",[e._v(" Populating from server data. To use items instead, clear those fields below. ")]):e.repeaterPaths.length?t("div",[t(ym.Z,{attrs:{label:"Path",items:e.repeaterPaths,value:e.internalValue.populate.path,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),t(ym.Z,{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),t(ym.Z,{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1):t("div",[t("h4",[e._v("No repeaters presenta")])]),t(Uu.Z,{staticClass:"my-3"}),t("h3",{staticClass:"mb-2"},[e._v("Populate from server data")]),t(Sc.Z,{attrs:{label:"Fetch data action route name",value:e.internalValue.populate.fetchDataAction,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchDataAction",t)}}}),t(ym.Z,{attrs:{label:"Fetch context path",items:e.controlPaths,value:e.internalValue.populate.fetchContextPath,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchContextPath",t)}}}),t("h3",[e._v("Refetch data if a control's value changes (specify path)")]),t("Repeater",{attrs:{value:e.internalValue.populate.refetchPaths},on:{input:e.updateRefetchPaths},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t(ym.Z,{staticClass:"mb-2",attrs:{items:e.controlPaths,value:e.internalValue.populate.refetchPaths[n],"hide-details":""},on:{input:function(t){return e.updateRefetchPath(n,t)}}})]}}],null,!1,3001308231)}),t(Uu.Z,{staticClass:"my-3"}),t("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the dropdown only if a condition is met","path-starts-with":`${e.internalValue.populate.path}.`,value:e.internalValue.populate.condition},on:{input:e.updateCondition}})]:e._e()]:e._e(),e.internalValue.populate?e._e():[t("h3",{staticClass:"mb-2"},[e._v("Dropdown items")]),t("Repeater",{attrs:{path:e.path,value:e.dropdownItems,control:e.control},on:{input:e.updateDropdownItems},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[e._v(" Label "),t("TextInput",{staticClass:"mb-2",attrs:{value:e.dropdownItems[n].text,testId:"element-studio-control-dropdown-label-input"},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],text:t||""},n)}}}),e._v(" Value "),t("TextInput",{attrs:{value:e.dropdownItems[n].value,testId:"element-studio-control-dropdown-value-input"},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],value:t||""},n)}}}),"button_bar"===e.control.options.type?t("div",{staticClass:"breakdance-dropdown-input d-flex mt-2"},[e.dropdownItems[n].icon?t("div",{staticClass:"mr-2 d-flex align-center"},[t("Icon",{attrs:{icon:e.dropdownItems[n].icon,size:"18"}})],1):e._e(),t("ElementStudioIconsAutocomplete",{attrs:{value:e.dropdownItems[n].icon},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],icon:t},n)}}})],1):e._e()]}}],null,!1,280151685)})]],2)},Uv=[],zv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(vm.Z,{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{label:"Icon",dense:"",solo:"",flat:"",filled:"","hide-details":"",clearable:"",placeholder:"CloseIcon",items:e.iconNames,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Hv=[],Gv=n(41294);let qv=class extends s.ZP{get iconNames(){return Gv.iconNames}};(0,r.gn)([(0,l.fI)()],qv.prototype,"value",void 0),qv=(0,r.gn)([(0,l.wA)({})],qv);const Kv=qv,jv=Kv;var Xv=(0,N.Z)(jv,zv,Hv,!1,null,null,null);const Yv=Xv.exports,Qv={path:"",text:"",value:"",condition:void 0,fetchDataAction:"",fetchContextPath:"",refetchPaths:[]};let Jv=class extends s.ZP{get internalValue(){return this.value||{}}get repeaterPaths(){return this.context.getPathsToAllControls(["repeater"])}get controlPaths(){return this.context.getPathsToAllControls()}get possibleValues(){const e=this.internalValue?.populate?.path;if(!e)return[];const t=this.getControl(e);if(!t)return[];const n=t.children.map((e=>e.slug));return n||[]}getControl(e){return(0,je.AP)(this.element,e)}get populate(){return this.internalValue.populate||Qv}get dropdownItems(){return this.control.options.items||[{value:"value",text:"Label"}]}get element(){return this.context.element()}updateDropdownItems(e){this.$emit("updateDropdownItems",e)}updateDropdownItem(e,t){this.$emit("updateDropdownItem",{newItem:e,index:t})}updateEnablePopulate(e){e?this.emit({populate:Qv}):this.emit(void 0)}updateCondition(e){const t=(0,Gc.Z)(this.populate);Array.isArray(e)&&!e.length?delete t.condition:t.condition=e,this.emit({populate:t})}updatePopulateValue(e,t){const n=(0,Gc.Z)(this.populate);n[e]=t,this.emit({populate:n})}updateRefetchPaths(e){const t=(0,Gc.Z)(this.populate);t.refetchPaths=e.map((e=>"string"===typeof e?e:"")),this.emit({populate:t})}updateRefetchPath(e,t){const n=(0,Gc.Z)(this.populate);n.refetchPaths&&(n.refetchPaths[e]=t,this.emit({populate:n}))}populateWithHtmlTagOptions(){if(!this.element.htmlTag.options)return;const e=this.element.htmlTag.options.map((e=>({text:e,value:e})));this.updateDropdownItems(e)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Jv.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Jv.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],Jv.prototype,"path",void 0),(0,r.gn)([(0,l.tB)("context")],Jv.prototype,"context",void 0),Jv=(0,r.gn)([(0,l.wA)({components:{NiceButton:Cd.Z,ElementStudioIconsAutocomplete:Yv,Icon:He.Z,DropdownInput:zc.Z,Dropdown:Jl.Z,ElementStudioConditionInput:yv,Repeater:Dm.Z,TextInput:Oo.Z}})],Jv);const ef=Jv,tf=ef;var nf=(0,N.Z)(tf,Wv,Uv,!1,null,null,null);const sf=nf.exports;var of=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-dropdown-options"},[t("h2",{staticClass:"mb-2"},[e._v("Breakpoint options")]),e._v(" Support Multiple "),t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Support Multiple","input-value":e.value&&!!e.value.multiple,"hide-details":""},on:{change:e.updateMultiple}}),e._v(" Enable Never "),t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable Never","input-value":e.value&&!!e.value.enableNever,"hide-details":""},on:{change:e.updateEnableNever}})],1)},af=[];let rf=class extends s.ZP{updateMultiple(e){const t={...this.value,multiple:e};this.emit(t)}updateEnableNever(e){const t={...this.value,enableNever:e};this.emit(t)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],rf.prototype,"value",void 0),rf=(0,r.gn)([(0,l.wA)({components:{}})],rf);const lf=rf,cf=lf;var df=(0,N.Z)(cf,of,af,!1,null,null,null);const uf=df.exports;var pf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-variable-options"},[t("h3",[e._v("Variables")]),t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable variables","input-value":e.internalValue.enabled,"hide-details":""},on:{change:e.toggleEnabled}}),e.internalValue.enabled?[t("Repeater",{attrs:{path:e.path,value:e.variables,control:e.control},on:{input:e.updateVariableItems},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[e._v(" Label "),t("TextInput",{staticClass:"mb-2",attrs:{value:e.variables[n].label,testId:"element-studio-control-variable-label-input"},on:{input:function(t){return e.updateVariableItem({...e.variables[n],label:t},n)}}}),e._v(" Value "),t("TextInput",{attrs:{value:e.variables[n].value,testId:"element-studio-control-variable-value-input"},on:{input:function(t){return e.updateVariableItem({...e.variables[n],value:t},n)}}})]}}],null,!1,98037988)}),t(fm.Z,{attrs:{"input-value":!!e.internalValue.populate,label:"Populate variables based on a Repeater Input"},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?t("div",[t("div",[t(ym.Z,{attrs:{label:"Path",items:e.paths,value:e.internalValue.populate.path},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),t(ym.Z,{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),t(ym.Z,{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1),t("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the variable only if a condition is met","path-starts-with":`${e.internalValue.populate.path}.`,value:e.internalValue.populate.condition},on:{input:e.updateCondition}}),t(Uu.Z)],1):e._e()]:e._e()],2)},hf=[];const gf={path:"",text:"",value:"",condition:void 0};let mf=class extends s.ZP{constructor(){super(...arguments),this.enabled=!1}get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["repeater"])}get possibleValues(){const e=this.internalValue?.populate?.path;if(!e)return[];const t=this.getControl(e);if(!t)return[];const n=t.children.map((e=>e.slug));return n||[]}getControl(e){return(0,je.AP)(this.element,e)}get populate(){return this.internalValue.populate||gf}get variables(){return this.control.options.variableItems||[{value:"value",text:"Label"}]}get element(){return this.context.element()}updateVariableItems(e){this.$emit("updateVariableItems",e)}updateVariableItem(e,t){this.$emit("updateVariableItem",{newItem:e,index:t})}updateEnablePopulate(e){e?this.emit({populate:gf}):this.emit({populate:void 0})}updateCondition(e){const t=(0,Gc.Z)(this.populate);Array.isArray(e)&&!e.length?delete t.condition:t.condition=e,this.emit({populate:t})}updatePopulateValue(e,t){const n=(0,Gc.Z)(this.populate);n[e]=t,this.emit({populate:n})}toggleEnabled(e){this.emit({enabled:e})}emit(e){this.$emit("input",{...this.internalValue,...e})}};(0,r.gn)([(0,l.fI)()],mf.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],mf.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],mf.prototype,"path",void 0),(0,r.gn)([(0,l.tB)("context")],mf.prototype,"context",void 0),mf=(0,r.gn)([(0,l.wA)({components:{NiceButton:Cd.Z,ElementStudioIconsAutocomplete:Yv,Icon:He.Z,ElementStudioConditionInput:yv,Repeater:Dm.Z,TextInput:Oo.Z}})],mf);const vf=mf,ff=vf;var yf=(0,N.Z)(ff,pf,hf,!1,null,null,null);const bf=yf.exports;var Sf=n(43195),_f=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options"},[t("div",{staticClass:"mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("WP Media Options")]),t(fm.Z,{attrs:{label:"Enable gallery mode","input-value":e.internalValue.multiple,"hide-details":""},on:{change:e.updateMultiple}})],1),t(fm.Z,{attrs:{label:"Allow only certain file types","input-value":e.fileTypesEnabled,"hide-details":""},on:{change:e.updateEnableFileTypes}}),e.fileTypesEnabled?t(vm.Z,{staticClass:"mt-2",attrs:{label:"Accepted File Types",value:e.internalValue.acceptedFileTypes,items:e.types,multiple:!0,hint:"All file types are allowed by default."},on:{input:e.updateType}}):e._e()],1)},xf=[],Cf=n(665);const wf={acceptedFileTypes:void 0,multiple:!1};let Pf=class extends s.ZP{get fileTypesEnabled(){return Array.isArray(this.internalValue.acceptedFileTypes)}get types(){return Cf.n_.types.map((e=>e.value))}get internalValue(){return this.value||wf}updateType(e){this.emit({...this.internalValue,acceptedFileTypes:e})}updateMultiple(e){this.emit({...this.internalValue,multiple:e})}updateEnableFileTypes(e){e?this.updateType([]):this.updateType(void 0)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Pf.prototype,"value",void 0),Pf=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,Repeater:Dm.Z}})],Pf);const If=Pf,kf=If;var Ef=(0,N.Z)(kf,_f,xf,!1,null,null,null);const Tf=Ef.exports;var Df=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-size-options"},[t("div",{staticClass:"mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Media Size Options")]),t(ym.Z,{attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,hint:"Will only show an image's available sizes. Use [] when inside a repeater.","persistent-hint":"",clearable:""},on:{input:e.updatePath}}),e.internalValue.imagePropertyPath?t(fm.Z,{staticClass:"mb-3 mt-2",attrs:{"input-value":e.internalValue.disableSrcset,label:"Don't add srcset attribute to the Image object","persistent-hint":"","hide-details":""},on:{change:e.toggleSrcset}}):e._e()],1)])},Af=[];let Zf=class extends s.ZP{get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["wpmedia"])}updatePath(e){this.emit({...this.internalValue,imagePropertyPath:e||""})}toggleSrcset(e){this.emit({...this.internalValue,disableSrcset:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.tB)("context")],Zf.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],Zf.prototype,"value",void 0),Zf=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,Repeater:Dm.Z}})],Zf);const Mf=Zf,Of=Mf;var Bf=(0,N.Z)(Of,Df,Af,!1,null,null,null);const Lf=Bf.exports;var Nf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-icon-options"},[t("div",{staticClass:"mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Icon Options")]),t(ym.Z,{attrs:{clearable:"",multiple:"",value:e.internalValue.suggestions,label:"Suggestions"},on:{input:e.updateSuggestions}})],1)])},Rf=[];let Ff=class extends s.ZP{get internalValue(){return this.value||{}}updateSuggestions(e){this.emit({...this.internalValue,suggestions:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Ff.prototype,"value",void 0),Ff=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,Repeater:Dm.Z}})],Ff);const Vf=Ff,$f=Vf;var Wf=(0,N.Z)($f,Nf,Rf,!1,null,null,null);const Uf=Wf.exports;function zf(e,t){function n(e,n,s,i){let o="";return o="control"===i?`${t}.${n}_${s}.%%BREAKPOINT%%`:"complex"===i?`${t}.${n}.%%BREAKPOINT%%.${s}`:`${t}.${n}.${s}`,{location:`${e}-${s}`,cssProperty:`${n}-${s}`,affectedPropertyPath:o}}const s=[n("outside","margin","top","complex"),n("outside","margin","bottom","complex"),n("outside","margin","right","complex"),n("outside","margin","left","complex")],i=[n("inside","padding","top","complex"),n("inside","padding","bottom","complex"),n("inside","padding","right","complex"),n("inside","padding","left","complex")],o=[n("outside","margin","top","control"),n("outside","margin","bottom","control")],a=[n("outside","margin","right","control"),n("outside","margin","left","control")],r=[n("inside","padding","top","control"),n("inside","padding","bottom","control")],l=[n("inside","padding","right","control"),n("inside","padding","left","control")],c=[n("outside","margin","top","not_responsive"),n("outside","margin","bottom","not_responsive"),n("outside","margin","right","not_responsive"),n("outside","margin","left","not_responsive"),n("inside","padding","top","not_responsive"),n("inside","padding","bottom","not_responsive"),n("inside","padding","right","not_responsive"),n("inside","padding","left","not_responsive")];switch(e){case"spacing_all":return[...s,...i];case"spacing_all_y":return[...o,...r];case"spacing_all_x":return[...a,...l];case"spacing_margin_all":return s;case"spacing_margin_y":return o;case"spacing_margin_x":return a;case"spacing_padding_all":return i;case"spacing_padding_y":return r;case"spacing_padding_x":return l;case"spacing_all_not_responsive":return c}}var Hf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-post-chooser-options"},[t("div",{staticClass:"mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Post Chooser Options")]),t("div",{staticClass:"mt-2"},[t("h4",{staticClass:"mb-1"},[e._v("Post Type")]),t("TextInput",{attrs:{value:e.internalValue.postType},on:{input:function(t){return e.update("postType",t)}}})],1),t(fm.Z,{attrs:{label:"Multiple","input-value":e.internalValue.multiple,"hide-details":""},on:{change:function(t){return e.update("multiple",t)}}}),t(fm.Z,{attrs:{label:"Show Thumbnails","input-value":e.internalValue.showThumbnails,"hide-details":""},on:{change:function(t){return e.update("showThumbnails",t)}}})],1)])},Gf=[];const qf={multiple:!1,showThumbnails:!1,postType:"post"};let Kf=class extends s.ZP{get internalValue(){return this.value||qf}updateMultiple(e){this.emit({...this.internalValue,multiple:e})}update(e,t){this.emit({...this.internalValue,[e]:t??""})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Kf.prototype,"value",void 0),Kf=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,DropdownInput:zc.Z,Repeater:Dm.Z}})],Kf);const jf=Kf,Xf=jf;var Yf=(0,N.Z)(Xf,Hf,Gf,!1,null,null,null);const Qf=Yf.exports;var Jf=n(54966),ey=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Video Options")]),t(vm.Z,{attrs:{label:"Providers",value:e.internalValue.providers,items:e.types,multiple:!0,hint:"All providers are allowed by default."},on:{input:e.updateProviders}})],1)},ty=[];const ny={providers:[]};let sy=class extends s.ZP{get types(){return Im.Ru.types.map((e=>e.value))}get internalValue(){return this.value||ny}updateProviders(e){this.emit({...this.internalValue,providers:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],sy.prototype,"value",void 0),sy=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,Repeater:Dm.Z}})],sy);const iy=sy,oy=iy;var ay=(0,N.Z)(oy,ey,ty,!1,null,null,null);const ry=ay.exports;var ly=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Alert Box Options")]),t("DropdownInput",{staticClass:"mb-4",attrs:{placeholder:"Style",items:e.styles,value:e.internalValue.style},on:{input:e.updateStyle}}),t("TipTapWrapper",{attrs:{value:e.internalValue.content},on:{input:e.updateContent}})],1)},cy=[],dy=n(46026);const uy={style:"default",content:""};let py=class extends s.ZP{get internalValue(){return this.value||uy}get styles(){return Im.wu.types.map((e=>e.value))}updateStyle(e){this.emit({...this.internalValue,style:e})}updateContent(e){this.emit({...this.internalValue,content:e??""})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],py.prototype,"value",void 0),py=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,TipTapWrapper:dy.Z}})],py);const hy=py,gy=hy;var my=(0,N.Z)(gy,ly,cy,!1,null,null,null);const vy=my.exports;var fy=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-focus-point-options mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Focus Point Options")]),t(fm.Z,{staticClass:"mb-3",attrs:{label:"Enable Grid Mode","hide-details":"","input-value":e.internalValue.gridMode},on:{change:e.updateGridMode}}),t(vm.Z,{staticClass:"mb-2",attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,"persistent-hint":"",hint:"Shows an image as background of this input",clearable:"",disabled:e.internalValue.gridMode},on:{input:e.updatePath}}),e.internalValue.gridMode?t("AlertBox",{attrs:{options:{type:"info",content:"Not available when grid mode is enabled."}}}):e._e()],1)},yy=[];let by=class extends s.ZP{get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["wpmedia"])}updatePath(e){this.emit({...this.internalValue,imagePropertyPath:e||""})}updateGridMode(e){this.emit({...this.internalValue,gridMode:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.tB)("context")],by.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],by.prototype,"value",void 0),by=(0,r.gn)([(0,l.wA)({components:{AlertBox:ag.Z,DropdownInput:zc.Z,Repeater:Dm.Z}})],by);const Sy=by,_y=Sy;var xy=(0,N.Z)(_y,fy,yy,!1,null,null,null);const Cy=xy.exports;var wy=n(78143),Py=n(31304),Iy=n.n(Py);async function ky(e,t,n,s){return await(0,Ec.D)({action:"breakdance_save_preset",dataToPost:{directoryPath:t,filename:n,preset:(0,wy.Tb)((0,wy.HE)(s),e.section,(0,om.$_)(s))},decoder:kd._4})}function Ey(e,t){return`${e}\\${Iy()(t)}`}var Ty=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-hide-control-input"},[t(fm.Z,{attrs:{"input-value":!!e.value,label:"Hide Control From Specific Elements","hide-details":""},on:{change:e.toggleControl}}),e.value?t(ym.Z,{attrs:{label:"Elements",items:e.items,value:e.value,multiple:""},on:{input:e.updateValue}}):e._e()],1)},Dy=[];let Ay=class extends s.ZP{get items(){return Object.keys(Q.PK.elements)}toggleControl(e){e?this.$emit("input",[]):this.$emit("remove")}updateValue(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Ay.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Ay.prototype,"context",void 0),Ay=(0,r.gn)([(0,l.wA)({})],Ay);const Zy=Ay,My=Zy;var Oy=(0,N.Z)(My,Ty,Dy,!1,null,null,null);const By=Oy.exports;let Ly=class extends s.ZP{constructor(){super(...arguments),this.codeHelpOpen=!1,this.showContentEditableCode=!1,this.showNewPresetDialog=!1,this.accordionState=[!1]}get canHaveMediaQueries(){return!!this.parentControl?.enableMediaQueries}get parentType(){return this.parentControl?.options.type}get keyToRerenderCodeHelp(){const e=(0,vg.g)(this.value);return(0,Iv.X)(`${e}`)}get isPresetSection(){return!!this.presetSectionSlug}get presetSectionSlug(){return this.value.options.sectionOptions?.preset?.slug}get isSection(){return"section"===this.value.options.type}get isRepeater(){return(0,je.W5)(this.value.options.type)}get isParentARepeater(){return(0,je.W5)(this.parentType)}get controlAcceptsChildren(){return(0,je.v4)(this.value.options.type)}get isInContentTab(){return this.path.startsWith("contentSections")}get spacingBarPresetSlug(){if(this.isSection)return Ge.spacingBarsPresetSlug.find((e=>e===this.value.options?.sectionOptions?.preset?.slug))}get classList(){return{"element-studio-control-or-control-section":!0,"element-studio-control-section":!0,"element-studio-control":!this.controlAcceptsChildren}}get twigPathWithoutRepeaterIndex(){return(0,Sf.rg)(`${this.twigParentPath}${this.isParentARepeater?"[]":""}.${this.value.slug}`)}get dynamicPathAcceptsItems(){return(0,Sf.cS)()}get contentEditableHelperCode(){return`// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ${this.twigPathForContentEditable}\n    `}get twigPathForContentEditable(){return this.isRepeater||this.isParentARepeater?`{{ dataContentEditablePropertyPath('${this.twigParentPath}['~ loop.index0 ~ '].your_control') }}`:`{{ dataContentEditablePropertyPath('${this.twigPathWithoutRepeaterIndex}') }}`}get datePickerOptions(){return Object.keys(Im.Fl.props)}get elementStudioData(){return this.context.getElementStudioData()}async saveNewPreset(e){if(!this.isSection)return;const t=Iy()(e.name),n=Ey(e.namespace,t);if(this.elementStudioData.presets.find((e=>e.slug===n)))return void(0,om.O6)(this.elementStudioData.saveLocations,e,"preset");const s=this.value;s.options.sectionOptions={...s.options.sectionOptions,preset:{slug:n}},(0,Id.zG)(await ky({slug:n,section:s},e.directoryPath,t,n),(0,Ed.g_)((e=>{console.error(e),Ac.Z.log.message("Failed to save element, check console")}),(()=>{const t=(0,Gc.Z)(this.elementStudioData);t.presets.push({slug:n,directoryPath:e.directoryPath}),t.presetSections.push({slug:n,section:s}),this.context.updateElementStudioData(t),this.context.updateControl(this.parentPath,this.index,s)})))}toggleAccordion(e){s.ZP.set(this.accordionState,e,!this.accordionState[e])}handleDrag(e){this.context.replaceControls(`${this.path}.children`,e)}get canPaste(){return this.controlAcceptsChildren&&!this.isPresetSection&&c.uiStore.elementStudioClipboard.copiedControl}get canReplace(){if(!c.uiStore.elementStudioClipboard.copiedControl)return!1;const e=c.uiStore.elementStudioClipboard.copiedControl;return!this.isSection||"section"===e.options.type}handlePaste(){if(!this.controlAcceptsChildren)return;if(!c.uiStore.elementStudioClipboard.copiedControl)return;const e=c.uiStore.elementStudioClipboard.copiedControl;e&&this.context.pasteControl(`${this.path}.children`,e)}handleReplace(){if(!c.uiStore.elementStudioClipboard.copiedControl)return;const e=c.uiStore.elementStudioClipboard.copiedControl;e&&this.context.updateControl(this.parentPath,this.index,e)}handleMakePreset(){this.showNewPresetDialog=!0}get controlTypes(){const e=e=>e.charAt(0).toUpperCase()+e.slice(1),t=[];return Im.F4.sort().filter(this.removeDisallowedControlTypes).map((t=>({text:e(t),value:t}))).map((e=>this.isInContentTab&&t.includes(e.value)?{...e,disabled:!0}:e))}copy(){const e=(0,Gc.Z)(this.value);c.uiStore.copyElementStudioControl(e)}get availablePresetSections(){return this.context.getPresetSections().map((e=>({text:e.slug,value:e.slug})))}updatePresetSectionSlug(e){const t=(0,Gc.Z)(this.context.getPresetSection(e));void 0!==t&&(t.section.options.sectionOptions={...t.section.options.sectionOptions,type:"popout"},this.context.updateControl(this.parentPath,this.index,t.section),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(t.section.options.sectionOptions,t.section.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(t.section.options.sectionOptions,t.section.slug))}turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e,t){if(!e||!e.preset?.relativePropertyPathsToWhitelistInFlatProps)return;const n=t||(0,wy.HE)(t);let s=(0,Gc.Z)(this.context.element().propertyPathsToWhitelistInFlatProps);const i=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((e=>`${this.twigParentPath}.${n}.${e}`)),o=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((e=>`${this.twigParentPath}.${this.value.slug}.${e}`));s?(s=s.filter((e=>!i.includes(e)&&!o.includes(e))),s=[...s,...i]):s=i,(0,A.forceNextTick)((()=>this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",s)))}turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e,t){if(!e||!e.preset?.relativeDynamicPropertyPaths)return;const n=t||(0,wy.HE)(t);let s=(0,Gc.Z)(this.context.element().dynamicPropertyPaths);const i=e.preset.relativeDynamicPropertyPaths.map((e=>({...e,path:`${this.twigParentPath}.${n}.${e.path}`}))),o=e.preset.relativeDynamicPropertyPaths.map((e=>({...e,path:`${this.twigParentPath}.${this.value.slug}.${e.path}`})));s?(s=s.filter((e=>!i.some((t=>t.path===e.path))&&!o.some((t=>t.path===e.path)))),s=[...s,...i]):s=i,(0,A.forceNextTick)((()=>this.context.updateElementValue("dynamicPropertyPaths",s)))}removeDisallowedControlTypes(e){const t=["class","font_family","global_colors","message"];return!t.includes(e)}addControl(){this.context.addControl(this.path)}deleteControl(){this.context.deleteControl(this.parentPath,this.index)}updateControlType(e){const t=(0,Gc.Z)(this.value);if(t.options.type=e,!this.isInContentTab){const n=["code","repeater","inline_repeater","spacing_complex","border_complex","gradient","icon","richtext","shadow","wpmedia","text","focus_point","url"];n.includes(e)?t.options.layout="vertical":t.options.layout="inline"}this.context.updateControl(this.parentPath,this.index,t)}updateVariableItems(e){const t=(0,Gc.Z)(this.value);t.options.variableItems=e,this.context.updateControl(this.parentPath,this.index,t)}updateVariableItem({newItem:e,index:t}){const n=(0,Gc.Z)(this.value);n.options.variableItems||(n.options.variableItems=[]),n.options.variableItems[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateDropdownItems(e){const t=(0,Gc.Z)(this.value);t.options.items=e,this.context.updateControl(this.parentPath,this.index,t)}updateDropdownItem({newItem:e,index:t}){const n=(0,Gc.Z)(this.value);n.options.items||(n.options.items=[]),n.options.items[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateOptions(e,t){const n=(0,Gc.Z)(this.value),s=`options.${t}`;Uc()(n,s,e),this.context.updateControl(this.parentPath,this.index,n)}get availableDescendantElements(){return Object.values(c.configStore.elements).filter((e=>!!e&&(!e.nestingRule.restrictedToBeADirectChildOf&&(0,Re.V4)(e.nestingRule,this.context.element().nestingRule,this.context.element().slug)))).map((e=>e?.slug))}updateAddExtraElementsBySlug(e){const t=(0,Gc.Z)(this.value);t.options.addRegisteredChildrenOptions={...t.options.addRegisteredChildrenOptions,addExtraElementsBySlug:e},this.context.updateControl(this.parentPath,this.index,t)}get autofocusSupported(){switch(this.value.options.type){case"text":return!0;case"video":return!0;default:return!1}}get codeTypes(){return["css","html","javascript","x-php"]}updateCodeType(e){const t=(0,Gc.Z)(this.value);t.options.codeOptions={...t.options.codeOptions,language:e},this.context.updateControl(this.parentPath,this.index,t)}get shadowTypes(){return Im.bB.props.type.types.map((e=>e.value))}updateShadowType(e){const t=(0,Gc.Z)(this.value);t.options.shadowOptions={...t.options.shadowOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateTextOptionsMultiline(e){const t=(0,Gc.Z)(this.value);t.options.textOptions={...t.options.textOptions,multiline:e},this.context.updateControl(this.parentPath,this.index,t)}updateTextOptionsFormat(e){const t=(0,Gc.Z)(this.value);t.options.textOptions={...t.options.textOptions,format:e},this.context.updateControl(this.parentPath,this.index,t)}updateButtonBarOptionsSize(e){const t=(0,Gc.Z)(this.value);t.options.buttonBarOptions={...t.options.buttonBarOptions,size:e?"big":"small",layout:"default"},this.context.updateControl(this.parentPath,this.index,t)}updateButtonBarOptionsLayout(e){const t=(0,Gc.Z)(this.value);t.options.buttonBarOptions={...t.options.buttonBarOptions,layout:e?"multiline":"default",size:"small"},this.context.updateControl(this.parentPath,this.index,t)}addPreset(){this.context.addPreset(this.path)}get controlLayouts(){return["inline","vertical"]}updateControlLayout(e){const t=(0,Gc.Z)(this.value);t.options.layout=e,this.context.updateControl(this.parentPath,this.index,t)}updateKeywords(e){const t=(0,Gc.Z)(this.value);t.keywords=null===e?void 0:e.split(","),this.context.updateControl(this.parentPath,this.index,t)}get keywordsValue(){return this.value.keywords?this.value.keywords.join(","):""}updatePlaceholder(e){const t=(0,Gc.Z)(this.value);t.options.placeholder=e??void 0,this.context.updateControl(this.parentPath,this.index,t)}updateColorType(e){const t=(0,Gc.Z)(this.value);t.options.colorOptions={...t.options.colorOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateConditions(e){const t=(0,Gc.Z)(this.value);Array.isArray(e)&&!e.length?delete t.options.condition:t.options.condition=e,this.context.updateControl(this.parentPath,this.index,t)}updateHideForElements(e){const t=(0,Gc.Z)(this.value);t.options.hideForElements=e,this.context.updateControl(this.parentPath,this.index,t)}deleteHideForElements(){const e=(0,Gc.Z)(this.value);delete e.options.hideForElements,this.context.updateControl(this.parentPath,this.index,e)}get sectionLayouts(){return Im.Pk}updateSectionLayoutType(e="accordion"){const t=(0,Gc.Z)(this.value);t.options.sectionOptions={...t.options.sectionOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateLabelAndSlugOnFocusOut(e){const t=e.target.value,n=(0,Gc.Z)(this.value);n.label=t,n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug=`slug_cant_start_with_number_${n.slug}`),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}updateSlugOnFocusOut(e){const t=e.target.value?e.target.value:"",n=(0,Gc.Z)(this.value);n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug=`slug_cant_start_with_number_${n.slug}`),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}updateControlBoolean(e,t){const n=(0,Gc.Z)(this.value);n[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateDynamic(e,t="string",n=!1){const s=(0,Gc.Z)(this.value);e?s.dynamic={accepts:t,proOnly:n}:delete s.dynamic,this.context.updateControl(this.parentPath,this.index,s)}isSpacingBarEnabled(){const e=this.context.element().spacingBars;if(!e||!e.length)return!1;if(!this.spacingBarPresetSlug)return!1;const t=zf(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex).map((e=>e.affectedPropertyPath)),n=e.find((e=>t.includes(e.affectedPropertyPath)));return!!n}updateSpacingBar(e){if(!this.spacingBarPresetSlug)return;let t=(0,Gc.Z)(this.context.element().spacingBars);const n=zf(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex);if(e)t||(t=[]),t=[...t,...n];else if(t){const e=n.map((e=>e.affectedPropertyPath));t=t.filter((t=>!e.includes(t.affectedPropertyPath)))}this.context.updateElementValue("spacingBars",t)}updateElementPropertiesNotTiedToControl(e){(0,A.forceNextTick)((()=>this.updateSpacingBar(!1))),(0,A.forceNextTick)((()=>this.updatePropertyPathsToWhitelistInFlatProps(!1))),(0,A.forceNextTick)((()=>this.updatePropertyPathsToSsrElementWhenValueChanges(!1))),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e.options.sectionOptions,e.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e.options.sectionOptions,e.slug)}get shouldControlValueBeAddedInAllBreakpoints(){const e=this.context.element().propertyPathsToWhitelistInFlatProps;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}updatePropertyPathsToWhitelistInFlatProps(e){let t=(0,Gc.Z)(this.context.element().propertyPathsToWhitelistInFlatProps);if(e)t||(t=[]),t.push(this.twigPathWithoutRepeaterIndex);else if(t){const e=t.findIndex((e=>e===this.twigPathWithoutRepeaterIndex));e>-1&&t.splice(e,1)}this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",t)}get hasSsr(){return this.context.element().template.includes("%%SSR%%")}get shouldControlValueCauseSsr(){const e=this.context.element().propertyPathsToSsrElementWhenValueChanges;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}updatePropertyPathsToSsrElementWhenValueChanges(e){let t=(0,Gc.Z)(this.context.element().propertyPathsToSsrElementWhenValueChanges);e?(t||(t=[]),t.push(this.twigPathWithoutRepeaterIndex)):t&&(t=t.filter((e=>e!==this.twigPathWithoutRepeaterIndex))),this.context.updateElementValue("propertyPathsToSsrElementWhenValueChanges",t)}};(0,r.gn)([(0,l.fI)()],Ly.prototype,"path",void 0),(0,r.gn)([(0,l.fI)()],Ly.prototype,"parentPath",void 0),(0,r.gn)([(0,l.fI)()],Ly.prototype,"index",void 0),(0,r.gn)([(0,l.fI)()],Ly.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Ly.prototype,"twigParentPath",void 0),(0,r.gn)([(0,l.fI)()],Ly.prototype,"parentControl",void 0),(0,r.gn)([(0,l.tB)("context")],Ly.prototype,"context",void 0),Ly=(0,r.gn)([(0,l.wA)({name:"ControlSectionOrControl",components:{ElementStudioHideControlInput:By,ElementStudioSaveNewDialog:dm,ElementStudioFocusPointOptions:Cy,ElementStudioVideoOptions:ry,ElementStudioIconsAutocomplete:Yv,IconButton:Ia.Z,InlineRepeater:Jf.Z,ElementStudioBreakpointOptions:uf,Icon:He.Z,ElementStudioIconOptions:Uf,ElementStudioMediaSizeOptions:Lf,ElementStudioMediaOptions:Tf,ElementStudioPostChooserOptions:Qf,TextInput:Oo.Z,Copyable:qm,ElementStudioDropdownOptions:sf,ElementStudioVariableOptions:bf,DropdownInput:zc.Z,ElementStudioRepeaterOptions:$v,ElementStudioRangeOptions:Mv,Dropdown:Jl.Z,CopyButton:Rm.Z,ShittyTextInput:Nm,Repeater:Dm.Z,ControlSectionOrControl:Ly,draggable:Em(),Accordion:Tm.Z,TwigCodeHelper:uv,ElementStudioConditionInput:yv,ElementStudioUnitOptions:Pv,ElementStudioAlertBoxOptions:vy}})],Ly);const Ny=Ly,Ry=Ny;var Fy=(0,N.Z)(Ry,wm,Pm,!1,null,null,null);const Vy=Fy.exports;let $y=class extends s.ZP{get sectionName(){return`${this.section}Sections`}handleDrag(e){this.context.replaceControls(this.sectionName,e)}get canPaste(){return Q.kD.elementStudioClipboard.copiedControl}handlePaste(){if(!Q.kD.elementStudioClipboard.copiedControl)return;const e=Q.kD.elementStudioClipboard.copiedControl;e&&this.context.pasteControl(this.sectionName,e)}addSection(){this.context.addControl(this.sectionName,"section")}addPreset(){this.context.addPreset(this.sectionName)}};(0,r.gn)([(0,l.fI)()],$y.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],$y.prototype,"section",void 0),(0,r.gn)([(0,l.tB)("context")],$y.prototype,"context",void 0),$y=(0,r.gn)([(0,l.wA)({components:{ControlSectionOrControl:Vy,draggable:Em()}})],$y);const Wy=$y,Uy=Wy;var zy=(0,N.Z)(Uy,xm,Cm,!1,null,null,null);const Hy=zy.exports;var Gy=n(21536),qy=n(85256),Ky=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" Dependencies "),t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{title}",defaultTitle:"Dependency"}}}},on:{input:function(t){return e.updateDependenciesRoot(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t(Sc.Z,{attrs:{label:"Title",value:s.title},on:{input:function(t){return e.updateDependency(t,`[${n}].title`)}}}),t("Accordion",{attrs:{expanded:"scripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("scripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Scripts ("+e._s(s.scripts?s.scripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.scripts,control:{options:{repeaterOptions:{titleTemplate:"URL to script"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].scripts`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:i}){return[t(vm.Z,{attrs:{placeholder:"Script",value:i,items:e.jsLocalDependencies},on:{input:function(t){return e.updateDependency(t,`[${n}].scripts[${s}]`)}}}),!i||e.dependencyIsNotLocal(i,e.jsLocalDependencies)?t("div",[t("div",i?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),t("div",[e._v(" Remember to use "),t("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),t("ShittyTextInput",{attrs:{value:i},on:{input:function(t){return e.updateDependency(t,`[${n}].scripts[${s}]`)}}})],1):e._e(),t(Do.Z,{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"inlineScripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineScripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Inline Scripts ("+e._s(s.inlineScripts?s.inlineScripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.inlineScripts,control:{options:{repeaterOptions:{titleTemplate:"JavaScript"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].inlineScripts`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:i}){return[t("div",{staticClass:"element-studio__execute-inline-script-dependencies"},[t(Do.Z,{attrs:{small:"",outlined:""},on:{click:function(t){return e.executeInlineScript(`[${n}].inlineScripts[${s}]`)}}},[e._v(" Execute code ")])],1),t("CodeInput",{attrs:{value:i,language:"javascript","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"",`[${n}].inlineScripts[${s}]`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"styles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("styles")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Styles ("+e._s(s.styles?s.styles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.styles,control:{options:{repeaterOptions:{titleTemplate:"URL to style"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].styles`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:i}){return[t(vm.Z,{attrs:{placeholder:"Style",value:i,items:e.cssLocalDependencies},on:{input:function(t){return e.updateDependency(t,`[${n}].styles[${s}]`)}}}),!i||e.dependencyIsNotLocal(i,e.cssLocalDependencies)?t("div",[t("div",i?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),t("div",[e._v(" Remember to use "),t("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),t("ShittyTextInput",{attrs:{value:i},on:{input:function(t){return e.updateDependency(t,`[${n}].styles[${s}]`)}}})],1):e._e(),t(Do.Z,{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"inlineStyles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineStyles")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Inline Styles ("+e._s(s.inlineStyles?s.inlineStyles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{path:"inlineStyles",value:s.inlineStyles,control:{options:{repeaterOptions:{titleTemplate:"CSS"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].inlineStyles`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:i}){return[t("CodeInput",{attrs:{value:i,language:"css","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"",`[${n}].inlineStyles[${s}]`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),t("div",{staticClass:"element-studio-dependencies-separator"}),t("Accordion",{attrs:{expanded:"builderCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("builderCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Builder Condition ("+e._s(s.builderCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("CodeInput",{attrs:{value:s.builderCondition,language:"javascript","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"",`[${n}].builderCondition`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",(function(){return[e._v("Decides if the dependencies are added to the builder")]}))],2),t("div",{staticClass:"mt-2"},[e._v("Can run Twig and JS code.")]),t("div",[e._v("When left empty the dependencies will always be added.")]),t("div",[e._v(" If any code is present and the result returns a "),t("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),t("div",[e._v(" If it returns "),t("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"frontendCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("frontendCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Frontend Condition ("+e._s(s.frontendCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("CodeInput",{attrs:{value:s.frontendCondition,language:"x-php","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"",`[${n}].frontendCondition`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",(function(){return[e._v("Decides if the dependencies are added to the frontend")]}))],2),t("div",{staticClass:"mt-2"},[e._v("Can run Twig and PHP code.")]),t("div",[e._v("When left empty the dependencies will always be added.")]),t("div",[e._v(" If any code is present and the result returns a "),t("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),t("div",[e._v(" If it returns "),t("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)})]}}])})],1)},jy=[],Xy=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex align-center"},[t("Icon",{staticClass:"mr-2",attrs:{icon:"ChevronDownIcon",rotate:e.open?"90":void 0,size:"12"}}),t("b",[e._t("default")],2)],1)},Yy=[];let Qy=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Qy.prototype,"open",void 0),Qy=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],Qy);const Jy=Qy,eb=Jy;var tb=(0,N.Z)(eb,Xy,Yy,!1,null,null,null);const nb=tb.exports;var sb=n(36300);const ib=kd.G0([kd.i0("id"),kd.i0("parentId"),kd.i0("selector"),kd.i0("parent_selector"),kd.i0("postId"),kd.i0("ssr"),kd.i0("children")]),ob=ib.types.map((({value:e})=>e));let ab=class extends s.ZP{constructor(){super(...arguments),this.accordionState="",this.index=0,this.conditionInfoOpen=!1}get tags(){return ob}get twigVariables(){return this.context.getPathsToAllControls()}async mounted(){Q.PK.localDependenciesFiles.length||await this.getLocalDependenciesFilesFromWordpress()}async getLocalDependenciesFilesFromWordpress(){(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_get_local_dependency_files",decoder:kd.IX(_m.xY),resultKey:"localDependencyFiles"}),(0,kc.fold)((e=>e.forEach((e=>Ac.Z.log.message(e.msg)))),(e=>{Q.PK.setLocalDependenciesFiles(e)})))}updateDependenciesRoot(e){this.context.updateDependency(e)}updateDependencies(e,t){const n=(0,Gc.Z)(this.value)||[];Uc()(n,t,e.map((e=>"string"===typeof e?e:""))),this.context.updateDependency(n)}updateDependency(e,t){const n=(0,Gc.Z)(this.value)||[];Uc()(n,t,e),this.context.updateDependency(n)}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}executeInlineScript(e){const t=K()(this.value,e);t&&(0,sb.Oz)((0,T.RY)(),{code:t,origin:"Executed inline script from Element Studio"})}dependencyIsNotLocal(e,t){return!t.find((t=>"value"in t&&t.value===e))}get jsLocalDependencies(){return this.localDependenciesAsVuetifySelectShape("js")}get cssLocalDependencies(){return this.localDependenciesAsVuetifySelectShape("css")}localDependenciesAsVuetifySelectShape(e){const t=[];return Q.PK.localDependenciesFiles.forEach((n=>{n.files[e].length&&(t.push({header:n.name}),n.files[e].forEach((e=>{t.push({text:e.name,value:e.url})})))})),t}};(0,r.gn)([(0,l.fI)()],ab.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],ab.prototype,"context",void 0),ab=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,TextWithChevron:nb,CodeInput:Gy.Z,Accordion:Tm.Z,ShittyTextInput:Nm,Repeater:Dm.Z}})],ab);const rb=ab,lb=rb;var cb=(0,N.Z)(lb,Ky,jy,!1,null,null,null);const db=cb.exports,ub=e=>{const t=(0,Gc.Z)(e),n=pb(t);return n.controls.settingsSections=[],n.cssTemplate=n.cssTemplate.split("\n{#%---")[0],n.dynamicPropertyPaths&&(n.dynamicPropertyPaths=n.dynamicPropertyPaths.filter((e=>!e.path.startsWith("settings.")))),n.propertyPathsToWhitelistInFlatProps&&(n.propertyPathsToWhitelistInFlatProps=n.propertyPathsToWhitelistInFlatProps.filter((e=>!e.startsWith("settings.")))),n};function pb(e){const t=(0,Gc.Z)(e);return(0,qy.f)(t.controls).forEach((e=>{t.controls[e]=t.controls[e].filter((e=>!e.options.isExternal))})),t}var hb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Accordion",{attrs:{expanded:e.accordionState===e.actionKey},on:{toggle:e.toggleAccordion},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" "+e._s(e.actionName)+" ("+e._s(e.value&&e.value[e.actionKey]?e.value[e.actionKey].length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("b",[e._t("action-description")],2),t("Repeater",{attrs:{value:e.value[e.actionKey],control:{options:{repeaterOptions:{titleTemplate:"Script",buttonName:"Add script"}}},"default-new-value":{script:""}},on:{input:function(t){return e.updateActions(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("CodeInput",{attrs:{language:"javascript",value:s.script,"twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateAction(t||"",`${e.actionKey}[${n}].script`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.actionInfoOpen},on:{click:function(t){e.actionInfoOpen=!e.actionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.actionInfoOpen}},[e._t("default",(function(){return[e._v(" Available within the action's code: ")]}))],2),"onAfterDeletedElement"===e.actionKey?[t("div",{staticClass:"mt-3"},[e._v(" Tags: "),t("code",[e._v("%%PARENT_SELECTOR%%")]),e._v(" and "),t("code",[e._v("%%PARENT_ID%%")]),e._v(" are available. ")])]:[t("div",{staticClass:"mt-3"},[e._v(" You can use Twig to access the element properties. eg. "),t("br"),t("code",{pre:!0},[e._v(" {{ design.background.color }} ")]),e._v(". ")]),t("div",{staticClass:"mt-3"},[t("code",[e._v("%%SELECTOR%%, %%ID%%")]),e._v(" are also available. ")])]],2),e.withDependencies?t("Repeater",{attrs:{value:s.dependencies,control:{options:{repeaterOptions:{titleTemplate:"Dependency",buttonName:"Add dependency"}}}},on:{input:function(t){return e.updateDependencies(t,n)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:i}){return[t(ym.Z,{attrs:{items:e.pathsToAllControls,value:i},on:{input:function(t){return e.updateDependency(t,`${e.actionKey}[${n}].dependencies[${s}]`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.dependencyInfoOpen},on:{click:function(t){e.dependencyInfoOpen=!e.dependencyInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.dependencyInfoOpen}},[e._t("default",(function(){return[e._t("dependency-description-title")]}))],2),t("div",{staticClass:"mt-2"},[e._t("dependency-description")],2)],1)]}}],null,!0)}):e._e(),t(fm.Z,{attrs:{"input-value":s.runForAllChildren,label:"Run for all children",hint:"beware that the Twig code running in the action will be with the child's data, including tags","persistent-hint":""},on:{change:function(t){return e.updateAction(t,`${e.actionKey}[${n}].runForAllChildren`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)})],1)},gb=[],mb=n(45021),vb=n.n(mb);let fb=class extends s.ZP{constructor(){super(...arguments),this.index=0,this.actionInfoOpen=!1,this.dependencyInfoOpen=!1}get actionName(){return vb()(this.actionKey)}get tags(){return ob}get twigVariables(){return this.context.getPathsToAllControls()}toggleAccordion(){this.$emit("toggle",this.accordionState===this.actionKey?"":this.actionKey)}getValueOrDefault(e){let t=(0,Gc.Z)(this.value);return t?t[e]||(t[e]=[{script:""}]):t={[e]:[{script:""}]},t}updateActions(e){const t=this.getValueOrDefault(this.actionKey);t[this.actionKey]=e,this.context.updateActions(t)}updateAction(e,t){const n=(0,Gc.Z)(this.value);Uc()(n,t,e),this.context.updateActions(n)}updateDependencies(e,t){const n=this.getValueOrDefault(this.actionKey);let s=n[this.actionKey];s||(s=[]),s[t].dependencies=e.map((e=>"string"===typeof e?e:"")),n[this.actionKey]=s,this.context.updateActions(n)}get pathsToAllControls(){const e=this.context.element().controls;return[e.designSections.length?"design":null,e.contentSections.length?"content":null,...this.context.getPathsToAllControls([],[])].filter(Boolean)}updateDependency(e,t){const n=(0,Gc.Z)(this.value);Uc()(n,t,e),this.context.updateActions(n)}};(0,r.gn)([(0,l.fI)()],fb.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],fb.prototype,"actionKey",void 0),(0,r.gn)([(0,l.fI)()],fb.prototype,"accordionState",void 0),(0,r.gn)([(0,l.fI)({default:!0})],fb.prototype,"withDependencies",void 0),(0,r.gn)([(0,l.tB)("context")],fb.prototype,"context",void 0),fb=(0,r.gn)([(0,l.wA)({components:{TextWithChevron:nb,CodeInput:Gy.Z,ShittyTextInput:Nm,Repeater:Dm.Z,Accordion:Tm.Z}})],fb);const yb=fb,bb=yb;var Sb=(0,N.Z)(bb,hb,gb,!1,null,null,null);const _b=Sb.exports;var xb=n(67389),Cb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{defaultNewValue:{name:"",template:""},defaultTitle:"HTML Attribute",titleTemplate:"{name}",buttonName:"Add new HTML attribute"}}}},on:{input:function(t){return e.updateAttributes(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Attribute Name")]),t(Sc.Z,{attrs:{value:s.name,rules:[e.htmlAttributeNameRule]},on:{input:function(t){return e.updateName(n,t)}}}),t("b",[e._v("Attribute Value")]),"template"in s?t("CodeInput",{attrs:{value:s.template,language:"html"},on:{input:function(t){return e.updateTemplateValue(n,t)}}}):"propertyPath"in s?t(Sc.Z,{attrs:{value:s.template},on:{input:function(t){return e.updatePropertyPathValue(n,t)}}}):"rawValue"in s?t(Sc.Z,{attrs:{value:s.template},on:{input:function(t){return e.updateRawValue(n,t)}}}):e._e()]}}])})},wb=[];let Pb=class extends s.ZP{updateAttributes(e){this.$emit("input",e)}updateName(e,t){const n=(0,Gc.Z)(this.value);!0===this.htmlAttributeNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}updateTemplateValue(e,t){const n=(0,Gc.Z)(this.value);n[e].template=t??"",this.$emit("input",n)}updatePropertyPathValue(e,t){const n=(0,Gc.Z)(this.value);n[e].propertyPath=t,this.$emit("input",n)}updateRawValue(e,t){const n=(0,Gc.Z)(this.value);n[e].rawValue=t,this.$emit("input",n)}htmlAttributeNameRule(e){return og.hB.validateHtmlAttributeName(e)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],Pb.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Pb.prototype,"context",void 0),Pb=(0,r.gn)([(0,l.wA)({components:{CodeInput:Gy.Z,Repeater:Dm.Z,Dropdown:Jl.Z,Accordion:Tm.Z,draggable:Em()}})],Pb);const Ib=Pb,kb=Ib;var Eb=(0,N.Z)(kb,Cb,wb,!1,null,null,null);const Tb=Eb.exports;var Db=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Class .{name}",buttonName:"Add Class",defaultNewValue:{name:"my-class",template:"yes"}}}}},on:{input:function(t){return e.updateClasses(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Class Name")]),t(Sc.Z,{attrs:{value:s.name,rules:[e.htmlClassNameRule]},on:{input:function(t){return e.updateName(n,t)}}}),t("b",[e._v("Class Condition Twig Template")]),t("CodeInput",{attrs:{value:s.template,language:"html"},on:{input:function(t){return e.updateValue(n,t)}}}),t("div",{staticClass:"mt-2"},[e._v(" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. ")]),t("div",[e._v("(the returned value is trimmed for spaces and newlines)")])]}}])})},Ab=[];let Zb=class extends s.ZP{updateClasses(e){this.$emit("input",e)}updateName(e,t){const n=(0,Gc.Z)(this.value);!0===this.htmlClassNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}updateValue(e,t){const n=(0,Gc.Z)(this.value);n[e].template=t??"",this.$emit("input",n)}htmlClassNameRule(e){return og.hB.validateHtmlClassName(e)}};(0,r.gn)([(0,l.fI)({default:[]})],Zb.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Zb.prototype,"context",void 0),Zb=(0,r.gn)([(0,l.wA)({components:{CodeInput:Gy.Z,Repeater:Dm.Z,Dropdown:Jl.Z,Accordion:Tm.Z,draggable:Em()}})],Zb);const Mb=Zb,Ob=Mb;var Bb=(0,N.Z)(Ob,Db,Ab,!1,null,null,null);const Lb=Bb.exports;var Nb=n(6184),Rb=n(75617),Fb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(bc.Z,[t(Fc.ZB,[e._v(" Looks Good "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.looksGood,clearable:""},on:{input:function(t){return e.updateValueForKey("looksGood",t)}}}),t("br"),e._v(" Options Are Good "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsGood,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsGood",t)}}}),t("br"),e._v(" Options Work "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsWork,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsWork",t)}}}),t("br"),e._v(" Dynamic Behavior Works "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.dynamicBehaviorWorks,clearable:""},on:{input:function(t){return e.updateValueForKey("dynamicBehaviorWorks",t)}}}),t("br"),t("br"),t(Rb.Z,{staticStyle:{border:"1px solid var(--gray500)"},attrs:{filled:"",value:e.value.notes},on:{input:e.updateNotes}}),t("br")],1)],1)},Vb=[];let $b=class extends s.ZP{get dropdownItems(){return["yes","no","unknown","sort of"]}updateValueForKey(e,t){const n=(0,Gc.Z)(this.value);n[e]=t,this.emit(n)}updateNotes(e){const t=(0,Gc.Z)(this.value);t.notes="string"===typeof e?e:"",this.emit(t)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],$b.prototype,"value",void 0),$b=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z}})],$b);const Wb=$b,Ub=Wb;var zb=(0,N.Z)(Ub,Fb,Vb,!1,null,null,null);const Hb=zb.exports;var Gb=n(78),qb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("InlineRepeater",{attrs:{value:e.value||[]},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t(ym.Z,{attrs:{value:s,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updatePropertyPathByIndex(n,t)}}})]}}])})},Kb=[];let jb=class extends s.ZP{updateElementValue(e){const t=e.map((e=>"string"===typeof e?e:""));this.$emit("input",t)}updatePropertyPathByIndex(e,t){const n=(0,Gc.Z)(this.value);t&&this.pathRules(t)&&(n[e]=t.trim(),this.updateElementValue(n))}pathRules(e){return(0,je.qj)(e)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],jb.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],jb.prototype,"allPaths",void 0),jb=(0,r.gn)([(0,l.wA)({components:{InlineRepeater:Jf.Z,Repeater:Dm.Z,DropdownInput:zc.Z,CodeInput:Gy.Z,Dropdown:Jl.Z,Accordion:Tm.Z,draggable:Em()}})],jb);const Xb=jb,Yb=Xb;var Qb=(0,N.Z)(Yb,qb,Kb,!1,null,null,null);const Jb=Qb.exports;var eS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.value.dynamicPropertyPaths&&e.value.dynamicPropertyPaths.length?t("Accordion",{attrs:{expanded:"dynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Dynamic Property Paths (deprecated)")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioDynPropPaths",{attrs:{value:e.value.dynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"dynamicPropertyPaths")}}})]},proxy:!0}],null,!1,350629959)}):e._e(),t("Accordion",{attrs:{expanded:"propertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("propertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Property paths to whitelist in flat props")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToWhitelistInFlatProps,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"dynamic-prop-paths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamic-prop-paths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Property paths to SSR the element when value changes ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToSsrElementWhenValueChanges,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToSsrElementWhenValueChanges")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"spacing-bars"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("spacing-bars")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Spacing Bars")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioSpacingBars",{attrs:{value:e.value.spacingBars}})]},proxy:!0}])})],1)},tS=[],nS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{path} - {accepts}",buttonName:"Add new Dynamic Property Path",defaultNewValue:{accepts:"string",path:""}}}}},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Dynamic Property Path")]),t(ym.Z,{attrs:{value:s.path,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updateDynamicPropertyPath(n,t)}}}),t("b",{staticClass:"d-block pt-2"},[e._v("Accepts:")]),t("DropdownInput",{attrs:{items:e.getDynamicPathAcceptsItems,value:s.accepts},on:{input:function(t){return e.updateValue(n,t)}}})]}}])})},sS=[];let iS=class extends s.ZP{updateElementValue(e){this.$emit("input",e)}updateDynamicPropertyPath(e,t){const n=(0,Gc.Z)(this.value);this.pathRules(t)&&(n[e].path=t.trim(),this.updateElementValue(n))}pathRules(e){return(0,je.qj)(e)}get getDynamicPathAcceptsItems(){return(0,Sf.cS)()}updateValue(e,t){const n=(0,Gc.Z)(this.value);n[e].accepts=t,this.updateElementValue(n)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],iS.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],iS.prototype,"allPaths",void 0),iS=(0,r.gn)([(0,l.wA)({components:{Repeater:Dm.Z,DropdownInput:zc.Z,CodeInput:Gy.Z,Dropdown:Jl.Z,Accordion:Tm.Z,draggable:Em()}})],iS);const oS=iS,aS=oS;var rS=(0,N.Z)(aS,nS,sS,!1,null,null,null);const lS=rS.exports;var cS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Spacing bar",buttonName:"Add new spacing bar"}}}},on:{input:function(t){return e.updateSpaceBars(t)}},scopedSlots:e._u([{key:"default",fn:function({value:n,index:s}){return[t("ElementStudioSpacingBar",{attrs:{value:n},on:{input:function(t){return e.updateSpaceBar(t,s)}}})]}}])})},dS=[],uS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-4"},[e._v("Location")]),t("DropdownInput",{attrs:{items:e.cssProperties,value:e.newSpaceBar.cssProperty},on:{input:e.updateLocationAndProperty}}),t("div",{staticClass:"mt-4"},[e._v("Affected property path")]),t(ym.Z,{attrs:{items:e.pathsToAllControls,placeholder:"design.spacing.%%BREAKPOINT%%.top"},model:{value:e.newSpaceBar.affectedPropertyPath,callback:function(t){e.$set(e.newSpaceBar,"affectedPropertyPath",t)},expression:"newSpaceBar.affectedPropertyPath"}}),t("NiceButton",{on:{click:e.saveNewSpaceBar}},[e._v("Save")])],1)},pS=[],hS=n(16442);let gS=class extends s.ZP{constructor(){super(...arguments),this.newSpaceBar=this.value||{}}get pathsToAllControls(){return this.context.getPathsToAllControls()}get propertiesLocationsKeyPair(){const e=_m.g3.types.map((e=>e.value)),t=_m.U$.types.map((e=>e.value));return t.reduce(((t,n,s)=>({...t,[n]:e[s]})),{})}get cssProperties(){return Object.keys(this.propertiesLocationsKeyPair)}updateLocationAndProperty(e){this.newSpaceBar.cssProperty=e,this.newSpaceBar.location=this.propertiesLocationsKeyPair[e]}saveNewSpaceBar(){(0,Id.zG)(_m.pG.decode(this.newSpaceBar),(0,Ed.g_)((e=>{Ac.Z.log.message("Error saving new space bar, please fill out all fields"),(0,hS.H)(e)}),(()=>{this.$emit("input",this.newSpaceBar)})))}};(0,r.gn)([(0,l.fI)()],gS.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],gS.prototype,"context",void 0),gS=(0,r.gn)([(0,l.wA)({components:{NiceButton:Cd.Z,DropdownInput:zc.Z}})],gS);const mS=gS,vS=mS;var fS=(0,N.Z)(vS,uS,pS,!1,null,null,null);const yS=fS.exports;let bS=class extends s.ZP{updateSpaceBar(e,t){const n=(0,Gc.Z)(this.value);n[t]=e,this.updateSpaceBars(n)}updateSpaceBars(e){this.context.updateElementValue("spacingBars",e)}};(0,r.gn)([(0,l.fI)({default:[]})],bS.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],bS.prototype,"context",void 0),bS=(0,r.gn)([(0,l.wA)({components:{ElementStudioSpacingBar:yS,NiceButton:Cd.Z,TextInput:Oo.Z,InlineRepeater:Jf.Z,Repeater:Dm.Z,DropdownInput:zc.Z,CodeInput:Gy.Z,Dropdown:Jl.Z,Accordion:Tm.Z,draggable:Em()}})],bS);const SS=bS,_S=SS;var xS=(0,N.Z)(_S,cS,dS,!1,null,null,null);const CS=xS.exports;let wS=class extends s.ZP{constructor(){super(...arguments),this.accordionState=""}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}get allPathsWithDesignAndContent(){return[this.context.element().controls.designSections.length?"design":null,this.context.element().controls.contentSections.length?"content":null,...this.context.getPathsToAllControls([],[])].filter(Boolean)}get allPaths(){return this.context.getPathsToAllControls()}updateElementValuePropPath(e,t){this.context.updateElementValue(t,e)}};(0,r.gn)([(0,l.fI)()],wS.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],wS.prototype,"context",void 0),wS=(0,r.gn)([(0,l.wA)({components:{ElementStudioSpacingBars:CS,ElementStudioPropertyPaths:Jb,ElementStudioDynPropPaths:lS,Accordion:Tm.Z}})],wS);const PS=wS,IS=PS;var kS=(0,N.Z)(IS,eS,tS,!1,null,null,null);const ES=kS.exports;var TS=n(46368),DS=n(86592);function AS(e){Q.PK.setTwigMacros(e),(0,DS.J6)((0,DS.GJ)(e),DS.rf),Q.kD.forceUpdateEntireCanvas()}const ZS=wc()(Qr.w.registerAllStoreActions,500);let MS=class extends s.ZP{constructor(){super(...arguments),this.tab=(0,fg.z)(`element-studio-tab-${this.type}`)||"content",this.actionsAccordionState="",this.nameHasChanged=!1,this.useLocalIcon=!!Gv.iconNames.find((e=>e===this.element.uiIcon))||!this.element.uiIcon||!1,this.contextMenu=!1,this.showNewMacroDialog=!1,this.savedCssSelection="",this.elementStudioContext={replaceControls:(e,t)=>{const n=(0,Gc.Z)(this.element);Uc()(n.controls,e,t),this.emit(n)},pasteControl:(e,t)=>{const n=(0,Gc.Z)(this.element),s=K()(n.controls,e);s.push(t),Uc()(n.controls,e,s),this.emit(n)},addControl:(e,t="text")=>{const n=(0,Gc.Z)(this.element),s={slug:"section"===t?"new_section":"new_control",label:"section"===t?"New Section":"New Control",keywords:[],options:{type:t},enableMediaQueries:!1,enableHover:!1,enableVariables:!1,children:[]};(e.startsWith("contentSections")||"text"===t||"number"===t)&&(s.options.layout="vertical");const i=this.cleanElement.controls,o=K()(i,e);Array.isArray(o)?o.push(s):o.children.push(s),Uc()(i,e,o),n.controls=this.mergeElementControlsWithExternalControls(i),this.emit(n)},addPreset:e=>{const t=(0,Gc.Z)(this.element),n=(0,Gc.Z)(this.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(!n)return;n.section.options.sectionOptions={...n.section.options.sectionOptions,type:"popout"};const s=this.cleanElement.controls,i=K()(s,e);Array.isArray(i)?i.push(n.section):i.children.push(n.section),Uc()(s,e,i),t.controls=this.mergeElementControlsWithExternalControls(s),this.emit(t)},deleteControl:(e,t)=>{const n=(0,Gc.Z)(this.element),s=this.parentControls(e);Array.isArray(s)?s.splice(t,1):s.children.splice(t,1),Uc()(n.controls,e,s),this.emit(n)},updateControl:(e,t,n)=>{const s=(0,Gc.Z)(this.element),i=this.parentControls(e);Array.isArray(i)?i.splice(t,1,n):i.children.splice(t,1,n),Uc()(s.controls,e,i),this.emit(s)},updateDependency:e=>{this.updateElementValue("dependencies",e)},updateActions:e=>{this.updateElementValue("actions",e),ZS()},getPresetSection:e=>this.available.presetSections.find((t=>t.slug===e)),getPresetSections:()=>this.available.presetSections,getPathsToAllControls:(e=[],t=["section"])=>{const n=(0,om.eH)(this.element.controls.contentSections,e,t,"content"),s=(0,om.eH)(this.element.controls.designSections,e,t,"design");return[...n,...s]},element:()=>this.element,updateElementValue:this.updateElementValue,getElementStudioData:()=>this.available,updateElementStudioData:e=>{this.update(e)}}}async mounted(){document.addEventListener("contextmenu",this.handleRightClickInCodeInput)}beforeDestroy(){document.removeEventListener("contextmenu",this.handleRightClickInCodeInput)}onElementSlugChange(){this.nameHasChanged=!0}handleRightClickInCodeInput(e){const t=window.getSelection()?.toString();!t||"css"!==this.tab&&"html"!==this.tab||(e.preventDefault(),this.contextMenu={x:e.clientX,y:e.clientY})}handleCreateMacro(){this.savedCssSelection=window.getSelection()?.toString()||"",this.showNewMacroDialog=!0}async saveNewMacro(e){if(!this.savedCssSelection)return;this.contextMenu=!1;const t=this.savedCssSelection?.toString(),n=(0,wy.dZ)(e.namespace,e.name),s=(0,DS.as)(t,{selector:"{{ selector }}",id:"{{ id }}",postId:"{{ postId }}"}).replace("macros.","_self."),i=`{% macro ${n}() %}\n\n${s} \n\n{% endmacro %}`,o=Iy()(e.name),a=Ey(e.namespace,e.name);this.available.macros.find((e=>e.slug===a))?(0,om.O6)(this.available.saveLocations,e,"macro"):(0,Id.zG)(await(0,Ec.D)({action:"breakdance_save_macro",dataToPost:{directoryPath:e.directoryPath,filename:o,macro:i},decoder:kd._4}),(0,Ed.g_)((e=>{console.error(e),Ac.Z.log.message("Failed to save element, check console")}),(()=>{const t=`{{ macros.${n}() }}`;Ac.Z.log.message(`New macro created: ${t}. `),mu()(t);const s=(0,Gc.Z)(this.available);s.macros.push({slug:a,directoryPath:e.directoryPath}),this.elementStudioContext.updateElementStudioData(s);const o=(0,Gc.Z)(Q.PK.twigMacros);o.push({macro:i,slug:a}),AS(o)})))}updateSlug(){if(!window.confirm("Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?"))return;const e=(0,om.kK)((0,om.$_)(this.element.slug),this.element.name);this.updateElementValue("slug",e)}updateUiOrder(e){const t=Number(e);Number.isNaN(t)?this.updateElementValue("order",0):this.updateElementValue("order",t)}updateUiIcon(e="SquareIcon"){this.updateElementValue("uiIcon",e)}updateUseLocalIcon(e){this.useLocalIcon=e,e||this.updateUiIcon("")}updateClassName(e){!0===this.htmlClassNameRule(e)&&this.updateElementValue("className",e||!1)}htmlClassNameRule(e){return!e||og.hB.validateHtmlClassName(e)}isValidItemName(e){return(0,om.nQ)(e)}updateElementName(e){if(!0!==(0,om.nQ)(e))return;const t=(0,Gc.Z)(this.element);t.name=e,this.emit(t)}updateElementValue(e,t){const n=(0,Gc.Z)(this.element),s=(0,av.lX)(t);Uc()(n,e,s),this.emit(n)}emit(e){this.$emit("input",e)}updateTab(e){(0,fg.r)(`element-studio-tab-${this.type}`,e),this.tab=e}mergeElementControlsWithExternalControls(e){const t=(0,Gc.Z)(e);return(0,qy.f)(this.element.controls).forEach((e=>{this.element.controls[e].forEach((n=>{n.options.isExternal&&t[e].push(n)}))})),t}get showAdvancedFeatures(){return(0,yg.y)()||Q.PK.isElementStudioPowerUser}get requiredPluginItems(){return _m.ws.types.map((e=>e.value))}get tags(){return ob}get pathsToAllControls(){return this.elementStudioContext.getPathsToAllControls()}get nestingRuleTypeIsContainer(){return(0,Re.ZC)(this.cleanElement.nestingRule.type).length>0||"container-restricted"===this.cleanElement.nestingRule.type}get cleanElement(){return ub(this.element)}get elementCategories(){return Q.PK.builderElementCategories.map((e=>({text:e.label,value:e.slug})))}get badgeColors(){return Object.entries(TS.Z).map((([e])=>{const t=e.replace(/brand_/g,"brand").replace(/_dark|_light|breakdance_/g,"");return{text:t,value:`var(--${t})`}}))}get elementType(){return _m.iQ.types.map((e=>e.value))}get containerRestrictedElements(){return Object.values(Q.PK.elements).filter((e=>"container-restricted"===e?.nestingRule.type&&e?.slug!==Ge.COLUMNS_SLUG)).map((e=>e?.slug))}get elementsThisElementIsAllowedToBeInsideOf(){return Object.values(Q.PK.elements).filter((e=>e&&(0,Re.V4)(this.element.nestingRule,e.nestingRule,e.slug))).map((e=>e?.slug))}get allElementSlugs(){return Object.values(Q.PK.elements).map((e=>e?.slug))}get elementClass(){return`.${(0,je.MO)(this.element)}`}get elementClassToCopy(){return"oxygen"===Q.PK.builderMode?this.elementClass:`.breakdance ${this.elementClass}`}parentControls(e){return(0,Gc.Z)(K()(this.element.controls,e))}update(e){this.$emit("update",e)}toggleActionAccordion(e){this.actionsAccordionState=e}get htmlTags(){return["section","div","span","p","h1","h2","h3","h4","h5","h6","footer","header","nav","aside","figure","figcaption","ul","ol","li","a","article","main","details","summary","img","video"].filter((e=>e!==this.cleanElement.htmlTag.default))}get defaultTag(){return[...this.htmlTags,this.cleanElement.htmlTag.default]}};(0,r.gn)([(0,l.fI)()],MS.prototype,"element",void 0),(0,r.gn)([(0,l.fI)({default:"primary"})],MS.prototype,"type",void 0),(0,r.gn)([(0,l.fI)()],MS.prototype,"available",void 0),(0,r.gn)([(0,l.RL)("element.name")],MS.prototype,"onElementSlugChange",null),(0,r.gn)([(0,l.DF)("context")],MS.prototype,"elementStudioContext",void 0),MS=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z,ElementStudioSaveNewDialog:dm,TextInput:Oo.Z,ElementStudioIconsAutocomplete:Yv,ElementStudioManagePropertyPaths:ES,ElementStudioPropertyPaths:Jb,Accordion:Tm.Z,ElementIcon:Gb.Z,ToggleInput:tp.Z,Icon:He.Z,ElementStudioAttributes:Tb,ElementStudioAdditionalClasses:Lb,ElementStudioDefaultElements:xb.Z,CopyButton:Rm.Z,ElementStudioAction:_b,ElementStudioDependencies:db,ElementStudioControls:Hy,CodeInput:Gy.Z,ElementStudioDefaultProperties:Nb.Z,ElementStudioProjectManagement:Hb}})],MS);const OS=MS,BS=OS;var LS=(0,N.Z)(BS,bm,Sm,!1,null,null,null);const NS=LS.exports;function RS(){const e=Q.PK.builderMode||"breakdance";return{className:!1,uiIcon:!1,category:"other",badge:!1,htmlTag:{default:"div",options:[],pathToControl:!1},template:"Blank Element",attributes:!1,cssTemplate:"%%SELECTOR%% { }",defaultCss:" ",defaultProperties:!1,defaultChildren:!1,controls:{contentSections:[],designSections:[],settingsSections:[]},dependencies:!1,actions:!1,nestingRule:{type:"final"},spacingBars:!1,dynamicPropertyPaths:!1,settings:!1,addPanelRules:!1,experimental:!1,availableIn:[e],order:0,additionalClasses:!1,projectManagement:!1,propertyPathsToWhitelistInFlatProps:!1,propertyPathsToSsrElementWhenValueChanges:!1}}let FS=class extends s.ZP{constructor(){super(...arguments),this.lastSavedElement=!1,this.currentlyEditingElement=!1,this.saveInProgress=!1,this.throttledUpdateElement=U()(je.Cf,500),this.mode=(0,fg.z)("element-studio-mode")||"normal"}get elementsSlug(){return this.value.elements.map((e=>e.slug))}updateCurrentlyEditingElement(e){this.currentlyEditingElement=(0,Gc.Z)(e),!1===this.lastSavedElement&&(this.lastSavedElement=(0,Gc.Z)(e))}updateAvailableElementsAndStore(e){const t=e.element.slug;this.lastSavedElement&&t!==this.lastSavedElement.element.slug&&(0,om.$_)(t)===(0,om.$_)(this.lastSavedElement.element.slug)&&this.deleteElementFromServer(this.lastSavedElement);const n=!!this.value.elements.find((e=>e.slug===t));if(!n&&e.directoryPath){const n=(0,Gc.Z)(this.value);n.elements.push({slug:t,directoryPath:e.directoryPath}),this.$emit("input",n)}this.lastSavedElement=e}get hasUnsavedChanges(){return!(!this.currentlyEditingElement||!this.lastSavedElement)&&!Ep()(this.lastSavedElement.element,this.currentlyEditingElement.element)}updateData(e){this.$emit("input",e)}updateElement(e){if(!this.currentlyEditingElement||!this.lastSavedElement||!this.lastSavedElement.element)return;const t=e.slug!==this.lastSavedElement.element.slug;let n=this.currentlyEditingElement.directoryPath;t&&this.currentlyEditingElement.directoryPath&&(n=(0,wy.Lg)({directoryPath:(0,wy.HT)(this.currentlyEditingElement.directoryPath),elementName:this.currentlyEditingElement.element.name})),this.currentlyEditingElement={directoryPath:n,element:e,onlyForAdvancedUsers:this.currentlyEditingElement.onlyForAdvancedUsers},this.throttledUpdateElement(e)}deleteElementFromStore(e){const t=this.value.elements.findIndex((t=>t.slug===e));c.configStore.deleteElement(e),-1!==t&&this.value.elements.splice(t,1)}deleteElement(){this.currentlyEditingElement&&this.deleteElementFromServer(this.currentlyEditingElement,(()=>{this.currentlyEditingElement=!1}))}async deleteElementFromServer(e,t=(()=>{})){e.element&&(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_delete_element",dataToPost:{directoryPath:e.directoryPath},decoder:kd.i0("success"),resultKey:"data"}),(0,kc.fold)((()=>{Ac.Z.log.message("Failed to delete element")}),(()=>{e.element?(this.deleteElementFromStore(e.element.slug),t()):Ac.Z.log.message("Failed to delete element")})))}discardChanges(){this.lastSavedElement&&this.lastSavedElement.element&&this.updateElement(this.lastSavedElement.element),this.resetCurrentlyEditingElement()}resetCurrentlyEditingElement(){this.currentlyEditingElement=!1,this.lastSavedElement=!1,this.$emit("active",null)}switchMode(){switch(this.mode){case"split-vertical":this.mode="split-horizontal",this.$emit("width",750);break;case"split-horizontal":this.$emit("width",600),this.mode="normal";break;case"normal":this.$emit("width",600),this.mode="split-vertical";break}(0,fg.r)("element-studio-mode",this.mode)}openElement(e){const t=(0,Gc.Z)(c.configStore.element(e)),n=this.value.elements.find((t=>t.slug===e));if(!n)return;const s=this.value.saveLocations.find((e=>n.directoryPath.startsWith(e.directoryPath))),i=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingElement({element:t,directoryPath:n.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","element")}saveAs(e){if(!this.currentlyEditingElement)return;const{namespace:t,directoryPath:n,onlyForAdvancedUsers:s}=e,i=(0,Gc.Z)(this.currentlyEditingElement.element);this.currentlyEditingElement.directoryPath!==n&&(i.slug=""),this.saveToServer(i,(0,wy.Lg)({directoryPath:n,elementName:this.currentlyEditingElement.element.name}),t,!1,s)}saveNewItem(e){const t=(0,om.kK)(e.namespace,e.name);if(this.value.elements.find((e=>e.slug===t)))return void(0,om.O6)(this.value.saveLocations,e,"element");const n={...RS(),slug:t,name:e.name};this.saveToServer(n,(0,wy.Lg)({directoryPath:e.directoryPath,elementName:e.name}),e.namespace,!1,e.onlyForAdvancedUsers),this.$emit("active","element")}saveOverride(e){this.currentlyEditingElement&&this.currentlyEditingElement.directoryPath&&this.saveToServer(this.currentlyEditingElement.element,this.currentlyEditingElement.directoryPath,(0,om.$_)(this.currentlyEditingElement.element.slug),e,this.currentlyEditingElement.onlyForAdvancedUsers)}async saveToServer(e,t,n,s=!1,i){this.saveInProgress=!0;const o=n||(0,om.$_)(e.slug),a=ub(e),r=e.slug||(0,om.kK)(o,e.name);(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_save_element",dataToPost:{...(0,wy.x)(a,o),directoryPath:t,bypassPsalm:s?"yes":"no"},decoder:kd._4}),(0,kc.fold)((e=>{console.error(e),Ac.Z.log.message("Failed to save element, check console")}),(()=>{const n={element:{...(0,Gc.Z)(e),slug:r,name:e.name.split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ")},directoryPath:t,onlyForAdvancedUsers:i};this.updateCurrentlyEditingElement(n),this.updateAvailableElementsAndStore(n),(0,je.Cf)(n.element)}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],FS.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],FS.prototype,"width",void 0),FS=(0,r.gn)([(0,l.wA)({components:{ElementStudioTabsAndPanels:NS,ElementStudioWidthAdjustmentBar:Qg,ElementStudioTopbar:mm}})],FS);const VS=FS,$S=VS;var WS=(0,N.Z)($S,Jg,em,!1,null,null,null);const US=WS.exports,zS=kd.dt({slug:kd.Z_,directoryPath:kd.Z_}),HS=kd.G0([kd.i0("element"),kd.i0("macro"),kd.i0("preset")]),GS=kd.dt({directoryPath:kd.Z_,namespace:kd.Z_,type:HS,label:kd.Z_,onlyForAdvancedUsers:kd.O7}),qS=kd.dt({slug:kd.Z_,section:Im.ur}),KS=kd.dt({elements:kd.IX(zS),macros:kd.IX(zS),presets:kd.IX(zS),saveLocations:kd.IX(GS),presetSections:kd.IX(qS)});var jS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingMacro,"element-studio__hide-the-close-button":!e.currentlyEditingMacro,"element-studio__hide-the-switch-mode-button":!0}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.macrosSlug,value:e.currentlyEditingMacro,itemType:"macro","item-name":e.currentMacroName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openMacro,delete:e.deleteMacro,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingMacro}}),e.currentlyEditingMacro?t("div",{staticClass:"element-studio-content"},[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[t("div",{staticClass:"element-studio-tabs"},[t(_p.Z,{attrs:{value:e.activeTab},on:{change:e.updateTab}},[t(Sp.Z,{attrs:{href:"#macro",title:"Macro"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#settings",title:"Settings"}},[t("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[t("CodeInput",{directives:[{name:"show",rawName:"v-show",value:"macro"===e.activeTab,expression:"activeTab === 'macro'"}],attrs:{value:e.currentlyEditingMacro.macroData.macro,language:"twig"},on:{input:e.updateMacroValue}}),"settings"===e.activeTab?t("div",{staticClass:"pa-4"},[t(Sc.Z,{attrs:{value:e.currentMacroName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updateMacroName}}),t("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),t("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},XS=[];let YS=class extends s.ZP{constructor(){super(...arguments),this.lastSavedMacro=!1,this.currentlyEditingMacro=!1,this.saveInProgress=!1,this.autoRefresh=!0,this.activeTab="macro",this.throttledUpdateElement=wc()(this.updateMacroAndRecompileTwigTemplates,1e3)}get macrosSlug(){return this.value.macros.map((e=>e.slug))}isValidItemName(e){return(0,om.nQ)(e)}updateCurrentlyEditingMacro(e){this.currentlyEditingMacro=(0,Gc.Z)(e),!1===this.lastSavedMacro&&(this.lastSavedMacro=(0,Gc.Z)(e))}updateTab(e){this.activeTab=e}updateMacroName(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.slug=Ey((0,om.$_)(this.currentlyEditingMacro.macroData.slug),e))}updateAutoRefresh(e){this.autoRefresh=e,e&&this.currentlyEditingMacro&&this.updateMacroAndRecompileTwigTemplates(this.currentlyEditingMacro.macroData)}updateMacroAndRecompileTwigTemplates(e){const t=(0,Gc.Z)(c.configStore.twigMacros),n=t.findIndex((t=>t.slug===e.slug));if(-1===n){t.push(e);const n=(0,Gc.Z)(this.value);n.macros.push(e),this.$emit("input",n)}else t[n].macro=e.macro;this.lastSavedMacro&&this.lastSavedMacro.directoryPath&&e.slug!==this.lastSavedMacro.macroData.slug&&e.directoryPath===this.lastSavedMacro.directoryPath&&this.deleteMacroFromServer(this.lastSavedMacro),this.autoRefresh&&AS(t)}deleteMacroAndRecompileTwigTemplates(e){const t=(0,Gc.Z)(c.configStore.twigMacros),n=t.findIndex((t=>t.slug===e)),s=this.value.macros.findIndex((t=>t.slug===e));if(-1!==n&&t.splice(n,1),-1!==s){const e=(0,Gc.Z)(this.value);e.macros.splice(s,1),this.$emit("input",e)}AS(t)}get currentMacroName(){return this.currentlyEditingMacro?(0,om.iC)(this.currentlyEditingMacro.macroData.slug):""}get hasUnsavedChanges(){return!(!this.currentlyEditingMacro||!this.lastSavedMacro)&&!Ep()(this.lastSavedMacro.macroData,this.currentlyEditingMacro.macroData)}updateMacroValue(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.macro=e,this.throttledUpdateElement(this.currentlyEditingMacro.macroData))}deleteMacro(){this.currentlyEditingMacro&&this.deleteMacroFromServer(this.currentlyEditingMacro,(()=>{this.currentlyEditingMacro=!1}))}async deleteMacroFromServer(e,t=(()=>{})){(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_delete_macro",dataToPost:{directoryPath:e.directoryPath,filename:(0,om.iC)(e.macroData.slug)},decoder:kd.i0("success"),resultKey:"data"}),(0,kc.fold)((()=>{Ac.Z.log.message("Failed to delete element")}),(()=>{t(),this.deleteMacroAndRecompileTwigTemplates(e.macroData.slug)})))}discardChanges(){this.lastSavedMacro&&this.lastSavedMacro.macroData&&this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData),this.resetCurrentlyEditingMacro()}resetCurrentlyEditingMacro(){this.currentlyEditingMacro=!1,this.lastSavedMacro=!1,this.$emit("active",null)}openMacro(e){const t=(0,Gc.Z)(this.value.macros.find((t=>t.slug===e)));if(!t)return;const n=c.configStore.twigMacros.find((t=>t.slug===e))?.macro;if(!n)return;const s=this.value.saveLocations.find((e=>t.directoryPath.startsWith(e.directoryPath))),i=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingMacro({macroData:{...t,macro:n},directoryPath:t.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","macro")}saveAs(e){if(!this.currentlyEditingMacro)return;const t=(0,om.iC)(this.currentlyEditingMacro.macroData.slug);this.saveToServer(this.currentlyEditingMacro.macroData.macro,e.directoryPath,t,Ey(e.namespace,t),e.onlyForAdvancedUsers)}saveNewItem(e){const t=(0,wy.dZ)(e.namespace,e.name),n=Iy()(e.name),s=Ey(e.namespace,e.name);this.value.macros.find((e=>e.slug===s))?(0,om.O6)(this.value.saveLocations,e,"macro"):(this.saveToServer(`{% macro ${t}() %}\n  {# Your code here #} \n{% endmacro %}`,e.directoryPath,n,s,e.onlyForAdvancedUsers),this.$emit("active","macro"))}saveOverride(){this.currentlyEditingMacro&&this.currentlyEditingMacro.directoryPath&&this.saveToServer(this.currentlyEditingMacro.macroData.macro,this.currentlyEditingMacro.directoryPath,(0,om.iC)(this.currentlyEditingMacro.macroData.slug),this.currentlyEditingMacro.macroData.slug,this.currentlyEditingMacro.onlyForAdvancedUsers)}async saveToServer(e,t,n,s,i){this.saveInProgress=!0,(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_save_macro",dataToPost:{directoryPath:t,filename:n,macro:e},decoder:kd._4}),(0,kc.fold)((e=>{console.error(e),Ac.Z.log.message("Failed to save element, check console")}),(()=>{const n={macroData:{macro:e,slug:s,directoryPath:t},directoryPath:t,onlyForAdvancedUsers:i};this.updateCurrentlyEditingMacro(n),this.updateMacroAndRecompileTwigTemplates(n.macroData),this.lastSavedMacro=n}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],YS.prototype,"value",void 0),YS=(0,r.gn)([(0,l.wA)({components:{ToggleInput:tp.Z,TextInput:Oo.Z,Icon:He.Z,CodeInput:Gy.Z,ElementStudioTabsAndPanels:NS,ElementStudioWidthAdjustmentBar:Qg,ElementStudioTopbar:mm}})],YS);const QS=YS,JS=QS;var e_=(0,N.Z)(JS,jS,XS,!1,null,null,null);const t_=e_.exports;var n_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingPreset,"element-studio__hide-the-close-button":!e.currentlyEditingPreset,"element-studio__hide-the-switch-mode-button":!0}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.presetsSlug,value:e.currentlyEditingPreset,itemType:"preset","item-name":e.currentPresetName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openPreset,delete:e.deletePreset,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingPreset}}),e.currentlyEditingPreset?t("div",{staticClass:"element-studio-content"},[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[t("div",{staticClass:"element-studio-tabs"},[t(_p.Z,{attrs:{value:e.activeTab},on:{change:e.updateTab}},[t(Sp.Z,{attrs:{href:"#preset",title:"Preset"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#code-help",title:"Code Help"}},[t("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#prop-paths",title:"Property Paths"}},[t("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),t(Sp.Z,{attrs:{href:"#settings",title:"Settings"}},[t("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[t("ControlSectionOrControl",{directives:[{name:"show",rawName:"v-show",value:"preset"===e.activeTab,expression:"activeTab === 'preset'"}],attrs:{value:e.currentPresetWithoutPresetSlug?e.currentPresetWithoutPresetSlug.presetData.preset.section:[],index:0,path:"control",parentPath:"presetSection",twigParentPath:""}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"code-help"===e.activeTab,expression:"activeTab === 'code-help'"}]},[e._m(0),t("CodeInput",{attrs:{language:"twig",value:e.codeHelpValue,placeholder:e.codeHelpPlaceholder},on:{input:e.updateCodeHelp}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.activeTab,expression:"activeTab === 'prop-paths'"}]},[t("Accordion",{attrs:{expanded:"relativePropertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativePropertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Relative Property Paths To Whitetlist In Flatprops ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.presetRelativePropertyPathsToWhitelistInFlatProps,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativePropertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}],null,!1,3695337097)})],1),"settings"===e.activeTab?t("div",{staticClass:"pa-4"},[t(Sc.Z,{attrs:{value:e.currentPresetName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updatePresetSlug}}),t("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),t("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},s_=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio__presets-code-help"},[t("div",[t("b",[e._v("Code Help")])]),t("pre",[e._v("%%TWIG_PATH%%")]),e._v(" will be replaced with the correct path in the element. ")])}];let i_=class extends s.ZP{constructor(){super(...arguments),this.lastSavedPreset=!1,this.currentlyEditingPreset=!1,this.saveInProgress=!1,this.activeTab="preset",this.accordionState="",this.autoRefresh=!0,this.elementStudioContext=this.reactiveContext()}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}reactiveContext(){return{replaceControls:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,Gc.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e);Uc()(n.presetData.preset,s,t),this.updateCurrentlyEditingPreset(n)},pasteControl:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,Gc.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),i=K()(n.presetData.preset,s);i.push(t),Uc()(n.presetData.preset,s,i),this.updateCurrentlyEditingPreset(n)},addControl:e=>{if(!this.currentlyEditingPreset)return;const t=(0,Gc.Z)(this.currentlyEditingPreset),n=this.getCorrectPathForPresetFromContextPath(e),s=this.getParentControlOrControls(n);s&&(Array.isArray(s)?s.push((0,av._n)()):s.children.push((0,av._n)()),Uc()(t.presetData.preset,n,s),this.updateCurrentlyEditingPreset(t))},addPreset:e=>{if(!this.currentlyEditingPreset)return;const t=(0,Gc.Z)(this.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(!t)return;t.section.options.sectionOptions={...t.section.options.sectionOptions,type:"popout"};const n=(0,Gc.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),i=this.getParentControlOrControls(s);i&&(Array.isArray(i)?i.push(t.section):i.children.push(t.section),Uc()(n.presetData.preset,s,i),this.updateCurrentlyEditingPreset(n))},deleteControl:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,Gc.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),i=this.getParentControlOrControls(s);i&&(Array.isArray(i)?i.splice(t,1):i.children.splice(t,1),Uc()(n.presetData.preset,s,i),this.updateCurrentlyEditingPreset(n))},updateControl:(e,t,n)=>{if(!this.currentlyEditingPreset)return;const s=(0,Gc.Z)(this.currentlyEditingPreset);if("presetSection"===e)s.presetData.preset.section=n;else{const i=this.getCorrectPathForPresetFromContextPath(e),o=this.getParentControlOrControls(i);if(!o)return;Array.isArray(o)?o.splice(t,1,n):o.children.splice(t,1,n),Uc()(s.presetData.preset,i,o)}this.updateCurrentlyEditingPreset(s)},getPresetSection:e=>this.value.presetSections.find((t=>t.slug===e)),getPresetSections:()=>this.value.presetSections,getPathsToAllControls:(e=[],t=["section"])=>{if(this.currentlyEditingPreset)return(0,om.eH)(this.currentlyEditingPreset.presetData.preset.section.children,e,t,"")},element:je.BQ,updateDependency:()=>{},updateActions:()=>{},updateElementValue:()=>{},getElementStudioData:()=>this.value,updateElementStudioData:e=>{this.$emit("input",e)}}}updateAutoRefresh(e){this.autoRefresh=e,e&&this.currentlyEditingPreset&&this.updateCurrentlyEditingPreset(this.currentlyEditingPreset)}getCorrectPathForPresetFromContextPath(e){return e.replace("control","section")}getParentControlOrControls(e){if(this.currentlyEditingPreset)return(0,Gc.Z)(K()(this.currentlyEditingPreset.presetData.preset,e))}get codeHelpValue(){return this.currentlyEditingPreset&&this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.codeHelp||""}get codeHelpPlaceholder(){if(!this.currentlyEditingPreset)return"";const e=(0,wy.dZ)((0,om.$_)(this.currentlyEditingPreset.presetData.slug),this.currentPresetName);return`{{ macros.${e}(%%TWIG_PATH%%) }}`}updateCodeHelp(e){if(!this.currentlyEditingPreset)return;const t=(0,Gc.Z)(this.currentlyEditingPreset);Uc()(t,"presetData.preset.section.options.sectionOptions.preset.codeHelp",e),this.updateCurrentlyEditingPreset(t)}get presetsSlug(){return this.value.presets.map((e=>e.slug))}get allPaths(){return this.reactiveContext().getPathsToAllControls([],[])}get presetRelativePropertyPathsToWhitelistInFlatProps(){return this.currentlyEditingPreset?this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.relativePropertyPathsToWhitelistInFlatProps:[]}updateElementValuePropPath(e,t){if(!this.currentlyEditingPreset)return;const n=(0,Gc.Z)(this.currentlyEditingPreset);Uc()(n,`presetData.preset.section.options.sectionOptions.preset[${t}]`,e),this.currentlyEditingPreset=n}isValidItemName(e){return(0,om.nQ)(e)}updateCurrentlyEditingPreset(e){if(e.presetData.preset=this.getPresetWithRestoredSectionSlug(e.presetData.preset),this.currentlyEditingPreset=(0,Gc.Z)(e),!1===this.lastSavedPreset&&(this.lastSavedPreset=(0,Gc.Z)(e)),!this.autoRefresh)return;const t=Object.values(Q.PK.elements).map((e=>e?(e.controls.designSections=e.controls.designSections.map(this.updateSectionWithCurrentPresetSection),e.controls.contentSections=e.controls.contentSections.map(this.updateSectionWithCurrentPresetSection),e.controls.settingsSections=e.controls.settingsSections.map(this.updateSectionWithCurrentPresetSection),e):e)).filter((e=>void 0!==e));Q.PK.addElements(t)}get currentPresetWithoutPresetSlug(){if(!this.currentlyEditingPreset)return!1;const e=(0,Gc.Z)(this.currentlyEditingPreset);return e.presetData.preset.section.options.sectionOptions?.preset?.slug&&(e.presetData.preset.section.options.sectionOptions.preset.slug=void 0),e}updateSectionWithCurrentPresetSection(e){if(e.options.sectionOptions?.preset?.slug&&this.currentlyEditingPreset&&e.options.sectionOptions.preset.slug===this.currentlyEditingPreset.presetData.slug)return(0,Gc.Z)(this.currentlyEditingPreset.presetData.preset.section);if(e.children.length){const t=(0,Gc.Z)(e);return t.children=t.children.map(this.updateSectionWithCurrentPresetSection),t}return e}filterOutCurrentSection(e,t){if(!e.options.sectionOptions?.preset?.slug||e.options.sectionOptions.preset.slug!==t){if(e.children.length){const n=(0,Gc.Z)(e);return n.children=n.children.map((e=>this.filterOutCurrentSection(e,t))).filter((e=>!!e)),n}return e}}getPresetWithRestoredSectionSlug(e){return this.currentlyEditingPreset?(Uc()(e,"section.options.sectionOptions.preset.slug",this.currentlyEditingPreset.presetData.slug),e):e}updateTab(e){this.activeTab=e}updatePresetSlug(e){if(!this.currentlyEditingPreset)return;const t=(0,Gc.Z)(this.currentlyEditingPreset);t.presetData.slug=Ey((0,om.$_)(this.currentlyEditingPreset.presetData.slug),e),this.updateCurrentlyEditingPreset(t)}updatePreset(e){const t=(0,Gc.Z)(e),n=this.value.presets.findIndex((e=>e.slug===t.slug)),s=this.value.presetSections.findIndex((e=>e.slug===t.preset.slug)),i=(0,Gc.Z)(this.value);-1===n&&-1===s?(i.presets.push(t),i.presetSections.push(t.preset)):(i.presets[n]=t,i.presetSections[s].section=t.preset.section),this.$emit("input",i),this.lastSavedPreset&&this.lastSavedPreset.directoryPath&&t.slug!==this.lastSavedPreset.presetData.slug&&t.directoryPath===this.lastSavedPreset.directoryPath&&this.deletePresetFromServer(this.lastSavedPreset)}deletePresetAndRecompileTwigTemplates(e){const t=(0,om.iC)(e),n=(0,Gc.Z)(this.value.presetSections),s=n.findIndex((e=>e.slug===t)),i=this.value.presets.findIndex((t=>t.slug===e));if(-1!==s&&n.splice(s,1),-1!==i){const e=(0,Gc.Z)(this.value);e.presets.splice(i,1),this.$emit("input",e)}if(!this.autoRefresh)return;const o=Object.values(Q.PK.elements).map((t=>t?(t.controls.designSections=t.controls.designSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t.controls.contentSections=t.controls.contentSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t.controls.settingsSections=t.controls.settingsSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t):t)).filter((e=>void 0!==e));Q.PK.addElements(o)}get currentPresetName(){return this.currentlyEditingPreset?(0,om.iC)(this.currentlyEditingPreset.presetData.slug):""}get hasUnsavedChanges(){return!(!this.currentlyEditingPreset||!this.lastSavedPreset)&&!Ep()(this.lastSavedPreset.presetData,this.currentlyEditingPreset.presetData)}deletePreset(){this.currentlyEditingPreset&&this.deletePresetFromServer(this.currentlyEditingPreset,(()=>{this.currentlyEditingPreset=!1}))}async deletePresetFromServer(e,t=(()=>{})){(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_delete_preset",dataToPost:{directoryPath:e.directoryPath,filename:(0,om.iC)(e.presetData.slug)},decoder:kd.i0("success"),resultKey:"data"}),(0,kc.fold)((()=>{Ac.Z.log.message("Failed to delete element")}),(()=>{t(),this.deletePresetAndRecompileTwigTemplates(e.presetData.slug)})))}discardChanges(){this.lastSavedPreset&&this.lastSavedPreset.presetData&&(this.updateCurrentlyEditingPreset(this.lastSavedPreset),this.updatePreset(this.lastSavedPreset.presetData)),this.resetCurrentlyEditingPreset()}resetCurrentlyEditingPreset(){this.currentlyEditingPreset=!1,this.lastSavedPreset=!1,this.$emit("active",null)}openPreset(e){const t=(0,Gc.Z)(this.value.presets.find((t=>t.slug===e)));if(!t)return;const n=this.value.presetSections.find((t=>t.slug===e));if(!n)return void Ac.Z.log.message(`${e} couldn't be found`);const s=this.value.saveLocations.find((e=>t.directoryPath.startsWith(e.directoryPath))),i=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingPreset({presetData:{...t,preset:n},directoryPath:t.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","preset")}saveAs(e){this.currentlyEditingPreset&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,e.directoryPath,this.currentPresetName,Ey(e.namespace,this.currentPresetName),e.onlyForAdvancedUsers)}saveNewItem(e){const t=Iy()(e.name),n=Ey(e.namespace,e.name);this.value.presets.find((e=>e.slug===n))?(0,om.O6)(this.value.saveLocations,e,"preset"):(this.saveToServer({slug:n,section:(0,av.tr)()},e.directoryPath,t,n,e.onlyForAdvancedUsers),this.$emit("active","preset"))}saveOverride(){this.currentlyEditingPreset&&this.currentlyEditingPreset.directoryPath&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,this.currentlyEditingPreset.directoryPath,this.currentPresetName,this.currentlyEditingPreset.presetData.slug,this.currentlyEditingPreset.onlyForAdvancedUsers)}async saveToServer(e,t,n,s,i){this.saveInProgress=!0,(0,Ic.pipe)(await ky(e,t,n,s),(0,kc.fold)((e=>{console.error(e),Ac.Z.log.message("Failed to save element, check console")}),(()=>{const n={presetData:{preset:(0,Gc.Z)(e),slug:s,directoryPath:t},directoryPath:t,onlyForAdvancedUsers:i};this.updateCurrentlyEditingPreset(n),this.updatePreset(n.presetData),this.lastSavedPreset=n}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],i_.prototype,"value",void 0),(0,r.gn)([(0,l.DF)("context")],i_.prototype,"elementStudioContext",void 0),i_=(0,r.gn)([(0,l.wA)({components:{ToggleInput:tp.Z,ElementStudioDynPropPaths:lS,ElementStudioPropertyPaths:Jb,Accordion:Tm.Z,ControlSectionOrControl:Vy,TextInput:Oo.Z,Icon:He.Z,CodeInput:Gy.Z,ElementStudioTabsAndPanels:NS,ElementStudioWidthAdjustmentBar:Qg,ElementStudioTopbar:mm}})],i_);const o_=i_,a_=o_;var r_=(0,N.Z)(a_,n_,s_,!1,null,null,null);const l_=r_.exports;let c_=class extends s.ZP{constructor(){super(...arguments),this.data={elements:[],macros:[],presets:[],saveLocations:[],presetSections:[]},this.width=600,this.activeItemType=null}async mounted(){(0,Id.zG)(await(0,Ec.D)({action:"breakdance_load_element_studio",decoder:KS}),(0,Ed.g_)((e=>e.forEach((e=>Ac.Z.log.message(e.msg)))),(e=>{this.data=e})))}updateData(e){this.data=(0,Gc.Z)(e)}updateActiveItemType(e){this.activeItemType=e}updateWidth(e){this.width=e}adjustWidth(e){this.width+=e}get styles(){return{width:`${this.width}px`}}};c_=(0,r.gn)([(0,l.wA)({components:{ElementStudioPresets:l_,ElementStudioMacros:t_,ElementStudioElements:US,ElementStudioWidthAdjustmentBar:Qg}})],c_);const d_=c_,u_=d_;var p_=(0,N.Z)(u_,Ng,Rg,!1,null,null,null);const h_=p_.exports;var g_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},[t("Add",{directives:[{name:"show",rawName:"v-show",value:"add"===e.panelState,expression:"panelState === 'add'"}]}),"selectors"===e.panelState?t("SelectorsPanel"):"oxySelectors"===e.panelState?t("OxySelectorsPanel"):"presets"===e.panelState?t("PresetsPanel"):"structure"===e.panelState?t("StructurePanel"):e._e(),"elementproperties"===e.panelState?["breakdance"==e.builderMode?t("ElementPropertiesPanel",{key:e.activeElementId}):"oxygen"==e.builderMode?t("OxygenElementPropertiesPanel",{key:e.activeElementId}):e._e()]:"ai"===e.panelState?t("AIPanel"):"history"===e.panelState?t("HistoryAndRevisionsPanel"):"globalSettings"===e.panelState?t("GlobalSettingsPanel"):"variables"===e.panelState?t("VariablesPanel"):e._e()],2)},m_=[],v_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-properties-panel vscroll-wrap vscroll-scroll",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[t("Titlebar"),t("TabsAndControls")]:[t("BlankSidebarContent")]],2)},f_=[],y_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-titlebar",class:`properties-panel-titlebar--${e.size}`},[t("div",{staticClass:"properties-panel-titlebar-title truncate"},[e._v(" "+e._s(e.elementTitle)+" ")]),"breakdance"===e.builderMode?e._l(e.elementBadges,(function(e,n){return t("ElementBadge",{key:n,staticClass:"ml-1",attrs:{value:e}})})):e._e(),t(Nl.Z),"breakdance"===e.builderMode?[t("IconButton",{staticClass:"properties-panel-duplicate-button",attrs:{icon:"DuplicateIcon",size:"small"===e.size?"14":"16",small:!0},on:{click:e.duplicateElement}}),t("IconButton",{staticClass:"properties-panel-delete-button",attrs:{icon:"TrashIcon",size:"small"===e.size?"14":"16",small:!0},on:{click:e.remove}})]:e._e(),"oxygen"!==e.builderMode||e.isComponent?e._e():[t("OxygenTagChooser")]],2)},b_=[],S_=n(27517),__=n(13960),x_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-tag-chooser",class:{"oxy-tag-chooser--disabled":1===e.tags?.length}},[t(ym.Z,{ref:"input",attrs:{value:e.value,items:e.tags,dense:"",flat:"",solo:"","hide-details":"","no-data-text":"","search-input":e.searchQuery,disabled:1===e.tags.length,"menu-props":{maxHeight:350,minWidth:145,closeOnContentClick:!0}},on:{input:e.setValue,"update:searchInput":function(t){e.searchQuery=t},"update:search-input":function(t){e.searchQuery=t}},scopedSlots:e._u([{key:"append",fn:function(){return[t("span",{staticClass:"oxy-tag-chooser__bracket-1"},[e._v("<")]),t("span",{staticClass:"oxy-tag-chooser__bracket-2"},[e._v(">")]),e.tags?.length>1?t("Icon",{staticClass:"oxy-tag-chooser__tag-icon",attrs:{icon:"ChevronDownIcon",size:10}}):e._e()]},proxy:!0},{key:"append-item",fn:function(){return[!e.doesQueryMatchAnyTag&&e.isValidHtmlTagName(e.searchQuery)?t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.setValue(e.searchQuery)}}},[t(Xl.V9,[e._v(" Custom: "+e._s(e.searchQuery)+" ")])],1):e._e()]},proxy:!0},{key:"no-data",fn:function(){return[t("div")]},proxy:!0}])})],1)},C_=[],w_=n(25770),P_=n(47712);let I_=class extends l.w3{constructor(){super(...arguments),this.open=!1,this.searchQuery=""}onValueChange(){this.$nextTick((()=>{this.$refs.input.isMenuActive=!1,this.$refs.input.blur()}))}get control(){return{type:"select",name:"Tag",slug:"tag",items:this.tags,disableVariable:!0}}get element(){return c.uiStore.activeElement}get builderElement(){return this.element?c.configStore.element(this.element.data.type):null}get htmlTag(){return this.element?this.builderElement?.htmlTag:null}get tags(){if(!this.element)return[];const e=[...this.htmlTag?.options||[]];return this.defaultTag?[this.defaultTag,...e]:e}get defaultTag(){return this.htmlTag?.default}get value(){return K()(c.uiStore.activeElement,"data.properties.settings.advanced.tag")||this.defaultTag}setValue(e){c.uiStore.activeElementId&&(this.isValidHtmlTagName(e)?(0,je.Q$)(c.uiStore.activeElementId,e):this.handleInvalidTag())}handleInvalidTag(){this.$nextTick((()=>{this.defaultTag&&(this.searchQuery=this.defaultTag)}))}isValidHtmlTagName(e){const t=/^[a-zA-Z][a-zA-Z0-9-]*$/;return t.test(e)}get doesQueryMatchAnyTag(){return this.tags?.some((e=>e===this.searchQuery))}};(0,r.gn)([(0,l.RL)("value")],I_.prototype,"onValueChange",null),I_=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z,Icon:He.Z,OxygenControl:P_["default"],OxygenSelectInput:w_.Z,DropdownInput:zc.Z}})],I_);const k_=I_,E_=k_;var T_=(0,N.Z)(E_,x_,C_,!1,null,null,null);const D_=T_.exports;let A_=class extends s.ZP{get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}get elementTitle(){return this.element?c.configStore.element(this.element.data.type).name:"No Active Element"}get elementBadges(){if(!this.element)return[];const e=c.configStore.element(this.element.data.type),t=e.badge?[e.badge]:[];return e.settings&&e.settings.proOnly&&"free"===c.configStore.subscriptionMode&&t.push((0,__.ur)()),t}get isComponent(){return!!this.element&&this.element?.data?.type===Ge.COMPONENT_SLUG}get builderMode(){return c.configStore.builderMode}duplicateElement(){this.elementId&&c.documentStore.duplicateElementAndActivateIt(this.elementId)}remove(){null!==this.elementId&&c.documentStore.deleteElement({nodeId:this.elementId})}};(0,r.gn)([(0,l.fI)()],A_.prototype,"size",void 0),A_=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z,IconButton:Ia.Z,ElementBadge:S_.Z,OxygenTagChooser:D_}})],A_);const Z_=A_,M_=Z_;var O_=(0,N.Z)(M_,y_,b_,!1,null,null,null);const B_=O_.exports;var L_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"pa-7 d-flex align-center justify-center flex-column",staticStyle:{height:"100%"}},[e._m(0),t("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},N_=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"blank-sidebar-text"},[t("p",[e._v(" Add an element to your page or click an existing element to edit it. ")])])}];let R_=class extends s.ZP{toggleAdd(){(0,iu._y)("add")}};R_=(0,r.gn)([(0,l.wA)({components:{StandardButton:ol}})],R_);const F_=R_,V_=F_;var $_=(0,N.Z)(V_,L_,N_,!1,null,null,null);const W_=$_.exports;var U_=n(99868),z_=n(96878),H_=n(47233),G_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.hasSearchParameters?e._e():t("DesignContentSettingsTabs",{attrs:{value:e.tab,controls:e.controls},on:{input:e.updateTab}}),t("div",{staticClass:"vscroll-scroll"},["design"===e.tab?t("ElementPresetChooser",{attrs:{element:e.element}}):e._e(),e.searchDisabled&&!e.isPresetsOverridesEnabled?t("p",{staticClass:"preset-selected-message"},[t("Icon",{attrs:{icon:"PaintbrushFineIcon",size:"24"}}),e._v(" A preset is currently selected for this element. ")],1):e.hasSearchParameters&&!e.noSearchResults?t(U_.Z,[""!==e.searchBoxState.query?t("div",{staticClass:"control-tree-search-term"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.contentSections,path:"content",linear:!0}}),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.designSections,path:"design",linear:!0}}),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.settingsSections,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(U_.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"controls"},on:{input:e.clearQuery}})],1):t(H_.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasContentControls?t(z_.Z,{attrs:{value:"content",transition:!1,"reverse-transition":!1}},[t("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}})],1):e._e(),e.hasDesignControls?t(z_.Z,{attrs:{value:"design",transition:!1,"reverse-transition":!1}},[t("DesignTabContent",{attrs:{controls:e.designSections,path:"design"}})],1):e._e(),e.hasSettingsControls?t(z_.Z,{attrs:{value:"settings",transition:!1,"reverse-transition":!1}},[t("ControlsTree",{attrs:{controls:e.settingsSections,path:"settings"}})],1):e._e()],1)],1),t("SearchBox",{attrs:{value:e.searchBoxState,location:"element","include-settings-toggle":!0,disabled:e.searchDisabled},on:{input:e.updateSearchBoxState}})],1)},q_=[],K_=n(20951),j_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-search-box-wrap",class:{"properties-panel-search-box-wrap--disabled":e.disabled}},[t("div",{staticClass:"properties-panel-search-box-inner-wrap"},[t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),t("TextInput",{staticClass:"properties-panel-search-text-input",attrs:{value:e.value.query,placeholder:e.placeholder,"data-test-id":"elements-panel-search"},on:{input:e.editQuery}}),t("div",{staticClass:"properties-panel-search-actions"},[e.value.query?t("div",{staticClass:"properties-panel-search-extra-button",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e(),t("SearchFilter",{staticClass:"properties-panel-search-modified",attrs:{value:e.value.modifiedOnly},on:{input:e.editModified}},[e._v("modified")]),e.includeSettingsToggle?t("SearchFilter",{staticClass:"properties-panel-search-settings-toggle",attrs:{value:e.value.includeSettings,title:"Include Settings"},on:{input:e.editSettings}},[t("Icon",{attrs:{icon:"GearIcon",size:"12"}}),t("Icon",{attrs:{icon:"PlusIcon",size:"10"}})],1):e._e()],1)],1)])},X_=[],Y_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"properties-panel-search-extra-button":!0,"properties-panel-search-extra-button-on":this.value},on:{click:e.toggle}},[e._t("default")],2)},Q_=[];let J_=class extends s.ZP{toggle(){this.$emit("input",!this.value)}};(0,r.gn)([(0,l.fI)()],J_.prototype,"value",void 0),J_=(0,r.gn)([l.wA],J_);const ex=J_,tx=ex;var nx=(0,N.Z)(tx,Y_,Q_,!1,null,null,null);const sx=nx.exports;let ix=class extends s.ZP{emit(e){this.$emit("input",e)}editQuery(e){"string"===typeof e?this.emit({...this.value,query:e.trim().toLowerCase()}):this.emit({...this.value,query:""})}clearQuery(){this.emit({...this.value,query:"",modifiedOnly:!1})}editModified(e){this.emit({...this.value,modifiedOnly:e})}editSettings(e){this.emit({...this.value,includeSettings:e})}get placeholder(){return"Search"}};(0,r.gn)([(0,l.fI)()],ix.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],ix.prototype,"includeSettingsToggle",void 0),(0,r.gn)([(0,l.fI)()],ix.prototype,"disabled",void 0),(0,r.gn)([(0,l.fI)()],ix.prototype,"location",void 0),ix=(0,r.gn)([(0,l.wA)({components:{SearchFilter:sx,TextInput:Oo.Z,Icon:He.Z}})],ix);const ox=ix,ax=ox;var rx=(0,N.Z)(ax,j_,X_,!1,null,null,null);const lx=rx.exports;var cx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TabsRow",[e.hasContentControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"content","data-test-id":"element-properties-tab-content"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"PenIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("content")}}},[t(Xl.V9,[e._v("Reset Content")])],1)],1)]},proxy:!0}],null,!1,855652120)}):e._e(),e.hasDesignControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"design","data-test-id":"element-properties-tab-design"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"PaletteIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("design")}}},[t(Xl.V9,[e._v("Reset Design")])],1)],1)]},proxy:!0}],null,!1,1825965438)}):e._e(),e.hasSettingsControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"settings","data-test-id":"element-properties-tab-settings"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"GearIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("settings")}}},[t(Xl.V9,[e._v("Reset Settings")])],1)],1)]},proxy:!0}],null,!1,325617522)}):e._e()],1)},dx=[],ux=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList,on:{click:function(t){return e.$emit("input",e.id)},contextmenu:e.openContextMenu}},[e.hasIconSlot?t("div",{staticClass:"breakdance-tab__icon"},[e._t("icon")],2):e._e(),e.hasIconSlot?e._e():t("div",{staticClass:"breakdance-tab__label"},[e._t("default")],2),e.hasContextMenuSlot?t("div",{staticClass:"breakdance-tab__context-menu"},[t("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[e._t("contextmenu")],2)],1):e._e()])},px=[];let hx=class extends s.ZP{constructor(){super(...arguments),this.contextMenu=!1,this.contextMenuX=0,this.contextMenuY=0}get classList(){return{"breakdance-tab":!0,[`breakdance-tab--id-${this.id}`]:!0,"breakdance-tab--active":this.value===this.id}}get hasContextMenuSlot(){return!!this.$slots.contextmenu}get hasIconSlot(){return!!this.$slots.icon}openContextMenu(e){this.hasContextMenuSlot&&(e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((()=>{this.contextMenu=!0})))}};(0,r.gn)([(0,l.fI)()],hx.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],hx.prototype,"id",void 0),hx=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z}})],hx);const gx=hx,mx=gx;var vx=(0,N.Z)(mx,ux,px,!1,null,null,null);const fx=vx.exports;var yx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-tabs-row"},[e._t("default")],2)},bx=[];let Sx=class extends s.ZP{};Sx=(0,r.gn)([(0,l.wA)({})],Sx);const _x=Sx,xx=_x;var Cx=(0,N.Z)(xx,yx,bx,!1,null,null,null);const wx=Cx.exports;var Px=n(47256);let Ix=class extends s.ZP{setTab(e){this.$emit("input",e)}get hasContentControls(){return this.controls.contentSections.length>0}get hasDesignControls(){return this.controls.designSections.length>0}get hasSettingsControls(){return this.controls.settingsSections.length>0}resetToDefault(e){!1!==c.uiStore.activeElement&&Ex(c.uiStore.activeElement.id,e)}};(0,r.gn)([(0,l.fI)({default:"content"})],Ix.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Ix.prototype,"controls",void 0),(0,r.gn)([(0,l.tB)("context")],Ix.prototype,"context",void 0),Ix=(0,r.gn)([(0,l.wA)({components:{TabsRow:wx,Tab:fx,Icon:He.Z}})],Ix);const kx=Ix;function Ex(e,t){const n=(0,ge.findNode)(c.documentStore.document.tree,e);if(!n)return;const s=c.configStore.element(n.data.type).defaultProperties,i=K()(s,t,Px.Bz);c.documentStore.throttledPropertyChanged({elementId:n.id,path:t,value:(0,Gc.Z)(i),meta:{snapshotLabel:`Reset ${(0,ie.JC)(n.data.type)} ${g()(t)}`}})}const Tx=kx;var Dx=(0,N.Z)(Tx,cx,dx,!1,null,null,null);const Ax=Dx.exports;var Zx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("ControlsTree",{attrs:{controls:e.controls,path:e.path}})],1)},Mx=[];let Ox=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Ox.prototype,"controls",void 0),(0,r.gn)([(0,l.fI)()],Ox.prototype,"path",void 0),Ox=(0,r.gn)([(0,l.wA)({components:{ControlsTree:K_["default"]}})],Ox);const Bx=Ox,Lx=Bx;var Nx=(0,N.Z)(Lx,Zx,Mx,!1,null,null,null);const Rx=Nx.exports;var Fx=n(78574);function Vx(e,t,n,s){const i=new RegExp(n.trim().replace(" ","|"),"si"),o=(e,n)=>!(i&&!`${e.label}`.match(i)&&!`${e.slug}`.match(i)&&!`${e.keywords}`.match(i))&&!(t&&!(0,Px.Ed)(n,e,s));return{contentSections:Wx(e.contentSections,o,"content",t),designSections:Wx(e.designSections,o,"design",t),settingsSections:Wx(e.settingsSections,o,"settings",t)}}function $x(e,t,n,s,i){const o=new RegExp(n.trim().replace(" ","|"),"si"),a=(e,n)=>!(o&&!`${e.label}`.match(o)&&!`${e.slug}`.match(o)&&!`${e.keywords}`.match(o))&&!(t&&!(0,Px.Ed)(n,e,s));return Wx(e,a,i,t)}function Wx(e,t,n,s){const i=(0,Gc.Z)(e);return i.filter((e=>{const i=t(e,`${n}.${e.slug}`);return"section"===e.options.type?!(!i||s)||(e.children=Wx(e.children,t,`${n}.${e.slug}`,s),e.children.length>0):i}))}const Ux=(e,t)=>(e.forEach((e=>{t=Ux(e.children,t+("section"===e.options.type?0:1))})),t);var zx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-search-empty-state"},[t("svg",{staticClass:"properties-panel-search-empty-state-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[t("path",{attrs:{d:"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5","stroke-width":"6.250005"}}),t("path",{attrs:{d:"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75","stroke-width":"6.250005"}})])]),t("h5",[e._v("No "+e._s(e.label)+" found.")]),t(Do.Z,{staticClass:"mt-4",attrs:{text:"",outlined:"",small:""},on:{click:e.clearSearch}},[e._v("Clear Search")])],1)},Hx=[];let Gx=class extends s.ZP{clearSearch(){this.$emit("input")}};(0,r.gn)([(0,l.fI)({default:"element"})],Gx.prototype,"label",void 0),Gx=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z,IconButton:Ia.Z}})],Gx);const qx=Gx,Kx=qx;var jx=(0,N.Z)(Kx,zx,Hx,!1,null,null,null);const Xx=jx.exports;var Yx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"element-preset-chooser"},[t("div",{staticClass:"element-preset-chooser__input"},[t(vm.Z,{ref:"input",staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{items:e.presetItems,dense:"",solo:"",flat:"",filled:"","search-input":e.newPresetName,placeholder:"Choose Design Preset","no-data-text":"","hide-details":"",value:e.currentPreset,loading:e.addingPreset},on:{"update:searchInput":function(t){e.newPresetName=t},"update:search-input":function(t){e.newPresetName=t},input:e.selectPreset,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createPresetOnEnter.apply(null,arguments)},"update:list-index":e.onListIndexUpdate,blur:function(t){e.autocompleteListIndex=-1}},scopedSlots:e._u([{key:"append-item",fn:function(){return[t(jl.Z,{staticClass:"element-preset-chooser__create-button",class:{"element-preset-chooser__create-button--disabled":!e.canCreatePreset},attrs:{dense:"",link:""},on:{click:e.openSavePresetDialog}},[t(Xl.V9,[e.foundPresetsWithName?t("b",[e._v(" Create preset from design ")]):t("b",[e._v(" Create "),t("i",[e._v(e._s(e.newPresetName))]),e._v(" preset ")])])],1)]},proxy:!0},{key:"no-data",fn:function(){return[t("div")]},proxy:!0}])}),t("div",{staticClass:"element-preset-chooser__actions"},[e.currentPreset?t("div",{key:"detach",staticClass:"properties-panel-search-extra-button element-preset-chooser__detach",attrs:{"aria-label":"Detach Styles",title:"Detach Styles"},on:{click:function(t){return t.stopPropagation(),e.detach.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"LinkSimpleSlashSolidIcon",size:"12"}})],1):e._e(),e.currentPreset||!e.isPresetValid?t("div",{key:"clear",staticClass:"properties-panel-search-extra-button element-preset-chooser__clear",attrs:{"aria-label":"Clear Styles"},on:{click:function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e()])],1),e.currentPreset?t("NiceButton",{staticClass:"element-preset-chooser__edit",attrs:{"aria-label":"Edit"},on:{click:e.edit}},[e._v(" Edit ")]):e._e()],1),e.isPresetValid?e._e():t("div",{staticClass:"element-preset-chooser-invalid"},[t("AlertBox",{attrs:{options:{style:"error",content:"The selected preset does not exist or has been deleted. Please select another preset."}}})],1),t("PresetDialog",{attrs:{open:e.savePresetDialog,"element-id":e.element.id,"default-name":e.newPresetName},on:{close:e.closePresetDialog}})],1)},Qx=[];let Jx=class extends l.w3{constructor(){super(...arguments),this.newPresetName="",this.autocompleteListIndex=-1,this.addingPreset=!1,this.savePresetDialog=!1}get foundPresetsWithName(){return!this.newPresetName||this.presetItems.filter((e=>e.text.toLowerCase().includes(this.newPresetName.toLowerCase()))).length}get elementName(){return c.configStore.element(this.element.data.type).name}get availablePresets(){return c.globalStore.presets}get isPresetValid(){return!this.currentPreset||this.currentPreset&&this.presetItems.find((e=>e.value===this.currentPreset))}get isPresetsOverridesEnabled(){return c.configStore.isExperimentEnabled("design-presets-overrides")}get presetItems(){const e=this.element.data.type;return this.availablePresets.filter((t=>t.availableForType===e)).map((e=>({text:e.name,value:e.id})))}get currentPreset(){return this.element.data.properties?.meta?.preset}get canCreatePreset(){return!!this.element.data.properties?.design}async createPresetOnEnter(){if(-1!==this.autocompleteListIndex)return;if(this.foundPresetsWithName)return;if(!this.newPresetName)return;if(!this.canCreatePreset)return void Ac.Z.log.errorMessage("No design to save as preset");const e=(0,ae.Lr)(this.newPresetName,this.element.data.type,this.element.data.properties.design);this.addingPreset=!0;try{(0,ae.xk)(e),(0,ae.I8)(e.id,this.element.id),this.$refs.input.blur()}catch(t){Ac.Z.log.errorMessage("Failed to save preset")}finally{this.addingPreset=!1}}onListIndexUpdate(e){this.autocompleteListIndex=e}selectPreset(e){this.newPresetName="",(0,ae.I8)(e,this.element.id,!this.isPresetsOverridesEnabled),this.autocompleteListIndex=-1}clear(){(0,ae.Tn)(this.element.id)}detach(){this.currentPreset&&((0,ae.WE)(this.currentPreset,this.element.id),(0,ae.Tn)(this.element.id))}edit(){c.uiStore.setActivePresetId(this.currentPreset),(0,iu.oM)("presets")}openSavePresetDialog(){this.savePresetDialog=!0}closePresetDialog(){this.savePresetDialog=!1}};(0,r.gn)([(0,l.fI)()],Jx.prototype,"element",void 0),Jx=(0,r.gn)([(0,l.wA)({components:{NiceButton:Cd.Z,Icon:He.Z,DropdownInput:zc.Z,AlertBox:ag.Z,PresetDialog:ta}})],Jx);const eC=Jx,tC=eC;var nC=(0,N.Z)(tC,Yx,Qx,!1,null,null,null);const sC=nC.exports;var iC=n(37220);let oC=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,includeSettings:!1,query:""},this.editingElementControlsTreeContext=iC.rq,this.searchString=""}get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:"",includeSettings:!1})}updateSearchBoxState(e){this.searchBoxState=e}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get noSearchResults(){return Ux(this.controlsFilteredBySearchParams.contentSections,0)+Ux(this.controlsFilteredBySearchParams.designSections,0)+Ux(this.controlsFilteredBySearchParams.settingsSections,0)===0}get controlsFilteredBySearchParams(){const e=this.searchBoxState.includeSettings,t=this.searchBoxState.modifiedOnly,n=this.isPresetEnabled&&!this.isPresetsOverridesEnabled,s=this.searchBoxState.query,i={designSections:n?[]:this.controls.designSections,contentSections:this.controls.contentSections,settingsSections:e?this.controls.settingsSections:[]},o=t?this.controls:i;return Vx(o,t,s,this.editingElementControlsTreeContext)}get controls(){const e=this.element.data.type,t=c.configStore.element(e).controls;return(0,Fx.Z)(t,c.configStore.permission)}get isPresetEnabled(){return!!this.element&&(0,ae.CO)(this.element.id)}get searchDisabled(){return"design"===this.tab&&this.isPresetEnabled&&!this.isPresetsOverridesEnabled}get isPresetsOverridesEnabled(){return c.configStore.isExperimentEnabled("design-presets-overrides")}get contentSections(){return this.controls.contentSections}get designSections(){return this.controls.designSections}get settingsSections(){return this.controls.settingsSections}get hasContentControls(){return this.controls.contentSections.length>0}get hasDesignControls(){return this.controls.designSections.length>0}get hasSettingsControls(){return this.controls.settingsSections.length>0}get tab(){return this.elementId&&c.uiStore.activeElementProperties?.tab?c.uiStore.activeElementProperties.tab:this.hasContentControls?"content":this.hasDesignControls?"design":this.hasSettingsControls?"settings":""}updateTab(e){this.elementId&&c.uiStore.setCurrentElementTab(e)}};(0,r.gn)([(0,l.fI)()],oC.prototype,"value",void 0),(0,r.gn)([(0,l.DF)("context")],oC.prototype,"editingElementControlsTreeContext",void 0),oC=(0,r.gn)([(0,l.wA)({components:{ElementPresetChooser:sC,DropdownInput:zc.Z,ControlsTree:K_["default"],SearchBox:lx,DesignContentSettingsTabs:Ax,DesignTabContent:Rx,Icon:He.Z,SearchBoxEmptyState:Xx}})],oC);const aC=oC,rC=aC;var lC=(0,N.Z)(rC,G_,q_,!1,null,null,null);const cC=lC.exports;let dC=class extends s.ZP{get elementIsActive(){return!!c.uiStore.activeElement}};dC=(0,r.gn)([(0,l.wA)({components:{Titlebar:B_,TabsAndControls:cC,BlankSidebarContent:W_}})],dC);const uC=dC,pC=uC;var hC=(0,N.Z)(pC,v_,f_,!1,null,null,null);const gC=hC.exports;var mC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-add-panel"},[t("PanelHeader",{on:{close:e.close},scopedSlots:e._u(["oxygen"===e.builderMode?{key:"right",fn:function(){return[t("IconButton",{staticClass:"breakdance-toolbar-icon-button",attrs:{icon:"BookOpenIcon",size:14,small:"",tooltip:"Design Library"},on:{click:e.openDesignLibrary}})]},proxy:!0}:null],null,!0)},[e._v(" Add ")]),"success"===e.state?["breakdance"===e.builderMode?t("div",{staticClass:"breakdance-add-panel__selection-wrapper"},[t("button",{staticClass:"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active"},[e._v(" Elements ")]),t("button",{staticClass:"breakdance-add-panel__panel-selection",on:{click:e.openDesignLibrary}},[e._v(" Library ")])]):e._e(),t("ElementsList")]:"loading"===e.state?[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"100%"}},[t(bp.Z,{attrs:{indeterminate:"",size:100,color:"var(--gray300)"}})],1)]:[t("div",{staticClass:"d-flex justify-center align-center pa-4",staticStyle:{height:"100%","font-size":"var(--text-md)","font-weight":"500",color:"var(--gray700)"}},[e._v(" error: failed to load elements ")])]],2)},vC=[],fC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-add-panel__element-list"},[t("div",{staticClass:"breakdance-add-panel-search d-flex"},[e.isAddPanelOpen?t("SearchInput",{attrs:{tabindex:"0",placeholder:e.isElementStudioOpen?`Search ${e.elementsCount} elements`:"Search elements",value:e.searchString,autofocus:!0,"data-test-id":"breakdance-add-panel-search"},on:{input:e.handleSearch,keydown:[e.resetSelectedSearchItemIndex,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelectedSearchItem.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.nextOrPreviousSelectedSearchElement.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.goToSelectedSearchElement("prev"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.goToSelectedSearchElement("next"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closePanel.apply(null,arguments)}]}}):e._e(),e.advancedSearchAvailable?[t(Do.Z,{staticClass:"ml-2",attrs:{"x-small":"",text:"",outlined:e.hasSearchParams},on:{click:function(t){e.advancedSearchDialogOpen=!0}}},[e._v("advanced")]),t(xa.Z,{attrs:{width:"220"},model:{value:e.advancedSearchDialogOpen,callback:function(t){e.advancedSearchDialogOpen=t},expression:"advancedSearchDialogOpen"}},[t(bc.Z,[t(Fc.ZB,[t("br"),t("h4",[e._v("Internal Element Project Management Tool")]),t(Do.Z,{attrs:{small:""},on:{click:e.dumpSearchResults}},[e._v("dump search results")]),t("div",{staticClass:"d-flex align-center justify-space-between"},[e._v(" Has Dynamic Stuff "),t(Ca.Z,{model:{value:e.advancedSearchHasDynamicStuff,callback:function(t){e.advancedSearchHasDynamicStuff=t},expression:"advancedSearchHasDynamicStuff"}})],1),e._v(" Looks Good: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchLooksGood,callback:function(t){e.advancedSearchLooksGood=t},expression:"advancedSearchLooksGood"}}),t("br"),e._v(" Options Good: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsGood,callback:function(t){e.advancedSearchOptionsGood=t},expression:"advancedSearchOptionsGood"}}),t("br"),e._v(" Options Work: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsWork,callback:function(t){e.advancedSearchOptionsWork=t},expression:"advancedSearchOptionsWork"}}),t("br"),e._v(" Dynamic Behavior Works: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchDynamicBehaviorWorks,callback:function(t){e.advancedSearchDynamicBehaviorWorks=t},expression:"advancedSearchDynamicBehaviorWorks"}}),t("br")],1)],1)],1)]:e._e()],2),t("div",{staticClass:"breakdance-add-panel__item-wrapper"},[e.hasSearchParams?e._e():e._l(e.elementCategories,(function(n,s){return t("div",{key:s},[e.elementsInActiveCategory(n.slug).length?t("Accordion",{attrs:{expanded:e.openCategoriesIndex.includes(s)},on:{toggle:function(t){return e.chooseCategory(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"breakdance-add-panel__item-title",attrs:{tabindex:"0","data-test-id":`elements-category-${n.label.replace(/ /g,"-").toLowerCase()}`},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chooseCategory(s)}}},[e._v(" "+e._s(n.label)+" ")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"breakdance-add-panel__item-element-wrapper"},e._l(e.elementsInActiveCategory(n.slug),(function(e,n){return t("AddElement",{key:n,attrs:{element:e}})})),1)]},proxy:!0}],null,!0)}):e._e()],1)})),e.hasSearchParams?t("div",{staticClass:"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search"},[e.searchResultsCount?e._e():t("div",{staticClass:"breakdance-add-panel__no-results-for-search"},[e._v(" no results ")]),e._l(e.elementsForSearch,(function(n,s){return t("AddElement",{key:n.slug,attrs:{isSearching:!0,element:n,isSelected:e.selectedSearchElementIndex===s,"show-html-tag":e.searchInHtmlTags,"search-query":e.searchString}})}))],2):e._e()],2)])},yC=[],bC=n(10660),SC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Do.Z,{on:{click:function(t){e.isOpen=!0}}},[e._v("Open Website Dialog")]),t(xa.Z,{model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t(bc.Z,[t("h1",[e._v(" use the below HTML code on breakdance.com to display a list of elements. ")]),t("p",[e._v(" this is currently used at https://breakdance.com/features/elements ")]),t("div",{staticClass:"all-elements"},e._l(e.elementCategories,(function(n){return t("div",{key:n.categoryLabel,staticClass:"element-category-wrapper"},[t("div",{staticClass:"element-category"},[t("h3",{staticClass:"element-category-label"},[e._v(" "+e._s(n.categoryLabel)+" ")])]),t("div",{staticClass:"elements"},e._l(n.elements,(function(n){return t("div",{key:n.element,staticClass:"element"},[t("div",{staticClass:"element-title"},[e._v(" "+e._s(n.element)+" ")]),n.icon&&e.elementIconIsLocal(n.icon)?t("div",{staticClass:"element-icon"},[t("RawIcon",{attrs:{icon:n.icon}})],1):t("div",{staticClass:"element-icon",domProps:{innerHTML:e._s(n.icon)}})])})),0)])})),0)])],1)],1)},_C=[],xC=n(24192);let CC=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1}elementIconIsLocal(e){return Gv.iconNames.find((t=>t===e))}get elementCategories(){const e=Object.values(c.configStore.elements);return c.configStore.builderElementCategories.map((t=>({categoryLabel:t.label,elements:e.filter((e=>!0!==e.experimental)).filter((e=>!e.addPanelRules||!e.addPanelRules.alwaysHide)).filter((e=>e.category===t.slug)).map((e=>({element:e.name,icon:e.uiIcon}))).sort(((e,t)=>e.element.localeCompare(t.element)))}))).filter((e=>0!==e.elements.length))}};CC=(0,r.gn)([(0,l.wA)({components:{RawIcon:xC.Z}})],CC);const wC=CC,PC=wC;var IC=(0,N.Z)(PC,SC,_C,!1,null,null,null);const kC=IC.exports;let EC=class extends s.ZP{constructor(){super(...arguments),this.openCategoriesIndex=[0,1],this.searchString="",this.selectedSearchElementIndex=0,this.advancedSearchAvailable=!1,this.advancedSearchDialogOpen=!1,this.advancedSearchHasDynamicStuff=!1,this.advancedSearchLooksGood=!1,this.advancedSearchOptionsGood=!1,this.advancedSearchOptionsWork=!1,this.advancedSearchDynamicBehaviorWorks=!1}get builderMode(){return c.configStore.builderMode}addSelectedSearchItem(){const e=this.elementsForSearch[this.selectedSearchElementIndex]?.slug;e&&(0,je.Sl)(this.elementsForSearch[this.selectedSearchElementIndex])&&(c.documentStore.addElement({elementSlug:e}),this.doesSearchQueryMatchAnyHtmlTag&&(0,je.Q$)(c.uiStore.activeElementId,this.searchString,`DocumentAddElement:Slug:${e}`),"oxygen"===this.builderMode&&(0,iu.TO)("add"))}get searchResultsCount(){return Object.keys(this.elementsForSearch).length}goToSelectedSearchElement(e="next"){let t="next"===e?this.selectedSearchElementIndex+1:this.selectedSearchElementIndex-1;t===this.searchResultsCount?t=0:-1===t&&(t=this.searchResultsCount-1),this.selectedSearchElementIndex=t,this.scrollToActive()}nextOrPreviousSelectedSearchElement(e){""!==this.searchString&&e.preventDefault(),this.goToSelectedSearchElement(e.shiftKey?"prev":"next")}handleSearch(e){this.searchString!==e&&document.querySelector(".breakdance-add-panel")?.scrollTo({top:0}),this.searchString=e}get isAddPanelOpen(){return"add"===this.panelContext?.state}resetSearchWhenPanelOpens(){this.isAddPanelOpen&&this.handleSearch("")}resetSelectedSearchItemIndex(e){const t=["Enter","Tab","ShiftLeft","ShiftRight","ArrowUp","ArrowDown"];t.includes(e.code)||(this.selectedSearchElementIndex=0)}get elementsCount(){return this.elements.length}chooseCategory(e){this.searchString="";const t=this.openCategoriesIndex.findIndex((t=>t===e));-1===t?this.openCategoriesIndex=[...this.openCategoriesIndex,e]:this.openCategoriesIndex.splice(t,1)}elementsInActiveCategory(e){return this.elements.filter((t=>t.category===e))}get elementCategories(){return c.configStore.builderElementCategories}get elements(){return Object.values(c.configStore.elements).filter((e=>!!c.uiStore.settings.showExperimentalElements||!0!==e.experimental)).filter((e=>!(0,je.GF)(e.addPanelRules,e.settings))).filter((e=>(0,je.Sl)(e))).sort(((e,t)=>e.order<t.order?-1:e.order>t.order?1:0))}get searchInHtmlTags(){return"oxygen"===c.configStore.builderMode}get doesSearchQueryMatchAnyHtmlTag(){return this.filteredSearchElements.find((e=>[e.htmlTag?.default,...e.htmlTag?.options].filter(Boolean).find((e=>e===this.searchString))))}get elementsForSearch(){return this.doesSearchQueryMatchAnyHtmlTag?this.filteredSearchElements.sort(((e,t)=>{const n=e.category?.toLowerCase(),s=t.category?.toLowerCase();return n===s?0:"basic"===n?-1:"basic"===s?1:0})):this.filteredSearchElements}get filteredSearchElements(){const e=this.searchInHtmlTags?["htmlTag.default","htmlTag.options"]:[],t=(0,je.tM)(this.elements,this.searchString,e),n=t.filter((e=>{const t=e.projectManagement?e.projectManagement:void 0;return!Object.values({looksGood:this.advancedSearchLooksGood?t?.looksGood==this.advancedSearchLooksGood:void 0,optionsGood:this.advancedSearchOptionsGood?t?.optionsGood==this.advancedSearchOptionsGood:void 0,optionsWork:this.advancedSearchOptionsWork?t?.optionsWork==this.advancedSearchOptionsWork:void 0,dynamicBehaviorWorks:this.advancedSearchDynamicBehaviorWorks?t?.dynamicBehaviorWorks==this.advancedSearchDynamicBehaviorWorks:void 0,hasDynamicStuff:this.advancedSearchHasDynamicStuff?e.dependencies||e.actions:void 0}).includes(!1)}));return n}scrollToActive(){(0,A.forceNextTick)((()=>{document.querySelector(".breakdance-add-panel__element--selected")?.scrollIntoView({block:"center"})}))}dumpSearchResults(){console.log(this.elementsForSearch.map((e=>e.name)).join("\n"))}get advancedSearchDropdownItems(){return["yes","no","unknown","sort of"]}mounted(){qe.uq.register("a d v",(()=>this.advancedSearchAvailable=!0))}beforeDestroy(){qe.uq.unbind("a d v")}get hasSearchParams(){return!!(this.searchString||this.advancedSearchLooksGood||this.advancedSearchOptionsGood||this.advancedSearchOptionsWork||this.advancedSearchDynamicBehaviorWorks||this.advancedSearchHasDynamicStuff)}updateAdvancedSearchValue(e,t){this[e]=t}get isElementStudioOpen(){return c.uiStore.panelState.elementStudioOpen}closePanel(){(0,iu.TO)("add")}};(0,r.gn)([(0,l.tB)({from:"panelContext",default:{}})],EC.prototype,"panelContext",void 0),(0,r.gn)([(0,l.RL)("isAddPanelOpen")],EC.prototype,"resetSearchWhenPanelOpens",null),EC=(0,r.gn)([(0,l.wA)({components:{SearchInput:xd.Z,TextInput:Oo.Z,Accordion:Tm.Z,AddElement:bC.Z,DropdownInput:zc.Z,WebsiteDialog:kC}})],EC);const TC=EC,DC=TC;var AC=(0,N.Z)(DC,fC,yC,!1,null,null,null);const ZC=AC.exports;var MC,OC=n(18236),BC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(xa.Z,{attrs:{fullscreen:e.fullscreen,width:e.fullscreen?null:1140,"content-class":"design-library-dialog"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t("header",{staticClass:"design-library-header"},[t("TopBarSection",[t("IconButton",{attrs:{icon:"HouseIcon",size:"18",title:"Go home"},on:{click:e.goHome}})],1),t("TopBarSection",{attrs:{"border-left":!0,"border-right":!0}},[t("DesignProviderDropdown",{attrs:{providers:e.providers},model:{value:e.selectedProvider,callback:function(t){e.selectedProvider=t},expression:"selectedProvider"}})],1),t("TopBarSection",{staticClass:"design-library-breakpoint-chooser ml-auto mr-auto",attrs:{"border-left":!0,"border-right":!0}},[t("BreakpointsSelection",{model:{value:e.breakpoint,callback:function(t){e.breakpoint=t},expression:"breakpoint"}})],1),t("TopBarSection",{staticClass:"ml-auto pr-2",attrs:{"border-right":!0}},[t("NiceButton",{attrs:{disabled:!e.canImportAll,"left-icon":"ArrowDownToLine",loading:e.importingPage},on:{click:e.importAll}},[e._v(" Import Page ")])],1),t("TopBarSection",[t("IconButton",{attrs:{icon:e.fullscreen?"DownLeftAndUpRightToCenter":"UpRightAndDownLeftFromCenter",size:"18",title:"Make modal full screen"},on:{click:e.toggleFullscreen}}),e.selectedUrl?t("a",{attrs:{href:e.selectedUrl,target:"_blank"}},[t("IconButton",{attrs:{icon:"ShareFromSquareIcon",size:"18",title:"Visit site"}})],1):e._e()],1),t("TopBarSection",{attrs:{"border-left":!0}},[t("IconButton",{attrs:{icon:"CloseIcon",size:"18",title:"Close modal"},on:{click:e.close}})],1)],1),t("div",{staticClass:"design-library-contents"},[t("DesignLibrarySidebar",{attrs:{items:e.sidebarItems},on:{select:e.onPostSelected}}),t("div",{ref:"iframeWrapper",staticClass:"design-library-iframe-wrapper"},[e.previewLoaded?[t("DesignLibraryDependencyWarning",{attrs:{provider:e.selectedProvider,"relies-on-global-settings":e.reliesOnGlobalSettings,"relies-on-design-presets":e.reliesOnDesignPresets}})]:e._e(),t("ProOnlyAlertBox",{attrs:{options:{feature:"design-library",content:"Soon, the Design Library will only be available in the pro version. For now, enjoy your free preview!"}}}),e.showPasswordForm?t("DesignLibraryPassword",{attrs:{provider:e.selectedProvider,compact:!0},on:{"password-validated":e.getAllProvidersAndReloadSelected}}):t("div",{staticClass:"design-library-iframe-inner-wrapper",style:e.iframeWrapperStyles},[e.selectedProvider&&e.iframeUrl?t("iframe",{ref:"iframe",staticClass:"design-library-iframe",style:e.iframeStyles,attrs:{src:e.iframeUrl},on:{load:e.onProviderLoaded}}):e._e()]),e.previewLoaded?t(OC.Z,{attrs:{value:e.loading,absolute:""}},[t(bp.Z,{attrs:{indeterminate:"",size:"64"}})],1):e._e(),!e.previewLoaded&&e.selectedProvider?t("DesignLibrarySkeleton"):e._e()],2)],1)])},LC=[],NC=n(65118),RC=n(75031),FC=function(){var e=this;e._self._c;return e._m(0)},VC=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"design-library-skeleton-loader"},[t("span",{staticClass:"design-library-skeleton-header"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})]),t("span",{staticClass:"design-library-skeleton-hero"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})]),t("div",{staticClass:"design-library-skeleton-button"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})])])}];let $C=(0,l.wA)(MC=class extends s.ZP{})||MC;const WC=$C;var UC=(0,N.Z)(WC,FC,VC,!1,null,null,null);const zC=UC.exports;var HC=n(33356),GC=n(12817),qC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("aside",{staticClass:"design-library-sidebar"},[t("header",{staticClass:"design-library-sidebar-header"},[t("SearchInput",{attrs:{placeholder:"Search...",autofocus:!0,small:!0},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e.types.length?t("DropdownInput",{attrs:{items:e.types,placeholder:"Filter by type",clearable:!0},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}}):e._e()],1),t(GC.Z,{attrs:{hoverable:"",activatable:"","open-on-click":"",items:e.treeItems,"open-all":!!e.searchQuery},on:{"update:active":function(t){return e.$emit("select",t)}},scopedSlots:e._u([{key:"prepend",fn:function({item:n,open:s}){return[n.children?t("Icon",{attrs:{icon:s?"FolderOpenIcon":"FolderIcon"}}):e._e()]}}])})],1)},KC=[],jC=n(74221);let XC=class extends s.ZP{constructor(){super(...arguments),this.searchQuery="",this.selectedType=""}onItemsChange(){this.searchQuery="",this.selectedType=""}get filteredItems(){const e=this.searchQuery;if(!e)return this.items.filter(this.filterItemByType);const t=new jC.Z(this.items,{keys:["name"],threshold:.2});return t.search(e.trim()).map((e=>e.item)).filter(this.filterItemByType)}get types(){const e=[...new Set(this.items.map((e=>e.type)))].filter(Boolean);return e.map((e=>({value:e,text:g()(e?.replace("breakdance_",""))})))}get treeItems(){const e=[],t=this.filteredItems.reduce(((t,n)=>(n.tags.length?n.tags.forEach((e=>{t[e]=t[e]||[],t[e].push(n)})):e.push(n),t)),Object.create(null)),n=Object.keys(t).map((e=>({id:e,name:e,children:t[e]})));return[...e,...n]}filterItemByType(e){return!this.selectedType||e.type===this.selectedType}};(0,r.gn)([(0,l.fI)({default(){return[]}})],XC.prototype,"items",void 0),(0,r.gn)([(0,l.RL)("items")],XC.prototype,"onItemsChange",null),XC=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,AlertBox:ag.Z,SearchInput:xd.Z,Icon:He.Z}})],XC);const YC=XC,QC=YC;var JC=(0,N.Z)(QC,qC,KC,!1,null,null,null);const ew=JC.exports;var tw=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isInlineImportEnabled?t("div",[t("div",{staticClass:"design-library-global-settings-warning"},[t("div",[t("div",{staticClass:"design-library-global-settings-warning-text"},[e.wasPreviouslyImported?[t("Icon",{staticClass:"design-library_success-icon",attrs:{icon:"CheckSquareIcon"}}),e._v(" You've already imported settings from this Design Library. ")]:[t("Icon",{staticClass:"design-library_warning-icon",attrs:{icon:"ExclamationMarkCircleIcon"}}),t("span",[e._v(" This design set relies on "+e._s(e.items)+". It won't look the same unless you import them. ")])]],2)]),t("NiceButton",{on:{click:e.toggleImportScreen}},[e._v("Import Settings")])],1),e.showImportScreen?t("div",{staticClass:"design-library-import-global-settings-panel"},[t("div",{staticClass:"design-library-import-global-settings-panel-content"},[e.loading?t("div",[t("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[t("span",[e._v(" Importing from this design set will replace some of your current settings. ")]),e.availableImportTypesCount>1?t("div",{staticClass:"import-options"},[t("h4",[e._v("Choose what to import:")]),t("div",{staticClass:"checkbox-group"},[e.isGlobalSettingsEnabled()?t(fm.Z,{staticClass:"checkbox-item",attrs:{label:"Global Settings","hide-details":""},model:{value:e.selectedItems.globalSettings,callback:function(t){e.$set(e.selectedItems,"globalSettings",t)},expression:"selectedItems.globalSettings"}}):e._e(),e.isDesignPresetsEnabled()?t(fm.Z,{staticClass:"checkbox-item",attrs:{label:"Design Presets","hide-details":""},model:{value:e.selectedItems.designPresets,callback:function(t){e.$set(e.selectedItems,"designPresets",t)},expression:"selectedItems.designPresets"}}):e._e(),e.isVariablesEnabled()?t(fm.Z,{staticClass:"checkbox-item",attrs:{label:"Variables","hide-details":""},model:{value:e.selectedItems.variables,callback:function(t){e.$set(e.selectedItems,"variables",t)},expression:"selectedItems.variables"}}):e._e(),e.isOxySelectorsEnabled()?t(fm.Z,{staticClass:"checkbox-item",attrs:{label:"Selectors","hide-details":""},model:{value:e.selectedItems.oxySelectors,callback:function(t){e.$set(e.selectedItems,"oxySelectors",t)},expression:"selectedItems.oxySelectors"}}):e._e()],1)]):e._e(),t("div",[t(Do.Z,{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportScreen}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{dark:"",color:"blue",disabled:!e.hasSelectedItems},on:{click:e.importSelectedItems}},[e._v(" Confirm Overwrite & Import ")])],1)]],2)]):e._e()]):e._e()},nw=[],sw=n(14018),iw=n(17582),ow=n(22218),aw=n(58720);const rw={globalSettings:{key:"globalSettings",label:"Global Settings",action:"breakdance_get_external_global_settings",decoder:RC.az,storeKey:"globalSettingsLastImportedFromUrl",setter:e=>c.globalStore.setGlobalSettings(e?.globalSettings),uiPanel:"globalSettings"},designPresets:{key:"designPresets",label:"Design Presets",action:"breakdance_get_external_design_presets",decoder:sw.p,storeKey:"designPresetsLastImportedFromUrl",setter:e=>c.globalStore.setPresets(e),uiPanel:"presets"},variables:{key:"variables",label:"Variables",action:"breakdance_get_external_variables",decoder:kd.dt({variables:iw.eh,collections:kd.IX(kd.Z_)}),storeKey:"variablesLastImportedFromUrl",setter:e=>{c.globalStore.setVariables(e.variables),c.globalStore.setVariablesCollections(e.collections)},uiPanel:"variables"},oxySelectors:{key:"oxySelectors",label:"Selectors",action:"breakdance_get_external_oxy_selectors",decoder:kd.dt({selectors:kd.IX(ow.En),collections:kd.IX(kd.Z_)}),storeKey:"oxySelectorsLastImportedFromUrl",setter:e=>{console.log("importing selectors",e),c.globalStore.setOxygenSelectors(e.selectors),c.globalStore.setOxygenSelectorsCollections(e.collections)},uiPanel:null}};let lw=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.showImportScreen=!1,this.selectedItems=this.getDefaultSelectedItems()}get isInlineImportEnabled(){return!!this.provider&&(!this.provider.isLocal&&(!!this.wasPreviouslyImported||this.hasAvailableImportTypes))}get wasPreviouslyImported(){const e=this.provider?.url,t=this.providerData,n=["globalSettingsLastImportedFromUrl","designPresetsLastImportedFromUrl","variablesLastImportedFromUrl","oxySelectorsLastImportedFromUrl"];return n.some((n=>t?.[n]===e))}get providerData(){return c.configStore.designLibrary}get hasAvailableImportTypes(){return this.isGlobalSettingsEnabled()||this.isDesignPresetsEnabled()||this.isVariablesEnabled()||this.isOxySelectorsEnabled()}get availableImportTypesCount(){return[this.isGlobalSettingsEnabled(),this.isDesignPresetsEnabled(),this.isVariablesEnabled(),this.isOxySelectorsEnabled()].filter(Boolean).length}get hasSelectedItems(){return Object.values(this.selectedItems).some((e=>e))}get items(){const e=[];return this.isGlobalSettingsEnabled()&&e.push("Global Settings"),this.isDesignPresetsEnabled()&&e.push("Design Presets"),this.isVariablesEnabled()&&e.push("Variables"),this.isOxySelectorsEnabled()&&e.push("Selectors"),this.formatItemsList(e)}getDefaultSelectedItems(){return{globalSettings:this.isGlobalSettingsEnabled(),designPresets:this.isDesignPresetsEnabled(),variables:this.isVariablesEnabled(),oxySelectors:this.isOxySelectorsEnabled()}}isGlobalSettingsEnabled(){return this.providerData?.isGlobalSettingsEnabled&&this.reliesOnGlobalSettings}isDesignPresetsEnabled(){return this.providerData?.isDesignPresetsEnabled&&this.reliesOnDesignPresets}isVariablesEnabled(){return this.providerData?.isVariablesEnabled}isOxySelectorsEnabled(){return this.providerData?.isOxySelectorsEnabled}formatItemsList(e){return e.length<=1?e.join(""):2===e.length?e[0]+" and "+e[1]:e.slice(0,-1).join(", ")+", and "+e[e.length-1]}getProviderDisplayName(){return this.provider?.name||this.provider?.url||"Unknown"}resetSelectedItems(){this.selectedItems=this.getDefaultSelectedItems()}toggleImportScreen(){this.showImportScreen=!this.showImportScreen,this.showImportScreen&&this.resetSelectedItems()}async importSelectedItems(){if(this.provider?.isLocal)return;this.loading=!0;const e=Object.entries(this.selectedItems).filter((([e,t])=>t)).map((([e])=>this.importType(e)));await Promise.all(e),this.loading=!1,this.showImportScreen=!1,this.resetSelectedItems()}async importType(e){const t=rw[e],n=this.provider?.url;if(!t.action)return;if(!n)return;const s=(0,Id.zG)(await(0,Ec.D)({action:t.action,decoder:t.decoder,friendlyName:`${t.label} for "${n}"`,dataToPost:{url:n}}),(0,Ed.g_)((()=>!1),(e=>(t.storeKey&&c.configStore.setDesignLibrary({...c.configStore.designLibrary,[t.storeKey]:n}),e))));!1!==s&&null!==s?(t.setter?.(s),t.uiPanel&&c.uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(t.uiPanel,!1),Ac.Z.log.message(`Imported ${t.label} from "${this.getProviderDisplayName()}"`)):Ac.Z.log.errorMessage(`Error importing ${t.label} for "${this.getProviderDisplayName()}"`)}};(0,r.gn)([(0,l.fI)({default:null})],lw.prototype,"provider",void 0),(0,r.gn)([(0,l.fI)({default:!1})],lw.prototype,"reliesOnGlobalSettings",void 0),(0,r.gn)([(0,l.fI)({default:!1})],lw.prototype,"reliesOnDesignPresets",void 0),lw=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z,LoadingSpinner:aw.Z}})],lw);const cw=lw,dw=cw;var uw=(0,N.Z)(dw,tw,nw,!1,null,null,null);const pw=uw.exports;var hw=n(92260),gw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser"},n),[t("div",{staticClass:"document-chooser-text"},["breakdance"===e.builderMode?t("h2",[e._v("Design Set")]):e._e(),"oxygen"===e.builderMode?t("span",{staticClass:"document-chooser-type-label"},[t("span",[e._v("Design Set:")])]):e._e(),t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.value&&e.value.name)+" ")])]),t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(bc.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"300",height:"350"}},[t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(Sc.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(Kl.Z,{ref:"scrollable",staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.filteredProviders,(function(n,s){return[t(jl.Z,{key:s,class:{"document-chooser-item-selected":e.value&&n.url===e.value.url},attrs:{link:""},on:{click:function(t){return e.chooseProvider(n)}}},[t(Xl.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(n.name)+" ")]),n.type?t("div",{staticClass:"previewable-item-type"},[e._v(" "+e._s(e.formatType(n.type))+" ")]):e._e()])],1)]}))],2)],1)],1)},mw=[];let vw=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search=""}onSearchChange(){const e=this.$refs.scrollable;this.$nextTick((()=>{e.$el.scrollTop=0}))}get builderMode(){return c.configStore.builderMode}get filteredProviders(){return this.search?this.providers.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase()))):this.providers}formatType(e){return e.replace(/_/g," ")}chooseProvider(e){this.$emit("input",e),this.open=!1,(0,Tt.K)("Design Library",{action:"modal_provider_selected",provider:e.name})}};(0,r.gn)([(0,l.fI)()],vw.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],vw.prototype,"providers",void 0),(0,r.gn)([(0,l.RL)("search")],vw.prototype,"onSearchChange",null),vw=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,Dropdown:Jl.Z,TopBarSection:hc}})],vw);const fw=vw,yw=fw;var bw=(0,N.Z)(yw,gw,mw,!1,null,null,null);const Sw=bw.exports;var _w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"design-library-global-settings-warning"},[t("div",[t("div",{staticClass:"design-library-global-settings-warning-text"},[e.lastImportedFromUrl===e.provider?.url?[t("Icon",{staticClass:"design-library_success-icon",attrs:{icon:"CheckSquareIcon"}}),e._v(" You've already imported the Design Presets from this site. ")]:e.lastImportedFromUrl?[t("Icon",{staticClass:"design-library_warning-icon",attrs:{icon:"ExclamationMarkCircleIcon"}}),t("span",[e._v(" This design relies on Design Presets. It won't look the same unless you import them. ")])]:[t("div",[e._v(" This design relies on Design Presets. It won't look the same unless you import them. ")])]],2)]),t("NiceButton",{on:{click:e.toggleImportScreen}},[e._v(" Import Design Presets ")])],1),e.showImportScreen?t("div",{staticClass:"design-library-import-global-settings-panel"},[e.loading?t("div",[t("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[t("span",[e._v(" Your existing Design Presets will be overwritten with the Presets from this library website. ")]),t("div",[t(Do.Z,{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportScreen}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{dark:"",color:"blue"},on:{click:e.importSettings}},[e._v(" Confirm Overwrite & Import ")])],1)]],2):e._e()])},xw=[];let Cw=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.showImportScreen=!1}async importSettings(){if(this.provider?.isLocal)return;this.loading=!0;const e=this.provider?.url,t=(0,Id.zG)(await(0,Ec.D)({action:"breakdance_get_external_design_presets",decoder:sw.p,friendlyName:`Design Presets for "${e}"`,dataToPost:{url:e}}),(0,Ed.g_)((()=>null),(t=>(e&&Q.PK.setDesignLibrary({...Q.PK.designLibrary,designPresetsLastImportedFromUrl:e}),t))));this.loading=!1,this.showImportScreen=!1,t?(Q.cr.setPresets(t),Q.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("presets",!1),Ac.Z.log.message(`Imported Design Presets from "${this.provider?.name||this.provider?.url}"`)):Ac.Z.log.errorMessage(`Error importing Design Presets for "${this.provider?.name||this.provider?.url}"`)}toggleImportScreen(){this.showImportScreen=!this.showImportScreen}};(0,r.gn)([(0,l.fI)({default:null})],Cw.prototype,"provider",void 0),(0,r.gn)([(0,l.fI)({default:null})],Cw.prototype,"lastImportedFromUrl",void 0),Cw=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z,LoadingSpinner:aw.Z}})],Cw);const ww=Cw,Pw=ww;var Iw=(0,N.Z)(Pw,_w,xw,!1,null,null,null);const kw=Iw.exports;var Ew=n(80265);let Tw=class extends s.ZP{constructor(){super(...arguments),this.selectedProvider=null,this.selectedPostId=null,this.providerElements=[],this.reliesOnGlobalSettings=!1,this.reliesOnDesignPresets=!1,this.providerPosts=[],this.importingPage=!1,this.requiresPassword=!1,this.passwordValid=!0,this.breakpoint={id:Ie.Wp,label:"",minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:Ie.kS},this.canvasSize={width:0,height:0},this.loading=!1,this.previewLoaded=!1,this.fullscreen=!1,this.loadingDesignSetData=!1}mounted(){Q.kD.hasFullAccess&&(qe.uq.register(Ke.r.CMD_B,this.open),this.setSelectedProviderToLastUsedProvider())}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_B),this.unbindListeners()}get library(){return Q.PK.designLibrary}get providers(){return this.library.designProviders}get showPasswordForm(){return this.requiresPassword&&!this.passwordValid}setSelectedProviderToLastUsedProvider(){const e=(0,Ea.f8)(),t=this.providers.find((t=>t.url===e));if(t)this.selectedProvider=t;else{const e=this.providers.find((e=>"This Website"===e.name));e&&(this.selectedProvider=e)}}get sidebarItems(){return this.providerPosts}get isOpen(){return Q.kD.panelState.designLibraryModalOpen}set isOpen(e){Q.kD.setDesignLibraryModalState(e)}get selectedPost(){return this.providerPosts.find((e=>e.id===this.selectedPostId))}get selectedUrl(){return this.selectedPost?.url||this.selectedProvider?.url}get iframeUrl(){if(!this.selectedUrl)return null;const e=new URL(this.selectedUrl);return e.searchParams.append("breakdance","design-library"),this.currentProviderPassword&&e.searchParams.set("password",this.currentProviderPassword),e.toString()}get previewWidth(){return this.breakpoint.id===Ie.Wp?"100%":this.breakpoint.defaultPreviewWidth}get minWidth(){return(0,Ie.GV)(Q.cr)}get iframeWrapperStyles(){return{width:"100%"===this.previewWidth?"100%":`${this.previewWidth}px`}}get iframeStyles(){const e=e=>{const t=Math.min(1,this.canvasSize.width/e);return{width:`${e}px`,transform:`scale(${t})`,height:this.canvasSize.height*(1/t)+"px"}};return"100%"===this.previewWidth?this.canvasSize.width<this.minWidth?e(this.minWidth):{width:"100%",minWidth:`${this.minWidth}px`}:e(this.previewWidth)}get canImportAll(){return this.providerElements.length}get currentProviderPassword(){const e=new URL(this.selectedProvider?.url||"");return e.searchParams.get("password")}onDialogOpen(){this.isOpen?this.modalOpened():this.unbindListeners()}onProviderChange(e,t){this.providerElements=[],this.selectedPostId=null,this.providerPosts=[],this.reliesOnGlobalSettings=!1,this.reliesOnDesignPresets=!1,this.getDesignSetData(),e.url!==t?.url&&(this.previewLoaded=!1)}modalOpened(){this.selectedProvider||(this.selectedProvider=this.providers[1]),(0,Tt.K)("Design Library",{action:"modal_opened"}),this.calculateSizeAfterTransition(),window.addEventListener("message",this.handleIframeMessage,!1),window.addEventListener("resize",this.setCanvasSize)}unbindListeners(){window.removeEventListener("message",this.handleIframeMessage,!1),window.removeEventListener("resize",this.setCanvasSize)}calculateSizeAfterTransition(){const e=400;setTimeout((()=>this.setCanvasSize()),e)}setCanvasSize(){const e=this.$refs.iframeWrapper;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();this.canvasSize={width:t,height:n}}reloadIframe(){const e=this.$refs.iframe;e?(e.src+="",this.loading=!0):this.selectedProvider=this.providers[0]}goHome(){this.selectedPostId=null,this.reloadIframe()}toggleFullscreen(){this.fullscreen=!this.fullscreen,this.calculateSizeAfterTransition()}handleIframeMessage(e){if("string"!==typeof e.data)return;const[t,n]=e.data.split(/,(.*)/s);"breakdanceGetElements"===t&&this.getElements(n),"breakdanceImportElement"===t&&this.importElement(n),"breakdanceBeforeLeave"===t&&this.navigatedAway()}onPostSelected(e){const[t]=e;this.loading=!0,this.selectedPostId=t||null,this.reloadIframe(),(0,Tt.K)("Design Library",{action:"modal_page_selected",provider:this.selectedProvider?.name,post_id:t})}onProviderLoaded(){this.previewLoaded=!0,this.loading=!1,this.setCanvasSize()}getElements(e){this.loading=!1;const t=(0,NC.Z)(e,kd.IX(RC.NM));this.providerElements=(0,Id.zG)(t,(0,Ed.g_)((()=>[]),(e=>e)))}navigatedAway(){this.loading=!0}importElement(e){const t=(0,NC.Z)(e,RC.NM),n=(0,Id.zG)(t,(0,Ed.g_)((()=>null),(e=>e)));n&&((0,Tt.K)("Design Library",{action:"modal_import_element",provider:this.selectedProvider?.name,elementSlug:n.data.type}),this.insertElements([n]),this.close(),this.$nextTick((()=>{(0,HC.zE)()})))}insertElements(e){(0,Ea.AE)(e),this.selectedProvider&&(0,Ea.Hw)(this.selectedProvider.url)}importAll(){this.importingPage=!0,this.insertElements(this.providerElements),this.close(),this.importingPage=!1,this.$nextTick((()=>{(0,HC.zE)()}))}close(){Q.kD.setDesignLibraryModalState(!1)}open(){Q.kD.setDesignLibraryModalState(!0)}async getDesignSetData(){const e=this.selectedProvider?.url;this.loadingDesignSetData=!0,(0,Id.zG)(await(0,Ec.D)({action:this.selectedProvider?.isLocal?"breakdance_get_local_design_set":"breakdance_get_external_design_set",decoder:hw.i2,friendlyName:"Design Set Data",dataToPost:{url:e}}),(0,Ed.g_)((()=>{this.providerPosts=[]}),(e=>{this.providerPosts=e.posts,this.requiresPassword=e.requiresPassword||!1,this.passwordValid=!!e.passwordValid,this.reliesOnGlobalSettings=e.reliesOnGlobalSettings,this.reliesOnDesignPresets=e.reliesOnDesignPresets}))),this.loadingDesignSetData=!1}async getAllProvidersAndReloadSelected(){await this.getUpdatedDesignProviders();const e=this.providers.find((e=>e.name===this.selectedProvider?.name));this.selectedProvider=e||this.providers[0]}async getUpdatedDesignProviders(){(0,Id.zG)(await(0,Ec.D)({action:"breakdance_get_design_library_data",decoder:hw.Jd}),(0,Ed.g_)((()=>{}),(e=>{Q.PK.setDesignLibrary(e)})))}};(0,r.gn)([(0,l.RL)("isOpen")],Tw.prototype,"onDialogOpen",null),(0,r.gn)([(0,l.RL)("selectedProvider")],Tw.prototype,"onProviderChange",null),Tw=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:rg.Z,IconButton:Ia.Z,NiceButton:Cd.Z,DesignLibrarySidebar:ew,DesignLibrarySkeleton:zC,TopBarSection:hc,TextInput:Oo.Z,DropdownInput:zc.Z,BreakpointsSelection:ic,DesignProviderDropdown:Sw,DesignLibraryPassword:Ew.Z,DesignLibraryDependencyWarning:pw,DesignLibraryDesignPresets:kw}})],Tw);const Dw=Tw,Aw=Dw;var Zw=(0,N.Z)(Aw,BC,LC,!1,null,null,null);const Mw=Zw.exports;var Ow=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(U_.Z,{staticClass:"breakdance-panel-header d-flex align-center",attrs:{tile:""}},[t("div",{staticClass:"breakdance-panel-header-title"},[e._t("default")],2),t(Nl.Z),e._t("right"),e.backInsteadOfClose?t("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"ChevronDownIcon",rotate:"90",size:"12",small:""},on:{click:e.close}}):t("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"CloseIcon",size:"breakdance"===e.builderMode?16:14,small:""},on:{click:e.close}})],2)},Bw=[];let Lw=class extends l.w3{close(){this.$emit("close")}get builderMode(){return c.configStore.builderMode}};(0,r.gn)([(0,l.fI)({default:!1})],Lw.prototype,"backInsteadOfClose",void 0),Lw=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z}})],Lw);const Nw=Lw,Rw=Nw;var Fw=(0,N.Z)(Rw,Ow,Bw,!1,null,null,null);const Vw=Fw.exports;let $w=class extends s.ZP{close(){(0,iu.TO)("add")}openDesignLibrary(){Q.kD.setDesignLibraryModalState(!0)}get state(){return Q.PK.elementsLoadingState}get builderMode(){return Q.PK.builderMode}};$w=(0,r.gn)([(0,l.wA)({components:{DesignLibraryModal:Mw,PanelHeader:Vw,ElementsList:ZC,IconButton:Ia.Z}})],$w);const Ww=$w,Uw=Ww;var zw=(0,N.Z)(Uw,mC,vC,!1,null,null,null);const Hw=zw.exports;var Gw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll global-settings-panel"},[t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("ImportExportDropdownMenu",{attrs:{name:"Global Settings","settings-to-export":e.settingsToExport,"validate-settings":e.validateImport,"import-settings":e.importSettings}})]},proxy:!0}])},[e._v(" Globals "),t("BrowseModeToggle",{attrs:{"panel-to-open":"globalSettings"}}),t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),"controls"===e.viewMode?t("GlobalSettingsPanelControlsViewMode",{attrs:{"is-loading":e.isLoading}}):"history"===e.viewMode?t("GlobalSettingsPanelHistoryViewMode"):e._e()],1)])},qw=[],Kw=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isBrowseModeAvailable?t("PanelHeaderButton",{attrs:{enabled:e.isBrowseModeEnabled},on:{click:e.toggleBrowseMode}},[e._v("browse")]):e._e()},jw=[],Xw=n(89381),Yw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"breakdance-panel-header-button":!0,"breakdance-panel-header-button--enabled":e.enabled},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},Qw=[];let Jw=class extends l.w3{};(0,r.gn)([(0,l.fI)({default:!0})],Jw.prototype,"enabled",void 0),Jw=(0,r.gn)([(0,l.wA)({components:{}})],Jw);const eP=Jw,tP=eP;var nP=(0,N.Z)(tP,Yw,Qw,!1,null,null,null);const sP=nP.exports;let iP=class extends s.ZP{get isBrowseModeEnabled(){return"browse"===c.uiStore.mode?.mode}get isBrowseModeAvailable(){return"breakdance"===c.configStore.builderMode}toggleBrowseMode(){(0,Xw.lD)(this.panelToOpen)}};(0,r.gn)([(0,l.fI)({default:"globalSettings"})],iP.prototype,"panelToOpen",void 0),iP=(0,r.gn)([(0,l.wA)({components:{PanelHeaderButton:sP}})],iP);const oP=iP,aP=oP;var rP=(0,N.Z)(aP,Kw,jw,!1,null,null,null);const lP=rP.exports;var cP=n(38433),dP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.isLoading?t(cP.Z,{attrs:{"justify-center":"","align-center":""}},[t(bp.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):[e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"settings"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[""!==e.searchBoxState.query?t("div",{staticClass:"control-tree-search-term"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(U_.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"settings"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"settings"},on:{input:e.updateSearchBoxState}})]],2)},uP=[],pP=n(18759);let hP=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.editingGlobalSettingsControlsTreeContext=mP}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get controls(){return Q.PK.globalSettingsControlsAndTemplate.controls}get controlsFilteredBySearchParams(){return $x(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingGlobalSettingsControlsTreeContext,"settings")}get noSearchResults(){return 0===Ux(this.controlsFilteredBySearchParams,0)}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}};(0,r.gn)([(0,l.fI)({default:!1})],hP.prototype,"isLoading",void 0),(0,r.gn)([(0,l.DF)("context")],hP.prototype,"editingGlobalSettingsControlsTreeContext",void 0),hP=(0,r.gn)([(0,l.wA)({components:{ControlsTree:K_["default"],SearchBox:lx,Icon:He.Z,SearchBoxEmptyState:Xx}})],hP);const gP=hP,mP={getControlValue:e=>K()(Q.cr.globalSettings,e),setControlValue(e,t,n,s){Q.cr.throttledGlobalSettingsPropertyChange((0,av.YO)({path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},getControls:()=>Q.PK.globalSettingsControlsAndTemplate.controls,setAccordionState:(e,t)=>{(0,pP.v)(e,t)},getAccordionState:e=>(0,pP.uz)(e)},vP=gP;var fP=(0,N.Z)(vP,dP,uP,!1,null,null,null);const yP=fP.exports;var bP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},SP=[],_P=n(95996);async function xP(){return(0,Id.zG)(await(0,Ec.D)({action:"breakdance_retrieve_global_settings_revisions",decoder:_P.qT}),(0,kc.mapLeft)((()=>null)),Ed.i$)}var CP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-revisions-list vscroll-wrap vscroll-scroll"},[e.isLoading?t(cP.Z,{attrs:{"justify-center":"","align-center":""}},[t(bp.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.revisionsNotSupportedMessage?t("div",{staticClass:"breakdance-revisions-list__not-found"},[t("p",[e._v(e._s(e.revisionsNotSupportedMessage))])]):e.revisions.length?t("div",{staticClass:"breakdance-revisions-list__items"},e._l(e.revisions,(function(n,s){return t("RevisionItem",{key:n.revisionData.id,attrs:{revision:n.revisionData,selected:n.isSelected},on:{click:function(t){return e.onRevisionSelected(n,s)}}})})),1):t("div",{staticClass:"breakdance-revisions-list__not-found"},[t("h2",[e._v("No revisions found")]),t("p",[e._v("Save any changes to create a new revision")])])],1)},wP=[],PP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"revisions-item",class:{"revisions-item--selected":e.selected},on:{click:function(t){return e.$emit("click",e.revision)}}},[t("span",{staticClass:"revisions-item__date"},[e._v(e._s(e.revision.date))]),e.revision.author?[t("span",[e._v(e._s(e.revision.author))])]:e._e()],2)},IP=[];let kP=class extends s.ZP{};(0,r.gn)([(0,l.fI)({default(){return{}}})],kP.prototype,"revision",void 0),(0,r.gn)([(0,l.fI)({default:!1})],kP.prototype,"selected",void 0),kP=(0,r.gn)([(0,l.wA)({})],kP);const EP=kP,TP=EP;var DP=(0,N.Z)(TP,PP,IP,!1,null,null,null);const AP=DP.exports;let ZP=class extends s.ZP{onRevisionSelected(e,t){this.$emit("revisionSelected",e,t)}};(0,r.gn)([(0,l.fI)({default:!1})],ZP.prototype,"isLoading",void 0),(0,r.gn)([(0,l.fI)({default:[]})],ZP.prototype,"revisions",void 0),(0,r.gn)([(0,l.fI)({default:null})],ZP.prototype,"revisionsNotSupportedMessage",void 0),ZP=(0,r.gn)([(0,l.wA)({components:{RevisionItem:AP}})],ZP);const MP=ZP,OP=MP;var BP=(0,N.Z)(OP,CP,wP,!1,null,null,null);const LP=BP.exports;var NP=n(25886);let RP=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!1,this.remoteRevisions=null,this.selectedIndex=null,this.unsubscribeFromStore=()=>{},this.currentUnsavedRevision=null}async beforeMount(){await this.loadRemoteRevisions(),Q.cr.settingsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,NP.q$)(e);"global"===t&&"global/restoreGlobalSettingsRevision"!==e.type&&"global/setSelectors"!==e.type&&("global/setGlobalSettings"===e.type?this.currentUnsavedRevision=null:this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}))}beforeDestroy(){this.unsubscribeFromStore()}async loadRemoteRevisions(){this.isLoading=!0,this.remoteRevisions=await xP(),this.selectedIndex=null,this.isLoading=!1}recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}findSelectedIndexBasedOnStoreDataMatch(){const e=(0,Gc.Z)(Q.cr.globalSettings);return this.revisions.findIndex((t=>Ep()(t.globalSettings,e)))}setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData(){if(null===this.remoteRevisions||0===this.remoteRevisions.length)return!1;const[e]=this.remoteRevisions,t=(0,Gc.Z)(Q.cr.globalSettings);return Ep()(e.globalSettings,t)}setCurrentUnsavedRevisionFromCurrentStoreData(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",globalSettings:(0,Gc.Z)(Q.cr.globalSettings)}}get revisionUiItems(){return this.revisions.map(((e,t)=>({isSelected:t===this.selectedIndex,revisionData:e})))}get revisions(){const e=this.remoteRevisions??[];return this.currentUnsavedRevision?[this.currentUnsavedRevision,...e]:e}onRevisionSelected(e,t){this.selectedIndex=t,Pe.n.transaction((()=>Q.cr.restoreGlobalSettingsRevision(e.revisionData)),"Restore Global Settings From Revision")}get unsavedChangesPresent(){return Q.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){Q.kD.unsavedChangesPresent||(await this.loadRemoteRevisions(),this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],RP.prototype,"updateRevisionsAfterSaving",null),RP=(0,r.gn)([(0,l.wA)({components:{RevisionsList:LP}})],RP);const FP=RP,VP=FP;var $P=(0,N.Z)(VP,bP,SP,!1,null,null,null);const WP=$P.exports;var UP=n(1073),zP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({class:"breakdance"===e.builderMode?"breakdance-panel-header-left-of-close-button":"",attrs:{size:"breakdance"===e.builderMode?16:14,small:"",icon:"breakdance"===e.builderMode?"EllipsisStrokeIcon":"EllipsisSolidIcon"}},n))]}}])},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:e.openImportDialog}},[t(Xl.V9,[e._v(" Import "+e._s(e.name)+" ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.exportSettings}},[t(Xl.V9,[e._v(" Export "+e._s(e.name)+" ")])],1)],1)],1),t("Dialog",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Import "+e._s(e.name)+" ")]},proxy:!0},{key:"text",fn:function(){return[t("FileUpload",{attrs:{height:"300px",accept:".json",acceptsMultiple:!1},on:{input:e.handleFiles}},[e.canImport?[e._v(" File accepted ")]:[e._v(" Drag "+e._s(e.slugifiedName)+".json here ")]],2),e.canMerge?t(fm.Z,{attrs:{label:`Merge with the existing ${e.name}.`,"hide-details":""},model:{value:e.merge,callback:function(t){e.merge=t},expression:"merge"}}):e._e()]},proxy:!0},{key:"actions",fn:function(){return[t(Do.Z,{staticStyle:{"margin-right":"auto"},attrs:{text:""},on:{click:e.cancelImport}},[e._v(" Cancel ")]),t(Do.Z,{attrs:{dark:"",color:"blue",disabled:!e.canImport},on:{click:e.runImport}},[e._v(" Import ")])]},proxy:!0}]),model:{value:e.importDialogOpen,callback:function(t){e.importDialogOpen=t},expression:"importDialogOpen"}})],1)},HP=[],GP=n(88506);function qP(e,t,n="text/plain"){const s=new Blob([e],{type:n}),i=document.createElement("a");i.download=t,i.href=(window.webkitURL||window.URL).createObjectURL(s),i.dataset.downloadurl=[n,i.download,i.href].join(":"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(i.href)}let KP=class extends l.w3{constructor(){super(...arguments),this.canImport=!1,this.importDialogOpen=!1,this.settingsToImport={},this.merge=!1}get slugifiedName(){return Iy()(this.name,{lower:!0})}openImportDialog(){this.importDialogOpen=!0}cancelImport(){this.settingsToImport={},this.canImport=!1,this.importDialogOpen=!1}handleFiles(e){const t=e?.[0],n=new FileReader;n.onloadend=async e=>{if(!e?.target)return;const t=e.target.result,n=(0,Ic.pipe)((0,GP.Z)(t),(0,kc.fold)((()=>{}),(e=>e)));if(!this.validateSettings(n))return this.settingsToImport={},void(this.canImport=!1);this.settingsToImport=n,this.canImport=!0},n.readAsText(t)}runImport(){this.importSettings(this.settingsToImport,this.merge?"merge":"replace"),this.settingsToImport={},this.canImport=!1,this.importDialogOpen=!1}exportSettings(){const e=(0,vg.g)(this.settingsToExport);qP(e||"",`${this.slugifiedName}.json`)}get builderMode(){return c.configStore.builderMode}};(0,r.gn)([(0,l.fI)({default:"Global Settings"})],KP.prototype,"name",void 0),(0,r.gn)([(0,l.fI)()],KP.prototype,"settingsToExport",void 0),(0,r.gn)([(0,l.fI)({default:!1})],KP.prototype,"canMerge",void 0),(0,r.gn)([(0,l.fI)()],KP.prototype,"validateSettings",void 0),(0,r.gn)([(0,l.fI)()],KP.prototype,"importSettings",void 0),KP=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,Dropdown:Jl.Z,Dialog:Mo.Z,FileUpload:$h.Z}})],KP);const jP=KP,XP=jP;var YP=(0,N.Z)(XP,zP,HP,!1,null,null,null);const QP=YP.exports;let JP=class extends s.ZP{constructor(){super(...arguments),this.storedData=null,this.isStoringData=!1,this.isLoadingData=!1}get viewMode(){return Q.kD.panelState.globalSettingsPanelActiveViewMode}toggleViewMode(){Q.kD.setPanelState({...Q.kD.panelState,globalSettingsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get isLoading(){return this.isStoringData||this.isLoadingData}async beforeMount(){Q.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings?(Q.kD.setPanelState({...Q.kD.panelState,globalSettingsPanelActiveViewMode:"controls"}),await this.loadSettings()):Q.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!0)}async storeSettings(){this.isStoringData=!0;const e=await(0,UP.T)();return this.storedData=(0,Gc.Z)(Q.cr.globalSettings),this.isStoringData=!1,e}async loadSettings(){this.isLoadingData=!0;const e=await(0,UP._)();return this.storedData=(0,Gc.Z)(Q.cr.globalSettings),this.isLoadingData=!1,e}get unsavedChangesPresent(){return Q.cr.settingsHasUnsavedChangesPresent}requestPanelClosingConfirmation(){Q.kD.requestClosingConfirmation({subject:"globalSettings",confirmationDefinition:{title:"You have unsaved changes to your Global Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():Q.kD.noClosingConfirmationIsNeededFor("globalSettings")}get confirmationChosenOption(){return Q.kD.closingConfirmations.globalSettings?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(Q.kD.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.loadSettings()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(Q.kD.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.storeSettings()?this.close():this.requestPanelClosingConfirmation())}close(){(0,iu.TO)("globalSettings")}get settingsToExport(){return Q.cr.globalSettings}validateImport(e){return"settings"in e?(0,Id.zG)(e,kd.dt({settings:kd.IM(kd.Z_,kd._4)}).decode,(0,Ed.g_)((()=>(Ac.Z.log.errorMessage("Error importing Global Settings - the file is invalid."),!1)),(()=>!0))):(Ac.Z.log.errorMessage("Error importing Global Settings - the file is invalid or empty."),!1)}importSettings(e){"settings"in e?(Pe.n.transaction((()=>{Q.cr.setGlobalSettings(e)}),"Import Global Settings"),Ac.Z.log.message("Global Settings imported.")):Ac.Z.log.errorMessage("No Global Settings to import.")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],JP.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],JP.prototype,"handleConfirmationChosenOptionChange",null),JP=(0,r.gn)([(0,l.wA)({components:{GlobalSettingsPanelHistoryViewMode:WP,GlobalSettingsPanelControlsViewMode:yP,PanelHeaderButton:sP,BrowseModeToggle:lP,PanelHeader:Vw,ImportExportDropdownMenu:QP}})],JP);const eI=JP,tI=eI;var nI=(0,N.Z)(tI,Gw,qw,!1,null,null,null);const sI=nI.exports;var iI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll selectors-panel"},[e.isLoadingData?t(cP.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(bp.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e._e(),e.activeSelector?t("EditSelector",{on:{close:e.close}}):e._e(),e.activeSelector||e.isLoadingData?e._e():t("ManageSelectors",{on:{close:e.close}})],1)},oI=[],aI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v("Selectors "),t("BrowseModeToggle",{attrs:{"panel-to-open":"selectors"}}),t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),"controls"===e.viewMode?[t("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-selectors"},[t("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{input:e.updateSelectors}})],1)]:"history"===e.viewMode?[t("SelectorsPanelHistoryViewMode")]:e._e()],2)},rI=[],lI=n(98300),cI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex flex-row add-selector"},[t("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),t("NiceButton",{staticClass:"ml-1",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},dI=[],uI=n(37982);let pI=class extends s.ZP{constructor(){super(...arguments),this.newSelectorName=""}addSelector(){this.newSelectorName&&((0,Ic.pipe)((0,uI.DQ)(this.newSelectorName),(0,kc.fold)((e=>e.forEach(Ac.Z.log.message)),(e=>(0,uI.Fr)(e)))),this.newSelectorName="")}};pI=(0,r.gn)([(0,l.wA)({components:{NiceButton:Cd.Z,TextInput:Oo.Z}})],pI);const hI=pI,gI=hI;var mI=(0,N.Z)(gI,cI,dI,!1,null,null,null);const vI=mI.exports;var fI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.selectors,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setSelectors","restore-method":"restoreSelectorsRevision"}})},yI=[];async function bI(){return(0,Id.zG)(await(0,Ec.D)({action:"breakdance_retrieve_selectors_revisions",decoder:_P.Ue}),(0,kc.mapLeft)((()=>null)),Ed.i$)}var SI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})},_I=[];let xI=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!1,this.remoteRevisions=null,this.selectedIndex=null,this.unsubscribeFromStore=()=>{},this.currentUnsavedRevision=null}async updateRevisionsAfterSaving(){this.unsavedChangesPresent||(await this.loadRemoteRevisions(),this.currentUnsavedRevision=null,this.recalculateSelectedIndex())}get unsavedChangesPresent(){return Q.kD.unsavedChangesPresent}get revisionUiItems(){return this.revisions.map(((e,t)=>({isSelected:t===this.selectedIndex,revisionData:e})))}get revisions(){const e=this.remoteRevisions??[];return this.currentUnsavedRevision?[this.currentUnsavedRevision,...e]:e}async beforeMount(){await this.loadRemoteRevisions(),this.resourceHasUnsavedChangesPresent&&(this.recalculateSelectedIndex(),-1===this.selectedIndex&&this.updateUnsavedRevisionIfNeeded()),this.recalculateSelectedIndex(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,NP.q$)(e);"global"===t&&e.type!==`global/${this.restoreMethod}`&&"global/setGlobalSettings"!==e.type&&(e.type===`global/${this.updateMethod}`?this.currentUnsavedRevision=null:this.updateUnsavedRevisionIfNeeded(),this.recalculateSelectedIndex())}))}beforeDestroy(){this.unsubscribeFromStore()}async loadRemoteRevisions(){this.isLoading=!0,this.remoteRevisions=await this.fetchRevisionsMethod(),this.selectedIndex=null,this.isLoading=!1}recalculateSelectedIndex(){const e=(0,Gc.Z)(this.resources);this.selectedIndex=this.revisions.findIndex((t=>Ep()(t[this.resourceKey],e)))}updateUnsavedRevisionIfNeeded(){this.hasCurrentStoreDataChanged()?this.currentUnsavedRevision=null:this.setUnsavedRevisionFromStore()}hasCurrentStoreDataChanged(){if(null===this.remoteRevisions)return!1;const[e]=this.remoteRevisions,t=(0,Gc.Z)(this.resources);return Ep()(e[this.resourceKey],t)}setUnsavedRevisionFromStore(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",[this.resourceKey]:(0,Gc.Z)(this.resources)}}onRevisionSelected(e,t){this.selectedIndex=t,Pe.n.transaction((()=>Q.cr[this.restoreMethod](e.revisionData)),`Restore ${this.resourceKey} from revision`)}};(0,r.gn)([(0,l.fI)({required:!0})],xI.prototype,"resourceKey",void 0),(0,r.gn)([(0,l.fI)({required:!0})],xI.prototype,"restoreMethod",void 0),(0,r.gn)([(0,l.fI)({required:!0})],xI.prototype,"updateMethod",void 0),(0,r.gn)([(0,l.fI)({required:!0})],xI.prototype,"fetchRevisionsMethod",void 0),(0,r.gn)([(0,l.fI)({required:!0})],xI.prototype,"resources",void 0),(0,r.gn)([(0,l.fI)({required:!0})],xI.prototype,"resourceHasUnsavedChangesPresent",void 0),(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],xI.prototype,"updateRevisionsAfterSaving",null),xI=(0,r.gn)([(0,l.wA)({components:{RevisionsList:LP}})],xI);const CI=xI,wI=CI;var PI=(0,N.Z)(wI,SI,_I,!1,null,null,null);const II=PI.exports;let kI=class extends s.ZP{constructor(){super(...arguments),this.resourceKey="selectors"}get selectors(){return Q.cr.cssSelectors}get hasUnsavedChangesPresent(){return Q.cr.selectorsHasUnsavedChangesPresent}get fetchRevisionsMethod(){return bI}};kI=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:II,RevisionsList:LP}})],kI);const EI=kI,TI=EI;var DI=(0,N.Z)(TI,fI,yI,!1,null,null,null);const AI=DI.exports;var ZI=n(47034);let MI=class extends s.ZP{get viewMode(){return c.uiStore.panelState.selectorsPanelPanelActiveViewMode}toggleViewMode(){c.uiStore.setPanelState({...c.uiStore.panelState,selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get selectors(){return c.globalStore.cssSelectors}updateSelectors(e){c.globalStore.setSelectors((0,Gc.Z)(e))}};MI=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForSelectors:ZI.Z,AlertBox:ag.Z,SelectorsPanelHistoryViewMode:AI,PanelHeaderButton:sP,BrowseModeToggle:lP,draggable:Em(),SelectorsList:lI.Z,AddSelector:vI,PanelHeader:Vw}})],MI);const OI=MI,BI=OI;var LI=(0,N.Z)(BI,aI,rI,!1,null,null,null);const NI=LI.exports;var RI=n(43432),FI=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.activeSelector?t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Selector ")]),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),t("div",{staticClass:"breakdance-selector-titlebar"},[t("div",{staticClass:"flex-grow-1 mr-2"},[e.editingClassOrClassHover?[t("div",{staticClass:"d-flex flex-row align-center flex-wrap mr-2"},[t("transition",{attrs:{name:"blink-on-change"}},[t("div",{key:e.activeSelector.name,staticClass:"selector-titlebar-classname mr-1 ml-n1"},[e._v(" "+e._s(e.activeSelector.name.replace(":hover",""))+" ")])]),t(Do.Z,{class:["editing-class-hover-hover-button-always",e.editingClassHover?"editing-class-hover-hover-button-active":"editing-class-hover-hover-button"],attrs:{"x-small":"",depressed:""},on:{click:e.toggleHover}},[e._v(" :hover ")])],1)]:[t("div",{staticClass:"d-flex flex-column"},[t("TextInput",{attrs:{value:e.activeSelector.name},on:{input:e.tryToRenameActiveSelector}})],1)]],2),e.selectorIsHighlightable?t(RI.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"SearchFileIcon",size:"16",active:e.highlight},on:{click:e.toggleHighlight}},n))]}}],null,!1,3251607670)},[t("span",[e._v(e._s(e.howManyOnPage)+" on page")])]):e._e(),t("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deleteSelector}})],1),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"control-tree-search-term control-tree-search-term-selector"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),e.editingClassOrClassHover||!e.attemptingToRename||e.isAttemptedRenameValid?e._e():t("div",{staticClass:"edit-selector-invalid-name-error"},[e._v(" invalid selector name ")]),t("div",{staticClass:"edit-selector-border"}),e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"properties"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"properties",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(U_.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"selectors"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"selector"},on:{input:e.updateSearchBoxState}})],1):e._e()},VI=[],$I=n(5598);let WI=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.highlight=!1,this.attemptingToRename=!1,this.editingClassControlsTreeContext=HI}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get controlsFilteredBySearchParams(){return $x(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingClassControlsTreeContext,"properties")}get noSearchResults(){return 0===Ux(this.controlsFilteredBySearchParams,0)}get howManyOnPage(){if(!c.uiStore.activeSelector)return 0;const e=this.editingClassHover?c.uiStore.activeSelector.name.replace(":hover",""):c.uiStore.activeSelector.name,t=window.Breakdance.canvas.document.querySelectorAll(e);return t.length}get editingClass(){return!!this.activeSelector&&"class"===this.activeSelector.type}get editingClassHover(){return!!this.activeSelector&&(!!this.activeSelector.name.endsWith(":hover")&&!!zI(this.activeSelector.name.replace(":hover","")))}get editingClassOrClassHover(){return this.editingClass||this.editingClassHover}get selectorIsHighlightable(){return!!c.uiStore.activeSelectorName&&!(c.uiStore.activeSelectorName.includes(":")&&!this.editingClassHover)}get controls(){return c.configStore.selectorControls}get activeSelector(){return c.uiStore.activeSelector}toggleHighlight(){this.highlight?this.clearHighlight():this.setHighlight()}beforeDestroy(){this.clearHighlight()}setHighlight(){if(this.highlight=!0,!c.uiStore.activeSelector)return;const e=this.editingClassHover?c.uiStore.activeSelector.name.replace(":hover",""):c.uiStore.activeSelector.name;(0,$I.BL)((0,T.RY)(),"breakdance-selector-highlight",`${e} {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        `)}clearHighlight(){this.highlight=!1,(0,$I.BL)((0,T.RY)(),"breakdance-selector-highlight","")}deleteSelector(){if(!this.activeSelector)return;const e=this.activeSelector,t=c.globalStore.cssSelectors.findIndex((t=>t.name===e.name));if(-1!==t){const e=(0,Gc.Z)(c.globalStore.cssSelectors);e.splice(t,1),c.globalStore.setSelectors(e)}}close(){this.backToAllSelectors()}get activeElementTitle(){return!!c.uiStore.activeElement&&c.configStore.element(c.uiStore.activeElement.data.type).name}openElementProperties(){(0,iu.oM)("elementproperties")}backToAllSelectors(){c.uiStore.setActiveSelectorName(null)}get isAttemptedRenameValid(){return!this.attemptingToRename||(0,uI._S)(this.attemptingToRename)}tryToRenameActiveSelector(e){if(!e)return;if(this.attemptingToRename=e,this.clearHighlight(),!(0,uI._S)(e))return;const t=c.globalStore.cssSelectors.findIndex((e=>e===this.activeSelector)),n=(0,Gc.Z)(c.globalStore.cssSelectors);n[t]&&(n[t].name=e,c.globalStore.setSelectors(n),c.uiStore.setActiveSelectorName(e),this.attemptingToRename=!1)}toggleHover(){if(c.uiStore.activeSelector)if(this.editingClass){const e=c.uiStore.activeSelectorName+":hover",t=()=>c.globalStore.cssSelectors.find((t=>t.name===e));let n=t();if(n||((0,uI.Fr)({name:e,type:"custom",properties:{}}),n=t()),!n)return void Ac.Z.log.message(`Unable to create or find a :hover selector for ${c.uiStore.activeSelectorName}`);c.uiStore.setActiveSelectorName(n.name),(0,iu.oM)("selectors")}else if(this.editingClassHover&&this.activeSelector){const e=zI(this.activeSelector.name.replace(":hover",""));e&&(c.uiStore.setActiveSelectorName(e.name),(0,iu.oM)("selectors"))}}};(0,r.gn)([(0,l.DF)("context")],WI.prototype,"editingClassControlsTreeContext",void 0),WI=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForSelectors:ZI.Z,AlertBox:ag.Z,ControlsTree:K_["default"],SearchBox:lx,IconButton:Ia.Z,PanelHeader:Vw,TextInput:Oo.Z,SearchBoxEmptyState:Xx,Icon:He.Z}})],WI);const UI=WI,zI=e=>c.globalStore.cssSelectors.find((t=>t.name===e)),HI={getControls:()=>c.configStore.selectorControls,getControlValue:e=>K()(c.uiStore.activeSelector,`${e}`,void 0),setControlValue(e,t,n,s){c.uiStore.activeSelector&&c.globalStore.throttledSelectorPropertyChange((0,av.V5)({selector:c.uiStore.activeSelector,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},setAccordionState:(e,t)=>{const n=c.uiStore.activeSelector&&c.uiStore.activeSelector.name;n&&(0,pP.MK)(n,e,t)},getAccordionState:e=>{const t=c.uiStore.activeSelector&&c.uiStore.activeSelector.name;return!!t&&(0,pP.jv)(t,e)}},GI=UI;var qI=(0,N.Z)(GI,FI,VI,!1,null,null,null);const KI=qI.exports;let jI=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get activeSelector(){return c.uiStore.activeSelector}async beforeMount(){c.uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors?(c.uiStore.setPanelState({...c.uiStore.panelState,selectorsPanelPanelActiveViewMode:"controls"}),await this.load()):c.uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened("selectors",!0)}async load(){this.isLoadingData=!0;const e=await(0,uI.c3)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,uI.zF)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.uiStore.requestClosingConfirmation({subject:"selectors",confirmationDefinition:{title:"You have unsaved changes to your Selectors.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.globalStore.selectorsHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.uiStore.noClosingConfirmationIsNeededFor("selectors")}get confirmationChosenOption(){return c.uiStore.closingConfirmations.selectors?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.uiStore.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.uiStore.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,iu.TO)("selectors")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],jI.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],jI.prototype,"handleConfirmationChosenOptionChange",null),jI=(0,r.gn)([(0,l.wA)({components:{EditSelector:KI,ManageSelectors:NI}})],jI);const XI=jI,YI=XI;var QI=(0,N.Z)(YI,iI,oI,!1,null,null,null);const JI=QI.exports;var ek=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-structure-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[e.children.length&&"breakdance"===e.builderMode?t("button",{staticClass:"breakdance-structure-panel__toggle-button mr-2",on:{click:e.toggleNodes}},[1===e.toggleStage?[e._v("Expand")]:e._e(),[0,2].includes(e.toggleStage)?[e._v("Collapse")]:e._e()],2):e._e(),e.children.length&&"oxygen"===e.builderMode?[t("IconButton",{staticClass:"breakdance-toolbar-icon-button",attrs:{icon:1===e.toggleStage?"ArrowsFromLineIcon":([0,2].includes(e.toggleStage),"ArrowsToLineIcon"),size:14,small:"",tooltip:1===e.toggleStage?"Expand":([0,2].includes(e.toggleStage),"Collapse")},on:{click:e.toggleNodes}})]:e._e(),t("StructurePanelDropdownMenu")]},proxy:!0}])},[e._v(" Structure ")]),t("div",{class:e.classList,on:{contextmenu:e.onContextMenu}},[t("div",{staticClass:"structure-node root-node",attrs:{"data-element-id":e.ROOT_ELEMENT_ID},on:{mousedown:e.dragStart}},[t("div",{staticClass:"structure-node-title-wrapper"},[t("div",{staticClass:"structure-node-title",staticStyle:{"margin-left":"-16px",display:"none"}},[e._v(" Root Node ")]),t("div",{staticClass:"top-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}}),t("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}})]),e.children.length>0?t("ChildStructureNodes",{attrs:{nodes:e.children,depth:0}}):t("div",{staticClass:"structure-panel-empty-state"},[t("h5",[e._v("No Elements")]),t("p",[e._v("Add an element to your page and it will show up here.")]),t("StandardButton",{staticClass:"open-elements-toolbar-button ml-auto mr-auto",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)],1)]),t("RightClickMenu",{attrs:{context:"structure-panel"}})],1)},tk=[];function nk(){return{overTopHalf:!1,overBottomHalf:!1,overIndex:!1,overNodeId:!1,overNodeParentId:!1,overSelf:!1,overNestDeeper:!1,overNestShallower:!1}}function sk(e,t){const n=document.elementsFromPoint(e,t).filter(ik("structure-node")).sort(ok).reverse().pop();if(n){const e=n.dataset.elementId;if(e)return(0,T.ME)(e)}return!1}const ik=e=>t=>!!t.classList.contains(e),ok=(e,t)=>parseInt(e.dataset.depth)>parseInt(t.dataset.depth)?-1:parseInt(t.dataset.depth)>parseInt(e.dataset.depth)?1:0,ak=(e,t)=>{const n=e.filter(ik(t));return n.length>0&&(0,T.ME)(n[0].dataset.elementId)},rk=(e,t,n)=>{const s=document.elementsFromPoint(e,t),i=nk();if(i.overNestDeeper=ak(s,"nest-deeper"),i.overNestShallower=ak(s,"nest-shallower"),i.overTopHalf=ak(s,"top-half"),i.overBottomHalf=ak(s,"bottom-half"),i.overSelf=!1!==ak(s,"breakdance--currently-dragging"),i.overBottomHalf?i.overNodeId=i.overBottomHalf:i.overTopHalf&&(i.overNodeId=i.overTopHalf),i.overNodeId){const e=(0,ge.getNodeParent)(n,i.overNodeId),t=(0,ge.getNodeIndex)(n,i.overNodeId);!1!==t&&!1!==e&&(i.overIndex=t,i.overNodeParentId=e.id)}return i};var lk=n(98992);function ck(e,t,n){let s=!1;const i=(0,ge.findNode)(t,n);if(!i)return!1;if(e.overSelf){if(e.overSelf){if(yk(n,t)&&e.overNestShallower===n){let e=!1;s=gk(n,t),s&&(e=s.parentId);while(e){if((0,Re.xJ)(t,i,e))break;if(!s||(0,Re.xJ)(t,i,s.parentId)||!yk(e,t))break;{const n=(0,ge.getNodeParent)(t,e);e=!!n&&n.id,e&&(s=hk(e,t))}}}bk(n,t)&&e.overNestDeeper===n&&(s=mk(n,t))}}else if(e.overTopHalf){s=dk(e.overTopHalf,t),n===vk(e.overTopHalf,t)&&(s=!1);const o=vk(e.overTopHalf,t);s&&o&&(0,Re.xJ)(t,i,o)&&(s=hk(o,t))}else if(e.overBottomHalf&&(0===fk(e.overBottomHalf,t)||(0,lk.nx)(e.overBottomHalf))){if(s=uk(e.overBottomHalf,t),s&&(0,Re.xJ)(t,i,s.parentId)){const n=(0,ge.getNodeIndex)(t,i.id),o=(0,ge.getNodeParent)(t,i.id);!1!==n&&!1!==o&&s&&e.overIndex&&s.parentId===o.id&&n<e.overIndex&&(s.index=s.index-1)}else s&&!(0,Re.xJ)(t,i,s.parentId)&&(s=pk(e.overBottomHalf));if(s&&!(0,Re.xJ)(t,i,s.parentId)&&yk(e.overBottomHalf,t)){let n=!1;if(e.overBottomHalf){const s=(0,ge.getNodeParent)(t,e.overBottomHalf);n=!!s&&s.id}while(n){s=uk(n,t);const e=(0,ge.getNodeParent)(t,i.id);if(s&&e&&s.parentId===e.id){const e=(0,ge.getNodeIndex)(t,i.id),o=(0,ge.getNodeIndex)(t,n);e<o&&(s.index=s.index-1)}if(s)if(!(0,Re.xJ)(t,i,s.parentId)&&yk(n,t)){const e=(0,ge.getNodeParent)(t,n);n=!!e&&e.id}else n=!1;else n=!1}}}else e.overBottomHalf&&fk(e.overBottomHalf,t)>0&&(s=pk(e.overBottomHalf));if(!s)return!1;const o=(0,Re.xJ)(t,i,s.parentId);return!!o&&s}function dk(e,t){const n=(0,ge.getNodeIndex)(t,e),s=(0,ge.getNodeParent)(t,e);return!1!==n&&!1!==s&&{parentId:s.id,index:n}}function uk(e,t){const n=(0,ge.getNodeIndex)(t,e),s=(0,ge.getNodeParent)(t,e);return!1!==n&&!1!==s&&{parentId:s.id,index:n+1}}function pk(e){return{parentId:e,index:0}}function hk(e,t){const n=fk(e,t);return!1!==n&&{parentId:e,index:n}}function gk(e,t){const n=(0,ge.getNodeParent)(t,e);return!!n&&uk(n.id,t)}function mk(e,t){const n=vk(e,t);return!!n&&hk(n,t)}function vk(e,t){const n=(0,ge.getNodeIndex)(t,e),s=(0,ge.getNodeParent)(t,e);return!1!==n&&!1!==s&&(!(n<1)&&s.children[n-1].id)}function fk(e,t){const n=(0,ge.findNode)(t,e);return!!n&&n.children.length}function yk(e,t){const n=(0,ge.getNodeIndex)(t,e),s=(0,ge.getNodeParent)(t,e);if(!1===n||!1===s)return;const i=fk(s.id,t);return i?1===i||n===i-1:void 0}function bk(e,t){const n=(0,ge.getNodeIndex)(t,e);if(!1!==n)return n>0}var Sk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({class:"breakdance"===e.builderMode?" breakdance-panel-header-left-of-close-button":"breakdance-panel-icon-button",attrs:{size:"breakdance"===e.builderMode?16:12,small:"",icon:"breakdance"===e.builderMode?"EllipsisStrokeIcon":"EllipsisSolidIcon"}},n))]}}])},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:e.copy}},[t(Xl.V9,[e._v(" Copy All Elements ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.paste}},[t(Xl.V9,[e._v(" Paste Elements ")])],1)],1)],1)},_k=[];let xk=class extends l.w3{copy(){(0,So.wp)(c.documentStore.document.tree.root.children.map((e=>e.id)))}get builderMode(){return c.configStore.builderMode}async paste(){const e=(await(0,So.ij)())?.element;Array.isArray(e)?(0,Ea.AE)(e,"pasting"):e?(0,So.HR)(null,e):alert("nothing to paste")}};xk=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,Dropdown:Jl.Z}})],xk);const Ck=xk,wk=Ck;var Pk=(0,N.Z)(wk,Sk,_k,!1,null,null,null);const Ik=Pk.exports;let kk=class extends l.w3{constructor(){super(...arguments),this.mouseDragStatus={...nk()},this.forceGrabbingCursor=!1,this.firstDragMovement=!0,this.draggedNodeId=!1,this.lastSubmittedDrag=!1,this.didMoveElement=!1,this.unsubscribeFromActivateElementMutation=null,this.easyEvent=new Z.hF,this.delayedExpandNodeTimeout=null,this.toggleStage=2}close(){(0,iu.TO)("structure")}get classList(){return{"structure-panel-content-wrapper":!0,"is-draggable":this.hasPermission,"drag-in-progress":c.uiStore.isCanvasElementBeingDragged,"force-grabbing-cursor":this.forceGrabbingCursor}}beforeCreate(){this.$options.components.ChildStructureNodes=n(71600).Z}get activeElementId(){return c.uiStore.activeElementId}get builderMode(){return c.configStore.builderMode}get children(){if(c.uiStore.inlineEditingContext?.elementId){const e=(0,ge.findNode)(c.documentStore.document.tree,c.uiStore.inlineEditingContext.elementId);return e?.children||[]}return this.rootElement.children}mounted(){this.expandToShowActiveElementWatch(),this.unsubscribeFromActivateElementMutation=this.$store.subscribe((({type:e})=>{"ui/activateElementMutation"===e&&this.expandToShowActiveElementWatch()}))}expandToShowActiveElementWatch(){if(this.activeElementId){const e=(0,lk.FM)(c.documentStore.document.tree,this.activeElementId);e&&c.uiStore.setStructurePanelNodesExpandedState({...c.uiStore.structurePanelNodesExpandedState,...e}),this.$nextTick((()=>{if(!this.$el||!this.panelHeader)return;const e=this.$el.querySelector(`[data-element-id="${this.activeElementId}"] .structure-node-title-wrapper`);e&&(0,iu.aQ)(this.$el,this.panelHeader.$el,e)}))}}get rootElement(){return c.documentStore.document.tree.root}get hasPermission(){return c.uiStore.hasFullAccess}onContextMenu(e){if(!this.hasPermission)return;e.preventDefault(),e.stopPropagation();const t=sk(e.clientX,e.clientY)||void 0;t&&c.uiStore.activateElement(t);const n=(0,ze.n)(e.clientX,e.clientY);c.uiStore.setOnStructurePanelRightClickMenuState({elementId:t,position:n})}dragStart(e){if(0!==e.button)return;if(!this.hasPermission)return;const t=sk(e.clientX,e.clientY);t&&(c.uiStore.activateElement(t),this.draggedNodeId=t,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.forceGrabbingCursor=!0,this.didMoveElement=!1,Pe.n.startTransaction())}async dragging(e){if((0,Z.Pm)(e))return;if(e.preventDefault(),e.stopPropagation(),!this.draggedNodeId)return;let t=null;if(c.uiStore.setDragMousePosition(null),this.firstDragMovement){const e=(0,ge.getNodeIndex)(c.documentStore.document.tree,this.draggedNodeId),n=(0,ge.getNodeParent)(c.documentStore.document.tree,this.draggedNodeId);if(!1===e||!1===n)return;c.uiStore.setCanvasElementDraggedId(this.draggedNodeId),t={draggedElementId:this.draggedNodeId,droppedOnElementId:n.id,index:e},this.firstDragMovement=!1}else{this.mouseDragStatus=rk(e.clientX,e.clientY,c.documentStore.document.tree),this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);const n=ck(this.mouseDragStatus,c.documentStore.document.tree,this.draggedNodeId);n&&(t={draggedElementId:this.draggedNodeId,droppedOnElementId:n.parentId,index:n.index})}if(t){const e=(0,ge.findNode)(c.documentStore.document.tree,t.droppedOnElementId),n=(0,lk.sF)(t.droppedOnElementId)||0===e?.children.length;if(n){const e=await c.documentStore.moveElement({...t,wrapWithTransaction:!1});this.didMoveElement=this.didMoveElement||e,c.uiStore.setStructurePanelNodesExpandedState({...c.uiStore.structurePanelNodesExpandedState,[t.droppedOnElementId.toString()]:!0}),this.lastSubmittedDrag=t}}}async dragEnd(e){if(e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag){const e=await c.documentStore.moveElement({...this.lastSubmittedDrag,wrapWithTransaction:!1});this.didMoveElement=this.didMoveElement||e}if(!1!==this.draggedNodeId&&this.didMoveElement){const e=(0,ge.findNode)(c.documentStore.document.tree,this.draggedNodeId);Pe.n.endTransaction(`Move ${(0,ie.JC)(e?.data.type)}`)}else Pe.n.cancelTransactionIfItIsStillInProgress();c.uiStore.endCanvasElementDrag(),this.lastSubmittedDrag=!1,this.mouseDragStatus={...nk()},this.firstDragMovement=!0,this.draggedNodeId=!1,this.forceGrabbingCursor=!1,this.didMoveElement=!1}ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e){this.mouseDragStatus.overNodeId&&this.delayedExpandNode(this.mouseDragStatus.overNodeId,e)}delayedExpandNode(e,t){this.delayedExpandNodeTimeout&&clearTimeout(this.delayedExpandNodeTimeout),this.delayedExpandNodeTimeout=setTimeout((()=>{if(this.delayedExpandNodeTimeout=null,e===this.mouseDragStatus.overNodeId){const n=(0,Gc.Z)(c.uiStore.structurePanelNodesExpandedState);n[e]=!0,c.uiStore.setStructurePanelNodesExpandedState(n),this.dragging(t)}}),500)}get ROOT_ELEMENT_ID(){return ge.ROOT_ELEMENT_ID}collapseAllNodes(){c.uiStore.setStructurePanelNodesExpandedState((0,lk.u3)(c.documentStore.document.tree,!1))}expandAllNodes(){c.uiStore.setStructurePanelNodesExpandedState((0,lk.u3)(c.documentStore.document.tree,!0))}collapseAllNodesExcept(e){const t=(0,lk.u3)(c.documentStore.document.tree,!1),n=(0,lk.FM)(c.documentStore.document.tree,e);c.uiStore.setStructurePanelNodesExpandedState({...t,...n})}toggleNodes(){if(0===this.toggleStage)this.toggleStage=1,this.collapseAllNodes();else if(1===this.toggleStage)this.expandAllNodes(),this.toggleStage=2;else if(c.uiStore.activeElementId){const e=(0,ge.getNodeParent)(c.documentStore.document.tree,c.uiStore.activeElementId);if(e&&e?.id===ge.ROOT_ELEMENT_ID)return this.collapseAllNodes(),void(this.toggleStage=1);this.collapseAllNodesExcept(c.uiStore.activeElementId),this.toggleStage=0}else this.collapseAllNodes(),this.toggleStage=1}beforeDestroy(){this.unsubscribeFromActivateElementMutation&&this.unsubscribeFromActivateElementMutation()}toggleAdd(){(0,iu._y)("add")}};(0,r.gn)([(0,l.Rl)()],kk.prototype,"panelHeader",void 0),kk=(0,r.gn)([(0,l.wA)({components:{RightClickMenu:ha,PanelHeader:Vw,StandardButton:ol,IconButton:Ia.Z,Dropdown:Jl.Z,StructurePanelDropdownMenu:Ik}})],kk);const Ek=kk,Tk=Ek;var Dk=(0,N.Z)(Tk,ek,tk,!1,null,null,null);const Ak=Dk.exports;var Zk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",staticClass:"breakdance-history-and-revisions-panel__header",on:{close:e.close}},[e._v(" History ")]),e.disableRevisions?e._e():t("TabsRow",[t("Tab",{attrs:{value:e.tab,id:"history"},on:{input:function(t){e.tab=t}}},[e._v(" History ")]),t("Tab",{attrs:{value:e.tab,id:"revisions"},on:{input:function(t){e.tab=t}}},[e._v(" Revisions ")])],1),"history"===e.tab?t("History",{on:{scrollToActiveEl:e.scrollToActiveElement}}):"revisions"===e.tab?t("Revisions"):e._e()],1)},Mk=[],Ok=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"snapshots-list"},e._l(e.snapshots,(function(n,s){return t("SnapshotItem",{key:e.snapshots.length-1-s,attrs:{"data-snapshot-index":e.snapshots.length-1-s,snapshot:n,selected:e.currentIndex===e.snapshots.length-1-s},on:{click:function(t){return e.onSnapshotSelected(e.snapshots.length-1-s)}}})})),1)},Bk=[],Lk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"snapshots-item",class:{"snapshots-item--selected":e.selected},attrs:{"data-test-id":"snapshots-item"},on:{click:function(t){return e.$emit("click",e.snapshot)}}},[t("span",{staticClass:"snapshots-item__title"},[e._v(e._s(e.snapshot.title))])])},Nk=[];let Rk=class extends l.w3{};(0,r.gn)([(0,l.fI)({default(){return{}}})],Rk.prototype,"snapshot",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Rk.prototype,"selected",void 0),Rk=(0,r.gn)([(0,l.wA)({})],Rk);const Fk=Rk,Vk=Fk;var $k=(0,N.Z)(Vk,Lk,Nk,!1,null,null,null);const Wk=$k.exports;let Uk=class extends l.w3{onSnapshotSelected(e){Q.GD.setCurrentSnapshotIndex(e),Pe.n.setStoreFromCurrentSnapshot()}close(){(0,iu.TO)("history")}get snapshots(){return[...Q.GD.snapshots].reverse()}get currentIndex(){return Q.GD.index}handleCurrentIndexChange(){this.scrollToActiveSnapshotElement()}scrollToActiveSnapshotElement(){l.w3.nextTick((()=>{const e=this.$el.querySelector(`[data-snapshot-index="${this.currentIndex}"]`);e&&this.$emit("scrollToActiveEl",e)}))}};(0,r.gn)([(0,l.RL)("currentIndex",{immediate:!0})],Uk.prototype,"handleCurrentIndexChange",null),Uk=(0,r.gn)([(0,l.wA)({components:{PanelHeader:Vw,SnapshotItem:Wk}})],Uk);const zk=Uk,Hk=zk;var Gk=(0,N.Z)(Hk,Ok,Bk,!1,null,null,null);const qk=Gk.exports;var Kk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"revisions-panel"},[t("RevisionsList",{attrs:{"is-loading":e.loading,revisions:e.revisionUiItems,"revisions-not-supported-message":e.revisionsNotSupportedMessage},on:{revisionSelected:e.onRevisionSelected}})],1)},jk=[];let Xk=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.selectedRevisionIndex=0,this.unsubscribeFromStore=()=>{},this.revisionsNotSupportedMessage=null}get revisionUiItems(){return this.revisions.map(((e,t)=>({revisionData:e,isSelected:this.selectedRevisionIndex===t})))}async mounted(){this.loading=!0;const e=await this.fetchRemoteRevisions();this.loading=!1,e&&(Q.kD.setRevisionsData({revisions:e,currentUnsavedRevision:this.getCurrentUnsavedRevision(e)}),this.setActiveRevision(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,NP.q$)(e);"document"===t&&"document/loadRevision"!==e.type&&(Q.kD.setRevisionsData({revisions:Q.kD.revisionsData.revisions,currentUnsavedRevision:this.getCurrentUnsavedRevision(Q.kD.revisionsData.revisions)}),this.setActiveRevision())})))}destroyed(){this.unsubscribeFromStore()}get revisions(){return Q.kD.revisionsData.currentUnsavedRevision?[Q.kD.revisionsData.currentUnsavedRevision,...Q.kD.revisionsData.revisions]:Q.kD.revisionsData.revisions}get currentTree(){return(0,ge.exportTree)(Q.Hb.document.tree)}get unsavedChangesPresent(){return Q.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){if(!Q.kD.unsavedChangesPresent){const e=await this.fetchRemoteRevisions();e&&Q.kD.setRevisionsData({revisions:e,currentUnsavedRevision:null}),this.setActiveRevision()}}setActiveRevision(){const e=this.getActiveRevisionIndex(Q.kD.revisionsData.revisions);-1!==e?(this.selectedRevisionIndex=Q.kD.revisionsData.currentUnsavedRevision?e+1:e,this.scrollToActiveRevision("smooth")):(this.selectedRevisionIndex=0,this.scrollToActiveRevision("auto"))}getActiveRevisionIndex(e){return e.findIndex((e=>(0,ge.treesEqual)(e.tree,this.currentTree)))}getCurrentUnsavedRevision(e){const t=this.getActiveRevisionIndex(e);if(-1===t)return{id:-1,author:!1,date:"Current",tree:this.currentTree};const n=0===t&&Q.kD.revisionsData.currentUnsavedRevision&&(0,ge.treesEqual)(e[t].tree,Q.kD.revisionsData.currentUnsavedRevision?.tree);return n?null:Q.kD.revisionsData.currentUnsavedRevision}async fetchRemoteRevisions(){return(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_retrieve_revisions",decoder:_P.VZ,dataToPost:{id:Q.Hb.document.documentMeta.id}}),(0,kc.fold)((e=>((0,wp.UE)(e),null)),(e=>"unsupported"in e?(this.revisionsNotSupportedMessage=e.unsupported,null):e.revisions.map((e=>{const t=(0,NC.Z)(e.tree,RC.f2),n=(0,Ic.pipe)(t,(0,kc.fold)((()=>null),(e=>e)));return{...e,tree:n}})).filter((e=>null!==e.tree)))))}onRevisionSelected(e,t){const n=this.revisions.find((t=>t.id===e.revisionData.id));n&&(this.selectedRevisionIndex=t,Q.kD.activateElement(null),Q.kD.setInterfaceState("loading"),Q.Hb.loadRevision(n),Q.kD.setInterfaceState("normal"))}scrollToActiveRevision(e){(0,A.forceNextTick)((()=>document.querySelector(".revisions-panel .revisions-item--selected")?.scrollIntoView({behavior:e,block:"center"})))}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],Xk.prototype,"updateRevisionsAfterSaving",null),Xk=(0,r.gn)([(0,l.wA)({components:{RevisionsList:LP,RevisionItem:AP,PanelHeader:Vw}})],Xk);const Yk=Xk,Qk=Yk;var Jk=(0,N.Z)(Qk,Kk,jk,!1,null,null,null);const eE=Jk.exports;let tE=class extends s.ZP{constructor(){super(...arguments),this.tab="history"}close(){(0,iu.TO)("history")}scrollToActiveElement(e){(0,iu.aQ)(this.$el,this.panelHeader.$el,e)}};(0,r.gn)([(0,l.fI)({default:!1})],tE.prototype,"disableRevisions",void 0),(0,r.gn)([(0,l.Rl)()],tE.prototype,"panelHeader",void 0),tE=(0,r.gn)([(0,l.wA)({components:{Revisions:eE,History:qk,PanelHeader:Vw,TabsRow:wx,Tab:fx}})],tE);const nE=tE,sE=nE;var iE=(0,N.Z)(sE,Zk,Mk,!1,null,null,null);const oE=iE.exports;var aE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[e._t("default")],2)},rE=[];let lE=class extends s.ZP{get classList(){if("closed"===this.panelState)return{};const e=iu.t6.includes(this.panelState);return{"breakdance-panel":!0,width288:!e,width400:e,"vscroll-wrap":!0,borderOnLeft:"right"===this.position,borderOnRight:"left"===this.position,"breakdance-app-left-area":"left"===this.position,"breakdance-app-right-area":"right"===this.position}}get builderMode(){return c.configStore.builderMode}};(0,r.gn)([(0,l.fI)()],lE.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],lE.prototype,"panelState",void 0),lE=(0,r.gn)([l.wA],lE);const cE=lE,dE=cE;var uE=(0,N.Z)(dE,aE,rE,!1,null,null,null);const pE=uE.exports;var hE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-variables-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("IconButton",{attrs:{icon:"FolderPlusIcon",size:"14",small:"",tooltip:"Add Collection"},on:{click:e.addCollection}}),t("IconButton",{attrs:{icon:"HistorySolidIcon",size:"13",small:"",active:"history"===e.viewMode,tooltip:"History"},on:{click:e.toggleViewMode}}),t("ImportExportDropdownMenu",{attrs:{name:"Variables","settings-to-export":e.settingsToExport,"validate-settings":e.validateImport,"import-settings":e.importVariables,"can-merge":!0}})]},proxy:!0}])},[e._v(" Variables ")]),e.isLoadingData?t(cP.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(bp.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):["controls"===e.viewMode?t("ManageVariables"):e._e(),"history"===e.viewMode?t("VariablesHistory"):e._e()],t("PanelMask")],2)},gE=[],mE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"global-variables"},[t("CollectionsInput",{attrs:{collections:e.collections,"resource-name":"variables",value:e.value},on:{"update-collections":e.setCollections,input:e.setVariables},scopedSlots:e._u([{key:"default",fn:function({collection:n}){return[t("InlineRepeater",{staticClass:"oxy-collection__repeater",attrs:{value:e.variablesByCollection[n],control:e.collectionControls[n],"data-key":"id",group:"oxy-variables"},on:{input:function(t){return e.handleDrag(t,n)}},scopedSlots:e._u([{key:"default",fn:function({value:n}){return[t("VariableRepeaterItem",{key:n.id,attrs:{variable:n},on:{input:e.setVariable}})]}}],null,!0)})]}}])})],1)},vE=[],fE=n(90889),yE=n(42364),bE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-collections"},[t("draggable",e._b({attrs:{value:e.collections},on:{input:e.handleDrag}},"draggable",e.dragOptions,!1),e._l(e.collections,(function(n,s){return t("div",{staticClass:"oxy-collection"},[t("header",{staticClass:"oxy-collection-header"},[t("Icon",{staticClass:"oxy-collection-header__icon",attrs:{icon:e.isToggled(n)?"ChevronRightIcon":"ChevronDownIcon",size:12},on:{click:function(t){return e.toggleCollection(n)}}}),t("div",{staticClass:"oxy-collection-header__title"},[t("input",{staticClass:"oxy-collection__title",attrs:{contenteditable:"true",placeholder:"Enter a name"},domProps:{value:n},on:{input:function(t){return e.setCollectionName(t,s)},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}}),t("Icon",{attrs:{icon:"PenSolidIcon",size:10}})],1),t("div",{staticClass:"oxy-collection__actions"},[e._t("actions",null,{collection:n}),t("IconButton",{attrs:{icon:"DownloadSolidIcon",size:"12",tooltip:"Download"},on:{click:function(t){return e.exportCollection(n)}}}),t("IconButton",{attrs:{icon:"TrashSolidIcon",size:"12",tooltip:"Delete"},on:{click:function(t){return e.deleteCollection(n)}}}),t("IconButton",{staticClass:"oxy-collection__handle",attrs:{size:"12",icon:"GripDotsVerticalIcon",tooltip:"Drag to reorder"}})],2)],1),e.isToggled(n)?e._e():e._t("default",null,{collection:n})],2)})),0),t("div",{staticClass:"oxy-collection-empty-state",on:{click:e.addCollection}},[t("Icon",{attrs:{icon:"FolderPlusIcon",size:"13"}}),t("span",[e._v("Add new collection")])],1)],1)},SE=[];let _E=class extends l.w3{constructor(){super(...arguments),this.toggledCollections=[],this.dragOptions={animation:200,handle:".oxy-collection__handle",ghostClass:"breakdance-inline-repeater-item--ghost",forceFallback:!0}}isToggled(e){return this.toggledCollections.includes(e)}toggleCollection(e){this.toggledCollections.includes(e)?this.toggledCollections=this.toggledCollections.filter((t=>t!==e)):this.toggledCollections.push(e)}handleDrag(e){const t=(0,Gc.Z)(this.value).sort(((t,n)=>{const s=e.indexOf(t.collection),i=e.indexOf(n.collection);return s===i?0:s-i}));this.$emit("update-collections",e),this.$emit("input",t)}setCollectionName(e,t){const n=e.target,s=n.value,i=this.collections[t],o=this.collections;o[t]=s;const a=this.value.map((e=>(e.collection===i&&(e.collection=s),e)));this.$emit("update-collections",o),this.$emit("input",a)}deleteCollection(e){const t=confirm(`Are you sure you want to delete the collection "${e}"?`);if(!t)return;const n=this.value.filter((t=>t.collection!==e)),s=this.collections.filter((t=>t!==e));this.$emit("update-collections",s),this.$emit("input",n)}exportCollection(e){const t=this.value.filter((t=>t.collection===e)),n=(0,vg.g)(t),s=Iy()(e,{lower:!0});qP(n||"",`${s}-${this.resourceName}.json`)}addCollection(){const e=_r.hI,t=this.collections;let n=1;while(t.includes(`${e} ${n}`))n++;const s=`${e} ${n}`;this.$emit("update-collections",[...t,s])}};(0,r.gn)([(0,l.fI)()],_E.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],_E.prototype,"collections",void 0),(0,r.gn)([(0,l.fI)()],_E.prototype,"resourceName",void 0),_E=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,draggable:Em(),VariableRepeaterItem:yE.Z,IconButton:Ia.Z}})],_E);const xE=_E,CE=xE;var wE=(0,N.Z)(CE,bE,SE,!1,null,null,null);const PE=wE.exports;let IE=class extends s.ZP{onValueChange(){this.checkMissingCollections()}get collections(){return Q.cr.variablesCollections}get labels(){return this.value.map((e=>e.label))}get control(){return{options:{repeaterOptions:{buttonName:"Add Variable",templates:(0,fE.jI)(this.labels),autofocusOnAdd:!0,autofocusIndex:1}}}}checkMissingCollections(){const e=[...new Set(this.value.map((e=>e.collection)))],t=e.filter((e=>!this.collections.includes(e)));t.length&&Q.cr.setVariablesCollections(e)}beforeCreate(){this.$options.components.InlineRepeater=n(54966).Z}get collectionControls(){const e={};return this.collections.forEach((t=>{const n=(0,fE.jI)(this.labels,t);e[t]={...this.control,options:{...this.control.options,repeaterOptions:{...this.control.options?.repeaterOptions,templates:n}}}})),e}get variablesByCollection(){const e={};return this.collections.forEach((t=>{e[t]=this.value.filter((e=>e.collection===t))})),e}setVariable(e){const t=(0,Gc.Z)(this.value),n=t.findIndex((t=>t.id===e.id));-1!==n&&(t[n]=e),this.setVariables(t)}setVariables(e){this.$emit("input",e)}handleDrag(e,t){this.variablesByCollection[t]=e.map((e=>({...e,collection:t})));const n=[];this.collections.forEach((e=>{n.push(...this.variablesByCollection[e])})),this.setVariables(n)}setCollections(e){Pe.n.transaction((()=>{Q.cr.setVariablesCollections(e)}),"Set Variable Collections")}};(0,r.gn)([(0,l.fI)({default(){return[]}})],IE.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("value",{immediate:!0,deep:!0})],IE.prototype,"onValueChange",null),IE=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,IconButton:Ia.Z,draggable:Em(),CollectionsInput:PE,VariableRepeaterItem:yE.Z}})],IE);const kE=IE,EE=kE;var TE=(0,N.Z)(EE,mE,vE,!1,null,null,null);const DE=TE.exports;var AE=n(41836),ZE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-variables-panel-content"},[t("GlobalVariablesInput",{attrs:{value:e.variables},on:{input:e.updateVariables}})],1)},ME=[];let OE=class extends l.w3{get variables(){return Q.cr.variables||[]}updateVariables(e){Pe.n.transaction((()=>{Q.cr.setVariables(e)}),"Update Variables")}};OE=(0,r.gn)([(0,l.wA)({components:{GlobalVariablesInput:DE,Icon:He.Z}})],OE);const BE=OE,LE=BE;var NE=(0,N.Z)(LE,ZE,ME,!1,null,null,null);const RE=NE.exports;var FE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.variables,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setVariables","restore-method":"restoreVariablesRevision"}})},VE=[];let $E=class extends s.ZP{constructor(){super(...arguments),this.resourceKey="variables"}get variables(){return Q.cr.variables}get hasUnsavedChangesPresent(){return Q.cr.variablesHasUnsavedChangesPresent}get fetchRevisionsMethod(){return AE.u7}};$E=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:II,RevisionsList:LP}})],$E);const WE=$E,UE=WE;var zE=(0,N.Z)(UE,FE,VE,!1,null,null,null);const HE=zE.exports;var GE=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showMask?t("span",{staticClass:"oxy-panel-mask",on:{click:e.closeMask}}):e._e()},qE=[];let KE=class extends l.w3{get showMask(){return c.uiStore.panelState.oxyPanelIsMasked}closeMask(){c.uiStore.setPanelState({...c.uiStore.panelState,oxyPanelIsMasked:!1})}};KE=(0,r.gn)([(0,l.wA)({})],KE);const jE=KE,XE=jE;var YE=(0,N.Z)(XE,GE,qE,!1,null,"1dcc87c2",null);const QE=YE.exports;function JE(e,t,n="cssVariableName",s=!0){const i=t.map((e=>e[n])),o=e.filter((e=>!i.includes(e[n]))),a=t.map((t=>{const i=e.find((e=>e[n]===t[n]));return i&&s&&(t.id=i.id),t}));return{variablesToKeep:o,variables:[...o,...a]}}let eT=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get settingsToExport(){return c.globalStore.variables}get viewMode(){return c.uiStore.panelState.variablesPanelPanelActiveViewMode}async beforeMount(){c.uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.variables?await this.load():c.uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened("variables",!0)}toggleViewMode(){c.uiStore.setPanelState({...c.uiStore.panelState,variablesPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}async load(){this.isLoadingData=!0;const e=await(0,AE.Ap)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,AE.$Q)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.uiStore.requestClosingConfirmation({subject:"variables",confirmationDefinition:{title:"You have unsaved changes to your Variables.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.globalStore.variablesHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.uiStore.noClosingConfirmationIsNeededFor("variables")}get confirmationChosenOption(){return c.uiStore.closingConfirmations.variables?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.uiStore.setClosingConfirmationIsDiscarding({subject:"variables",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.uiStore.setClosingConfirmationIsSaving({subject:"variables",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,iu.TO)("variables")}addCollection(){"history"==this.viewMode&&this.toggleViewMode();const e=_r.hI,t=c.globalStore.variablesCollections;let n=1;while(t.includes(`${e} ${n}`))n++;const s=`${e} ${n}`;c.globalStore.setVariablesCollections([...t,s])}validateImport(e){return Array.isArray(e)?(0,Id.zG)(e,iw.eh.decode,(0,Ed.g_)((()=>(Ac.Z.log.errorMessage("Error importing Variables - the file is invalid."),!1)),(()=>!0))):(Ac.Z.log.errorMessage("Error importing Variables - the file is invalid or empty."),!1)}importVariables(e,t){Array.isArray(e)?Pe.n.transaction((()=>{if("replace"===t)c.globalStore.setVariables(e);else{const{variablesToKeep:t,variables:n}=JE(c.globalStore.variables,e);c.globalStore.setVariables(n),Ac.Z.log.message(`${e.length} variables imported. ${t.length} existing variables were kept.`)}}),"Import Variables"):Ac.Z.log.errorMessage("No Variables to import.")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],eT.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],eT.prototype,"handleConfirmationChosenOptionChange",null),eT=(0,r.gn)([(0,l.wA)({components:{ImportExportDropdownMenu:QP,PanelMask:QE,IconButton:Ia.Z,Tab:fx,TabsRow:wx,PanelHeader:Vw,SearchInput:xd.Z,ManageVariables:RE,VariablesHistory:HE,PanelHeaderButton:sP,GlobalVariablesInput:DE}})],eT);const tT=eT,nT=tT;var sT=(0,N.Z)(nT,hE,gE,!1,null,null,null);const iT=sT.exports;var oT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll presets-panel"},[e.isLoadingData?t(cP.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(bp.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.activePreset?t("EditPreset",{on:{close:e.close}}):e.activePreset?e._e():t("ManagePresets",{on:{close:e.close}})],1)},aT=[],rT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v(" Design Presets "),e.isHistoryEnabled?t("BrowseModeToggle",{attrs:{"panel-to-open":"presets"}}):e._e(),e.isHistoryEnabled?t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v(" history ")]):e._e()],1),t("FreeModeAlertForPresets",{staticClass:"ma-4"}),"controls"===e.viewMode?[e.isAddPresetEnabled?t("AddPreset"):e._e(),e.isImportExportEnabled?t("ImportExportPresets"):e._e(),t("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-presets"},[t("PresetsList",{attrs:{presets:e.presets,searchable:!0},on:{input:e.updatePresets}})],1)]:"history"===e.viewMode?[t("PresetsPanelHistoryViewMode")]:e._e()],2)},lT=[],cT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"vscroll-scroll presets-list"},[e.presets.length?e._l(e.presetsByElement,(function(n,s){return t("div",{key:s,staticClass:"presets-list-group breakdance-repeater-draggable"},[t("h4",{staticClass:"presets-list-title"},[e._v(e._s(e.getElementName(s)))]),e._l(n,(function(n,s){return t("div",{key:s,staticClass:"breakdance-repeater-item"},[t("RepeaterItemAccordion",{attrs:{"can-edit":!0,"can-drag":!1,"no-duplicate":!0},on:{"title:click":function(t){return e.editPreset(n)},"edit-item":function(t){return e.editPreset(n)},"delete-item":function(t){return e.deletePreset(n)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"breakdance-repeater-item-title-text"},[e._v(" "+e._s(n.name)+" ")])]},proxy:!0}],null,!0)})],1)}))],2)})):t("p",{staticClass:"manage-presets"},[e._v("You don't have any presets yet.")])],2),e.searchable?t("div",{staticClass:"properties-panel-search-box-wrap properties-panel-search-box-wrap-presets"},[t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),t("TextInput",{attrs:{placeholder:"Search"},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1):e._e()])},dT=[],uT=n(11656);let pT=class extends s.ZP{constructor(){super(...arguments),this.dragOptions={animation:200,handle:".breakdance-repeater-item-handler",filter:".breakdance-repeater-item--ignore-drag",ghostClass:"breakdance-repeater-item--ghost",forceFallback:!0},this.searchString=""}get presetsByElement(){const e={};return this.filteredPresets.forEach((t=>{e[t.availableForType]||(e[t.availableForType]=[]),e[t.availableForType].push(t)})),Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>e.name<t.name?-1:t.name<e.name?1:0))})),e}get filteredPresets(){if(this.searchString){const e=this.searchString?.toLowerCase()??"";return this.presets.filter((t=>t.name.toLowerCase().includes(e)))}return this.presets}deletePreset(e){const t=this.presets.findIndex((t=>t.id===e.id)),n=(0,Gc.Z)(this.presets);n.splice(t,1),this.$emit("input",n)}handleDrag(e){this.$emit("input",(0,Gc.Z)(e))}editPreset(e){c.uiStore.setActivePresetId(e.id),(0,iu.oM)("presets")}getElementName(e){return c.configStore.element(e).name}};(0,r.gn)([(0,l.fI)()],pT.prototype,"searchable",void 0),(0,r.gn)([(0,l.fI)()],pT.prototype,"presets",void 0),pT=(0,r.gn)([(0,l.wA)({components:{RepeaterItemAccordion:uT.Z,draggable:Em(),TextInput:Oo.Z,Icon:He.Z}})],pT);const hT=pT,gT=hT;var mT=(0,N.Z)(gT,cT,dT,!1,null,null,null);const vT=mT.exports;var fT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"add-preset"},[t("TextInput",{attrs:{placeholder:"Name"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPreset.apply(null,arguments)}},model:{value:e.newPresetName,callback:function(t){e.newPresetName=t},expression:"newPresetName"}}),t(vm.Z,{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{placeholder:"Element",items:e.elementsItems,dense:"",solo:"",flat:"",filled:"","hide-details":"","no-data-text":"No presets available"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPreset.apply(null,arguments)}},model:{value:e.newPresetType,callback:function(t){e.newPresetType=t},expression:"newPresetType"}}),t("NiceButton",{attrs:{size:"small"},on:{click:e.addPreset}},[e._v(" Add ")])],1)},yT=[];let bT=class extends s.ZP{constructor(){super(...arguments),this.newPresetName="",this.newPresetType=""}get elements(){return c.configStore.elements}get elementsItems(){return Object.values(this.elements).filter((e=>void 0!==e)).filter((e=>!(0,je.GF)(e.addPanelRules,e.settings))).map((e=>({text:e.name,value:e?.slug})))}addPreset(){if(!this.newPresetName||!this.newPresetType)return;const e=(0,ae.Lr)(this.newPresetName,this.newPresetType);(0,ae.xk)(e),this.newPresetName="",this.newPresetType=""}};bT=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,NiceButton:Cd.Z,TextInput:Oo.Z}})],bT);const ST=bT,_T=ST;var xT=(0,N.Z)(_T,fT,yT,!1,null,null,null);const CT=xT.exports;var wT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.presets,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setPresets","restore-method":"restorePresetsRevision"}})},PT=[];async function IT(){return(0,Id.zG)(await(0,Ec.D)({action:"breakdance_retrieve_presets_revisions",decoder:_P.hl}),(0,kc.mapLeft)((()=>null)),Ed.i$)}let kT=class extends s.ZP{constructor(){super(...arguments),this.resourceKey="presets"}get presets(){return Q.cr.presets}get hasUnsavedChangesPresent(){return Q.cr.presetsHasUnsavedChangesPresent}get fetchRevisionsMethod(){return IT}};kT=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:II,RevisionsList:LP}})],kT);const ET=kT,TT=ET;var DT=(0,N.Z)(TT,wT,PT,!1,null,null,null);const AT=DT.exports;var ZT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"manage-presets-import-export"},[t("div",[t("NiceButton",{attrs:{"left-icon":"UploadFileIcon",expanded:!0},on:{click:e.openFileUpload}},[e._v(" Import ")]),t("input",{ref:"fileUpload",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:e.importPresets}})],1),t("NiceButton",{attrs:{"left-icon":"DownloadFileIcon",small:"",expanded:!0},on:{click:e.exportPresets}},[e._v(" Export ")])],1)},MT=[],OT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ProOnlyAlertBox",{attrs:{options:{feature:"presets",content:`Design Presets are only available in ${e.$bdox("plugin_name")} Pro. They won't work on the frontend.`}}})},BT=[];let LT=class extends s.ZP{};LT=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:rg.Z}})],LT);const NT=LT,RT=NT;var FT=(0,N.Z)(RT,OT,BT,!1,null,null,null);const VT=FT.exports;let $T=class extends s.ZP{openFileUpload(){const e=this.$refs.fileUpload;e.click()}importPresets(e){const t=e.target,n=t.files&&t.files[0];if(!n)return;const s=new FileReader;s.onload=()=>{const e=s.result,t=(0,Ic.pipe)((0,NC.Z)(e,sw.p),(0,kc.fold)((()=>null),(e=>e)));if(null===t)return void Ac.Z.log.errorMessage("The file you selected is not a valid Presets file.");if(!t.length)return void Ac.Z.log.message("The file you selected does not contain any presets.");const n=t.map((e=>e.id)),i=c.globalStore.presets.filter((e=>!n.includes(e.id)));c.globalStore.setPresets([...i,...t])},s.readAsText(n),e.target.value=""}exportPresets(){const e=`breakdance-presets-${(0,Xo.z)()}.json`,t=(0,Ic.pipe)((0,yh.J)(c.globalStore.presets),(0,kc.fold)((()=>""),(e=>e))),n=document.createElement("a"),s=new Blob([t],{type:"application/json"});n.setAttribute("href",window.URL.createObjectURL(s)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}};$T=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForPresets:VT,AlertBox:ag.Z,PresetsPanelHistoryViewMode:AT,PanelHeaderButton:sP,BrowseModeToggle:lP,draggable:Em(),PresetsList:vT,AddPreset:CT,PanelHeader:Vw,IconButton:Ia.Z,NiceButton:Cd.Z}})],$T);const WT=$T,UT=WT;var zT=(0,N.Z)(UT,ZT,MT,!1,null,null,null);const HT=zT.exports;let GT=class extends s.ZP{get viewMode(){return c.uiStore.panelState.presetsPanelActiveViewMode}toggleViewMode(){c.uiStore.setPanelState({...c.uiStore.panelState,presetsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get presets(){return c.globalStore.presets}get isHistoryEnabled(){return c.configStore.isExperimentEnabled("design-presets-history")}get isAddPresetEnabled(){return c.configStore.isExperimentEnabled("design-presets-add")}get isImportExportEnabled(){return c.configStore.isExperimentEnabled("design-presets-import-export")}updatePresets(e){c.globalStore.setPresets((0,Gc.Z)(e))}};GT=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForPresets:VT,AlertBox:ag.Z,PresetsPanelHistoryViewMode:AT,PanelHeaderButton:sP,BrowseModeToggle:lP,draggable:Em(),PresetsList:vT,AddPreset:CT,PanelHeader:Vw,ImportExportPresets:HT}})],GT);const qT=GT,KT=qT;var jT=(0,N.Z)(KT,rT,lT,!1,null,null,null);const XT=jT.exports;var YT=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.activePreset?t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Preset ")]),t("div",{staticClass:"breakdance-preset-content"},[t("div",{staticClass:"breakdance-preset-element-name truncate"},[t("span",{staticClass:"breakdance-preset-element-name__icon"},[e.element?.uiIcon?t("ElementIcon",{attrs:{icon:e.element.uiIcon,size:"14"}}):e._e()],1),t("span",{staticClass:"truncate"},[e._v(e._s(e.element?.name))])]),t("div",{staticClass:"breakdance-preset-titlebar"},[t("div",{staticClass:"flex-grow-1 mr-2"},[t("div",{staticClass:"d-flex flex-column"},[t("TextInput",{attrs:{value:e.activePreset.name,placeholder:"Preset Name"},on:{input:e.tryToRenameActivePreset}})],1)]),t("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deletePreset}})],1)]),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"control-tree-search-term control-tree-search-term-preset"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("div",{staticClass:"edit-preset-border"}),e.isActiveElementRelatedToActivePreset||e.skipTypeCheckForActiveElement?[e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"design"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"design",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(U_.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"presets"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"preset"},on:{input:e.updateSearchBoxState}})]:t("div",{staticClass:"breakdance-preset-content"},[t("AlertBox",{staticClass:"mb-4",attrs:{options:{style:"info",content:`To edit, please select ${e.determineArticle(e.element?.name)}\n      <b>${e.element?.name}</b> with this preset applied to it`}}}),t("NiceButton",{attrs:{expanded:!0},on:{click:function(t){e.skipTypeCheckForActiveElement=!0}}},[e._v(" Edit Anyway ")])],1)],2):e._e()},QT=[];let JT=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.skipTypeCheckForActiveElement=!1,this.attemptingToRename=!1,this.editingPresetControlsTreeContext={getControls:()=>this.controls,getControlValue:e=>K()(c.uiStore.activePreset,`${e}`,void 0),setControlValue(e,t,n,s){if(!c.uiStore.activePreset)return;const i=(0,ge.getNodesByPresetId)(c.documentStore.document.tree,c.uiStore.activePreset.id);c.globalStore.throttledPresetPropertyChange((0,av._Z)({preset:c.uiStore.activePreset,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s)),i.forEach((n=>{Qr.w.run.onPropertyChange({elementId:n.id,path:e,value:(0,Gc.Z)(t),previousValue:"",transactionKey:void 0})}))},setAccordionState:(e,t)=>{const n=c.uiStore.activePreset&&c.uiStore.activePreset.id;n&&(0,pP.Q)(n,e,t)},getAccordionState:e=>{const t=c.uiStore.activePreset&&c.uiStore.activePreset.id;return!!t&&(0,pP.WX)(t,e)}}}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get isActiveElementRelatedToActivePreset(){return this.activeElement&&this.activeElement.data.type===this.activePreset?.availableForType&&this.activeElement.data?.properties?.meta?.preset===this.activePreset?.id}get activeElement(){return c.uiStore.activeElement}get activeElementId(){return c.uiStore.activeElementId}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get controlsFilteredBySearchParams(){return $x(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingPresetControlsTreeContext,"design")}get noSearchResults(){return 0===Ux(this.controlsFilteredBySearchParams,0)}get element(){return this.activePreset?c.configStore.element(this.activePreset.availableForType):null}get controls(){const e=this.element?.controls.designSections??[];return(0,ae.mJ)(e)}get activePreset(){return c.uiStore.activePreset}deletePreset(){if(!this.activePreset)return;const e=this.activePreset,t=c.globalStore.presets.findIndex((t=>t.id===e.id));if(-1!==t){const e=(0,Gc.Z)(c.globalStore.presets);e.splice(t,1),c.globalStore.setPresets(e)}}close(){this.backToAllPresets()}backToAllPresets(){c.uiStore.setActivePresetId(null)}tryToRenameActivePreset(e){if(!e)return;this.attemptingToRename=e;const t=c.globalStore.presets.findIndex((e=>e.id===this.activePreset?.id)),n=(0,Gc.Z)(c.globalStore.presets);n[t]&&(n[t].name=e,c.globalStore.setPresets(n),this.attemptingToRename=!1)}determineArticle(e){if(!e)return"a";const t=e[0].toLowerCase();return["a","e","i","o","u"].includes(t)?"an":"a"}};(0,r.gn)([(0,l.DF)("context")],JT.prototype,"editingPresetControlsTreeContext",void 0),JT=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,ElementIcon:Gb.Z,FreeModeAlertForPresets:VT,AlertBox:ag.Z,ControlsTree:K_["default"],SearchBox:lx,IconButton:Ia.Z,PanelHeader:Vw,TextInput:Oo.Z,SearchBoxEmptyState:Xx,NiceButton:Cd.Z}})],JT);const eD=JT,tD=eD;var nD=(0,N.Z)(tD,YT,QT,!1,null,null,null);const sD=nD.exports;let iD=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get activePreset(){return c.uiStore.activePreset}async beforeMount(){c.uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.presets?(c.uiStore.setPanelState({...c.uiStore.panelState,presetsPanelActiveViewMode:"controls"}),await this.load()):c.uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened("presets",!0)}async load(){this.isLoadingData=!0;const e=await(0,ae.wQ)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,ae.rE)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.uiStore.requestClosingConfirmation({subject:"presets",confirmationDefinition:{title:"You have unsaved changes to your Presets.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.globalStore.presetsHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.uiStore.noClosingConfirmationIsNeededFor("presets")}get confirmationChosenOption(){return c.uiStore.closingConfirmations.presets?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.uiStore.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.uiStore.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,iu.TO)("presets")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],iD.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],iD.prototype,"handleConfirmationChosenOptionChange",null),iD=(0,r.gn)([(0,l.wA)({components:{EditPreset:sD,ManagePresets:XT}})],iD);const oD=iD,aD=oD;var rD=(0,N.Z)(aD,oT,aT,!1,null,null,null);const lD=rD.exports;var cD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close}},[e._v(" AI Assistant ")]),e.canViewTabs?t("TabsRow",{staticClass:"ai-panel-tabs",attrs:{"fixed-tabs":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("Tab",{attrs:{value:e.tab,id:"write"},on:{input:function(t){e.tab=t}}},[t("Icon",{attrs:{icon:"PenIcon",size:"18"}})],1),t("Tab",{attrs:{value:e.tab,id:"settings"},on:{input:function(t){e.tab=t}}},[t("Icon",{attrs:{icon:"GearIcon",size:"18"}})],1)],1):e._e(),t("div",{staticClass:"ai-panel-content vscroll-wrap vscroll-scroll"},[e.loadingSettings?t(bp.Z,{staticClass:"d-block mx-auto my-4",attrs:{size:"48",indeterminate:"",color:"var(--indigo600)"}}):e.pluginNotInstalled?t("AIPluginNotInstalled"):e.settings.isApiKeySet?[e.element||"write"!==e.tab?"write"===e.tab?t("AIWriter",{attrs:{title:`Rewrite ${e.friendlyName}`,prompt:e.prompt,loading:e.rewriteInProgress,disabled:e.isAIDisabled,"element-name":e.elementConfig?.name,"locked-fields":e.lockedFields},on:{rewrite:e.rewrite,updatePrompt:e.updatePrompt}}):"images"===e.tab?t("AIUnsplash"):"settings"===e.tab?t("AISettings",{attrs:{settings:e.settings.prompt,loading:e.savingSettings},on:{input:e.updateSettings}}):e._e():t("AINoElementSelected")]:t("AINoApiKey")],2)],1)},dD=[],uD=n(87808),pD=n(76491),hD=n(45335),gD=n(74959),mD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-unsplash"},[t("h3",{staticClass:"ai-panel__title"},[e._v("Unsplash")]),t("div",[t("p",[e._v(" Fetch images from Unsplash to use in your content, they are automatically added to Image elements in the selected section. ")]),t("label",[e._v("Keywords")]),t("div",{staticClass:"ai-images-search-input"},[t("TextInput",{on:{blur:e.talkToUnsplash},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),t(Do.Z,{staticClass:"ai-images-preview-btn",attrs:{small:"",text:"",color:"primary"},on:{click:e.talkToUnsplash}},[e._v(" Preview ")])],1),t("div",{staticClass:"my-2"},[t("label",[e._v("Orientation")]),t("ButtonBarInput",{staticClass:"mb-3",attrs:{items:[{text:"Landscape",value:"landscape"},{text:"Portrait",value:"portrait"},{text:"Squarish",value:"squarish"}]},model:{value:e.orientation,callback:function(t){e.orientation=t},expression:"orientation"}})],1),t(fm.Z,{attrs:{label:"Fill Empty Images Only","hide-details":""},model:{value:e.fillEmptyImagesOnly,callback:function(t){e.fillEmptyImagesOnly=t},expression:"fillEmptyImagesOnly"}}),e.images.length?t("div",{staticClass:"mt-2"},[t("h4",[e._v("Preview")]),t("div",{staticClass:"ai-images-preview"},e._l(e.images,(function(e){return t("a",{key:e.id,attrs:{href:e.urls.full,target:"_blank"}},[t("img",{attrs:{src:e.urls.small,alt:""}})])})),0)]):e._e(),t("NiceButton",{staticClass:"ai-button",attrs:{loading:e.loading,size:"huge",disabled:0===e.imagesFields.length},on:{click:e.fetchImages}},[0===e.imagesFields.length?[e._v(" No images found in this section ")]:[e._v(" Import Images From Unsplash ")]],2)],1)])},vD=[];let fD=class extends l.w3{constructor(){super(...arguments),this.images=[],this.loading=!1,this.fillEmptyImagesOnly=!1,this.keywords="",this.orientation=null}get imagesFields(){return c.uiStore.activeElement?(0,hD.ho)(c.uiStore.activeElement):[]}async fetchImages(){if(this.keywords)if(0!==this.imagesFields.length){if(this.loading=!0,await this.talkToUnsplash(),!this.images.length)return Ac.Z.log.errorMessage("No images found. Please try again with different keywords."),void(this.loading=!1);(0,hD.hh)(this.imagesFields,this.images,this.fillEmptyImagesOnly),this.loading=!1,this.keywords="",this.images=[]}else Ac.Z.log.errorMessage("No images to complete. Please add an image to the section first.");else Ac.Z.log.errorMessage("Please enter a keyword to fetch images.")}async talkToUnsplash(){this.images=await(0,pD.Ig)([this.keywords],this.imagesFields.length,this.orientation)}};fD=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,NumberInput:Hc.Z,IconButton:Ia.Z,NiceButton:Cd.Z,ButtonBarInput:mg.Z,TopBarSection:hc}})],fD);const yD=fD,bD=yD;var SD=(0,N.Z)(bD,mD,vD,!1,null,null,null);const _D=SD.exports;var xD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-business"},[t("h3",{staticClass:"ai-panel__title"},[e._v("Tell us about your business")]),t("div",{staticClass:"ai-business-form mb-5"},[t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v("Business Name")]),t("TextInput",{attrs:{value:e.settings.businessName},on:{input:function(t){return e.updateField("businessName",t)}}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Qualifiers (optional) ")]),t("TextInput",{attrs:{value:e.settings.qualifiers},on:{input:function(t){return e.updateField("qualifiers",t)}}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Describe Your Business ")]),t("TextInput",{attrs:{value:e.settings.businessDescription,multiline:!0},on:{input:function(t){return e.updateField("businessDescription",t)}}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Macros ")]),t("Repeater",{attrs:{value:e.settings.presets,control:{options:{repeaterOptions:{titleTemplate:"{name}",defaultTitle:"Macro",buttonName:"Add Macro"}}}},on:{input:e.updatePresets},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Name ")]),t("TextInput",{on:{input:function(t){return e.updatePreset("name",t,n)}},model:{value:e.settings.presets[n].name,callback:function(t){e.$set(e.settings.presets[n],"name",t)},expression:"settings.presets[repeaterIndex].name"}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Prompt ")]),t("TextInput",{attrs:{placeholder:"Example:\nShorten the following text",multiline:!0,"variable-options":{enabled:!0},"variable-items":[{text:"Field's Value",value:"text"}]},on:{input:function(t){return e.updatePreset("prompt",t,n)}},model:{value:e.settings.presets[n].prompt,callback:function(t){e.$set(e.settings.presets[n],"prompt",t)},expression:"settings.presets[repeaterIndex].prompt"}})],1)]}}])})],1)])])},CD=[];let wD=class extends l.w3{updateField(e,t){const n=(0,Gc.Z)(this.settings);n[e]=t,this.$emit("input",n)}updatePresets(e){const t=(0,Gc.Z)(this.settings);t.presets=e,this.$emit("input",t)}updatePreset(e,t,n){const s=(0,Gc.Z)(this.settings),i=s.presets||[];i[n][e]=t,s.presets=i,this.$emit("input",s)}};(0,r.gn)([(0,l.fI)()],wD.prototype,"settings",void 0),(0,r.gn)([(0,l.fI)()],wD.prototype,"loading",void 0),wD=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,NumberInput:Hc.Z,IconButton:Ia.Z,TopBarSection:hc,NiceButton:Cd.Z,DropdownInput:zc.Z,Repeater:Dm.Z}})],wD);const PD=wD,ID=PD;var kD=(0,N.Z)(ID,xD,CD,!1,null,null,null);const ED=kD.exports;var TD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-writer"},[t("h3",{staticClass:"ai-panel__title"},[e._v(e._s(e.title))]),t("div",{staticClass:"ai-writer-field mb-4"},[t("label",{staticClass:"ai-writer-field__label",attrs:{for:""}},[e._v("Describe This Section")]),t("TextInput",{attrs:{value:e.prompt.sectionDescription,multiline:!0},on:{input:function(t){return e.updateField("sectionDescription",t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:(t.preventDefault(),e.$emit("rewrite")):null}}}),t(RI.Z,{attrs:{"max-width":"236",bottom:""},scopedSlots:e._u([{key:"activator",fn:function({attrs:n,on:s}){return[t("span",{staticClass:"d-block text-right"},[t("span",e._g(e._b({staticClass:"ai-writer-tooltip"},"span",n,!1),s),[t("Icon",{attrs:{icon:"CircleInfoIcon",size:"14"}}),e._v(" See examples ")],1)])]}}])},[t("div",[e._v(" Examples: "),t("ul",[t("li",[e._v("Homepage hero section")]),t("li",[e._v("Call to action section on services page")]),t("li",[e._v("Section showing testimonials")])])])])],1),t("div",{staticClass:"ai-writer-field mb-4"},[t("label",{staticClass:"ai-writer-field__label",attrs:{for:""}},[e._v("Qualifiers (optional)")]),t("TextInput",{attrs:{value:e.prompt.qualifiers},on:{input:function(t){return e.updateField("qualifiers",t)}}}),t(RI.Z,{attrs:{"max-width":"236",bottom:""},scopedSlots:e._u([{key:"activator",fn:function({attrs:n,on:s}){return[t("span",{staticClass:"d-block text-right"},[t("span",e._g(e._b({staticClass:"ai-writer-tooltip"},"span",n,!1),s),[t("Icon",{attrs:{icon:"CircleInfoIcon",size:"14"}}),e._v(" See examples ")],1)])]}}])},[t("div",[e._v(" Examples: "),t("ul",[t("li",[e._v("Be funny")]),t("li",[e._v("Write it like snoop dogg")]),t("li",[e._v("Be very concise")]),t("li",[e._v("Be verbose")]),t("li",[e._v("Mention apples, oranges, and bananas")])])])])],1),t("div",{staticClass:"ai-writer-field ai-writer-field--row"},[t("label",{staticClass:"ai-writer-field__label",attrs:{for:""}},[e._v("Temperature")]),t("NumberInput",{attrs:{value:e.prompt.temperature,"range-options":{min:0,max:1,step:.1}},on:{input:e.updateTemperature}})],1),e.disabled?t("AlertBox",{staticClass:"mt-5",attrs:{options:{style:"warning",content:`The <b>${e.elementName}</b> element does not support AI writing.`}}}):e._e(),e.lockedFields.length?t("div",{staticClass:"ai-writer-warning"},[t("div",{on:{click:function(t){e.viewWarning=!e.viewWarning}}},[t("AlertBox",{attrs:{options:{style:"warning",content:"Some fields are locked and will not be updated by AI. <b class='cursor-pointer'>Click to view.</b>"}}})],1),e.viewWarning?t("ul",{staticClass:"ai-write-warning-list"},e._l(e.lockedFields,(function(n){return t("li",[e._v(" "+e._s(n.field.label)+" Field in "),t("b",{staticClass:"cursor-pointer",on:{click:function(t){return e.activateElement(n.nodeId)}}},[e._v(" "+e._s(e.isActiveElement(n.nodeId)?"This":n.nodeName)+" Element ")])])})),0):e._e()]):e._e(),t("NiceButton",{staticClass:"ai-writer-button",attrs:{loading:e.loading,leftIcon:"SparklesIcon",color:"indigo",size:"huge",disabled:e.disabled},on:{click:function(t){return e.$emit("rewrite")}}},[e._v(" Rewrite With AI ")])],1)},DD=[];let AD=class extends l.w3{constructor(){super(...arguments),this.viewWarning=!1}updateField(e,t){const n=(0,Gc.Z)(this.prompt);Uc()(n,e,t),this.$emit("updatePrompt",n)}updateTemperature(e){const t=Math.max(0,Math.min(1,e));this.updateField("temperature",t)}isActiveElement(e){return Q.kD.activeElementId===e}activateElement(e){Q.kD.activateElement(e)}};(0,r.gn)([(0,l.fI)()],AD.prototype,"prompt",void 0),(0,r.gn)([(0,l.fI)()],AD.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({default:!1})],AD.prototype,"loading",void 0),(0,r.gn)([(0,l.fI)({default:!1})],AD.prototype,"disabled",void 0),(0,r.gn)([(0,l.fI)({default:""})],AD.prototype,"elementName",void 0),(0,r.gn)([(0,l.fI)({default(){return[]}})],AD.prototype,"lockedFields",void 0),AD=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,TextInput:Oo.Z,NiceButton:Cd.Z,NumberInput:Hc.Z,ToggleInput:tp.Z,AlertBox:ag.Z}})],AD);const ZD=AD,MD=ZD;var OD=(0,N.Z)(MD,TD,DD,!1,null,null,null);const BD=OD.exports;var LD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel-message"},[t("Icon",{staticClass:"ai-panel-message__icon",attrs:{size:"60",icon:"RobotIcon"}}),t(Fc.EB,{staticClass:"ai-panel-message__title"},[e._v(" Welcome to Breakdance AI ")]),t("p",[e._v("Rewrite your content with the power of AI.")]),t("p",[e._v(" Breakdance uses OpenAI's GPT-3.5 to rewrite your content. Please install the Breakdance AI plugin to use this feature. ")]),t("NiceButton",{attrs:{size:"huge",color:"indigo"},on:{click:e.goToPluginPage}},[e._v(" Install now ")])],1)},ND=[];let RD=class extends l.w3{goToPluginPage(){window.open("https://breakdance.com/ai","_blank")}};RD=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z}})],RD);const FD=RD,VD=FD;var $D=(0,N.Z)(VD,LD,ND,!1,null,null,null);const WD=$D.exports;var UD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel-message"},[t("Icon",{staticClass:"ai-panel-message__icon",attrs:{size:"60",icon:"RobotIcon"}}),t(Fc.EB,{staticClass:"ai-panel-message__title"},[e._v(" Set up your OpenAI API key ")]),t("p",[e._v(" You need to set up your OpenAI API key before you can use the AI assistant. ")]),t("p",[t("a",{attrs:{href:e.wpAdminSettingsAiTabUrl,target:"_blank",rel:"noopener noreferrer"}},[e._v(" Click here to set up your API key ")])])],1)},zD=[];let HD=class extends l.w3{get wpAdminSettingsAiTabUrl(){return"wp-admin/admin.php?page="+this.$bdox("admin_page_settings_slug")+"&tab=ai"}};HD=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z}})],HD);const GD=HD,qD=GD;var KD=(0,N.Z)(qD,UD,zD,!1,null,null,null);const jD=KD.exports;var XD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel-message"},[t("Icon",{staticClass:"ai-panel-message__icon",attrs:{size:"60",icon:"RobotIcon"}}),t(Fc.EB,{staticClass:"ai-panel-message__title"},[e._v(" Select an element first ")]),t("p",[e._v("Click on an element in the editor to rewrite it with AI.")])],1)},YD=[];let QD=class extends l.w3{};QD=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z}})],QD);const JD=QD,eA=JD;var tA=(0,N.Z)(eA,XD,YD,!1,null,null,null);const nA=tA.exports;let sA=class extends l.w3{constructor(){super(...arguments),this.rewriteInProgress=!1,this.savingSettings=!1,this.loadingSettings=!1,this.pluginNotInstalled=!1,this.activeTab="content",this.tab="write",this.maxRetries=3,this.retries=0}get element(){return c.uiStore.activeElement||null}get elementConfig(){return this.element?c.configStore.element(this.element.data.type):null}get isAIDisabled(){return this.elementConfig?.settings&&this.elementConfig?.settings.disableAI}get settings(){return c.globalStore.aiSettings}get prompt(){return{sectionDescription:this.elementDescription,qualifiers:this.qualifiers,temperature:this.temperature,lockedFields:this.lockedFieldsPaths,locale:this.settings.locale,unsplash:{enabled:!1,fillEmptyImagesOnly:!1,keywords:""},singularity:{sectionData:{type:!1,index:!1},shouldGenerateOnInitialLoad:!1,unsplashKeywords:[]},onboarding:{sectionType:!1,shouldGenerateOnInitialLoad:!1}}}get friendlyName(){return this.element?(0,hD.w2)(this.element):"Section"}get elementDescription(){return this.element?(0,hD.EJ)(this.element):""}get qualifiers(){return this.element?(0,hD.zX)(this.element):""}get temperature(){return this.element?(0,hD.Wh)(this.element):1}get canViewTabs(){return this.settings.isApiKeySet&&!this.pluginNotInstalled}get unsavedChangesPresent(){return c.globalStore.aiSettingsHasUnsavedChangesPresent}get lockedFieldsPaths(){return this.element?(0,hD.nS)(this.element):[]}get lockedFields(){return this.element?(0,hD.LX)(this.element).filter((e=>e.field.locked)):[]}async fetchAndUpdateImages(e){if(!this.element)return;const t=(0,hD.ho)(this.element),{enabled:n,fillEmptyImagesOnly:s}=this.prompt.unsplash;if(!n)return;if(!e)return void this.log("Failed to get Unsplash keywords from OpenAI API.");const i=await(0,pD.Ig)(e,t.length);(0,hD.hh)(t,i,s)}async syncRewrite(e,t){const n=(0,Ic.pipe)(await(0,pD.Tk)(e),(0,kc.fold)((()=>null),(e=>e)));if(!n)throw new Error("No response was returned from OpenAI API.");const s=(0,hD.wi)(n,t);if(!s.elements.length)throw new Error("No elements were returned from OpenAI API.");(0,hD.gU)(s.elements),await this.fetchAndUpdateImages(s.unsplash_keywords)}async streamRewrite(e,t){await(0,pD.ho)(e,"json",this.temperature);const n=(0,pD.m3)();let s="";return new Promise(((e,i)=>{n.onmessage=async o=>{if("[DONE]"===o.data){n.close();try{const n=(0,uD.K)(s),i=(0,hD.wi)(n,t);(0,hD.gU)(i.elements),console.log("%cOutput","color: green;"),console.log(n),e(s)}catch(a){i(a)}}else{if(s+=(0,pD.y8)(o.data),s=(0,pD.J4)(s),!s)return;try{const e=(0,pD.n7)(s),n=(0,uD.K)(e),i=(0,hD.wi)(n,t);(0,hD.gU)(i.elements)}catch(a){console.debug(s),console.debug(a)}}},n.onerror=e=>{n.close(),i(e.data)}}))}async rewrite(){if(this.rewriteInProgress)return;if(!this.element)return;const e=(0,hD.LX)(this.element),t=(0,gD.ee)(e),n=(0,gD.r1)(t,this.prompt,this.settings.prompt);if(this.rewriteInProgress=!0,(0,hD.JA)(this.element,this.prompt),console.log("%cInput","color: #2196F3;"),console.log({fields:e,prompt:n}),!e.length)return this.log("This element is empty, please add some content first."),void(this.rewriteInProgress=!1);try{this.settings.isStreamingEnabled?await this.streamRewrite(n,e):await this.syncRewrite(n,e)}catch(s){await this.retry(s)}this.rewriteInProgress=!1}async retry(e){this.rewriteInProgress=!1,this.retries<this.maxRetries?(console.log(`%cRetrying ${this.retries+1} of ${this.maxRetries}`,"color: #2196F3;"),this.retries++,await this.rewrite()):(this.retries=0,console.log("Max retries reached, giving up."),this.handleError(e))}handleError(e){(0,hD.Qm)(e)}updateSettings(e){const t=(0,Gc.Z)(this.settings);t.prompt=e,c.globalStore.setAiSettings(t)}async savePromptSettings(){this.savingSettings=!0;const e=await(0,pD.yV)();return this.savingSettings=!1,e}async loadSettings(){this.loadingSettings=!0;const e=await(0,pD.I8)();return e?(this.loadingSettings=!1,this.pluginNotInstalled=!1,!0):(c.uiStore.noClosingConfirmationIsNeededFor("ai"),this.pluginNotInstalled=!0,this.loadingSettings=!1,!1)}updatePrompt(e){this.element&&c.documentStore.unthrottledPropertyChanged({elementId:this.element.id,path:"meta.promptInfo",meta:{snapshotLabel:`Updated prompt info for element #${this.element.id}`},value:e})}requestPanelClosingConfirmation(){c.uiStore.requestClosingConfirmation({subject:"ai",confirmationDefinition:{title:"You have unsaved changes to your AI Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.uiStore.noClosingConfirmationIsNeededFor("ai")}get confirmationChosenOption(){return c.uiStore.closingConfirmations.ai?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.uiStore.setClosingConfirmationIsDiscarding({subject:"ai",isDiscarding:!0}),await this.loadSettings()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.uiStore.setClosingConfirmationIsSaving({subject:"ai",isSaving:!0}),await this.savePromptSettings()?this.close():this.requestPanelClosingConfirmation())}close(){(0,iu.TO)("ai")}log(e){Ac.Z.log.errorMessage(e)}async beforeMount(){c.uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.ai?await this.loadSettings():c.uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened("ai",!0)}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],sA.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],sA.prototype,"handleConfirmationChosenOptionChange",null),sA=(0,r.gn)([(0,l.wA)({components:{Tab:fx,Icon:He.Z,TabsRow:wx,NiceButton:Cd.Z,PanelHeader:Vw,AIWriter:BD,AIUnsplash:_D,AISettings:ED,AINoApiKey:jD,AIPluginNotInstalled:WD,AINoElementSelected:nA}})],sA);const iA=sA,oA=iA;var aA=(0,N.Z)(oA,cD,dD,!1,null,null,null);const rA=aA.exports;var lA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-properties-panel breakdance-element-properties-panel",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[t("Titlebar",{attrs:{size:"small"}}),t("OxygenTabsAndControls")]:[t("BlankSidebarContent")]],2)},cA=[],dA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-tabs-controls"},[e.isComponent?e._e():t("header",{staticClass:"oxy-properties-panel-toolbar"},[t("div",{staticClass:"oxy-properties-panel-toolbar-section"},[t("ClassDropdown")],1)]),t("div",{staticClass:"oxy-tabs",class:{"oxy-tabs--expand-to-fit":e.filteredTabs.length<4}},e._l(e.filteredTabs,(function(n){return t("OxygenCopyPastContextMenu",{key:n.slug,attrs:{name:n.name,value:e.getSettingsData(n.slug),path:n.slug},on:{input:function(t){return e.setSettingsData(n.slug,t)}},scopedSlots:e._u([{key:"default",fn:function({openContextMenu:s}){return[t(RI.Z,{attrs:{"content-class":"oxy-tooltip",top:"","open-delay":500,transition:"0",text:n.name},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:o}){return[t("button",e._g(e._b({staticClass:"oxy-tabs-item",class:{"oxy-tabs-item--active":e.activeTabSlug===n.slug,"oxy-tabs-item--filled":e.tabHasData(n.slug)},on:{click:function(t){return e.updateTab(n.slug)},contextmenu:s}},"button",o,!1),i),[t("Icon",{attrs:{icon:n.icon}})],1)]}}],null,!0)},[t("span",{domProps:{innerHTML:e._s(n.name)}})])]}}],null,!0)})})),1),t("div",{staticClass:"vscroll-wrap vscroll-scroll oxy-tab",class:`oxy-tab-${e.activeTabSlug}`},["classes"===e.activeTabSlug?t("ClassProperties",{attrs:{selector:e.activeSelector,"nested-selector":e.activeNestedSelector}}):"attributes"===e.activeTabSlug?t("OxygenHtmlAttributes"):t("ControlsTree",{attrs:{controls:e.controlSections,path:e.path}})],1),t("PanelMask")],1)},uA=[],pA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-class-properties"},[e.selector?.locked&&!e.editAnyway?t("div",{staticClass:"oxy-class-properties__locked-warning"},[t("p",[e._v(" The selector "),t("b",[e._v(e._s(e.selector?.name))]),e._v(" is locked. "),t("br"),e._v(" Are you sure you want to edit? ")]),t("nice-button",{on:{click:function(t){e.editAnyway=!0}}},[e._v("Edit anyway")])],1):t("OxygenControls",{attrs:{controls:e.controls,root:!0},model:{value:e.propertiesAtCurrentBreakpoint,callback:function(t){e.propertiesAtCurrentBreakpoint=t},expression:"propertiesAtCurrentBreakpoint"}}),t("span",{staticClass:"oxy-class-properties-spacer"})],1)},hA=[],gA=n(82078);const mA=bg.LF.indexOf("custom"),vA=[...bg.LF.slice(0,mA),"none",...bg.LF.slice(mA)],fA=[{slug:"layout",name:"Layout",type:"accordion",open:!0,controls:[{slug:"display",name:"Display",type:"button-bar",items:[{value:"block",label:"Block"},{value:"flex",label:"Flex"},{value:"grid",label:"Grid"},{value:"none",label:"None"},{value:"inline-block",label:"Inline Block",shortLabel:"In. Block"},{value:"inline-flex",label:"Inline Flex",shortLabel:"In. Flex"},{value:"inline-grid",label:"Inline Grid",shortLabel:"In. Grid"},{value:"inline",label:"Inline"},{value:"contents",label:"Contents"}],hideAfter:4},{slug:"flex_direction",name:"Flow",type:"button-bar",hideAfter:3,items:[{value:"row",label:"Row",icon:"ArrowRightIcon",hideLabel:!0},{value:"column",label:"Column",icon:"ArrowDownIcon",hideLabel:!0},{value:"wrap",label:"Wrap",icon:"ArrowTurnDownLeftIcon",hideLabel:!0},{value:"row-reverse nowrap",label:"Row Reverse",shortLabel:"Row Rev."},{value:"row-reverse wrap",label:"Row Reverse Wrap",shortLabel:"Row Rev. Wrap"},{value:"column wrap",label:"Column Wrap",shortLabel:"Col. Wrap"},{value:"column-reverse nowrap",label:"Column Reverse",shortLabel:"Col. Rev."},{value:"column-reverse wrap",label:"Column Reverse Wrap",shortLabel:"Col. Rev. Wrap"},{value:"wrap-reverse",label:"Wrap-Reverse",shortLabel:"Wrap-Rev."}],conditions:["layout.display","in",["flex","inline-flex"]]},{slug:"flex_align",name:"Align",type:"align",conditions:["layout.display","in",["flex","inline-flex"]]},{slug:"grid",name:"Grid",type:"group",columns:11,controls:[{slug:"simple_grid_template_columns",name:"Columns",type:"number",width:5,positionLabel:"bottom",disabledConditions:["layout.grid.enable_advanced_mode","==",!0]},{slug:"simple_grid_template_rows",name:"Rows",type:"number",width:5,positionLabel:"bottom",disabledConditions:["layout.grid.enable_advanced_mode","==",!0]},{slug:"enable_advanced_mode",name:"Enable Advanced Mode",type:"button",icon:"GearIcon",width:1,hideLabel:!0}],conditions:["layout.display","in",["grid","inline-grid"]]},{slug:"grid_template_columns",name:"Columns",type:"repeater",noDataMessage:"No columns",noExpand:!0,noDisable:!0,defaultTitle:"Column",itemIcon:"LeftAndRightArrowsIcon",titleTemplate(e){return`${e.size?.style||"(empty)"}`},defaultNewValue:{size:{number:"1",unit:"fr",style:"1fr"}},controls:[{slug:"size",name:"Size",type:"unit",defaultType:"fr",types:["fr",...bg.LF],min:.25,max:5,step:.25}],conditions:[["layout.display","in",["grid","inline-grid"]],["layout.grid.enable_advanced_mode","==",!0]]},{slug:"grid_template_rows",name:"Rows",type:"repeater",noDataMessage:"No rows",noExpand:!0,noDisable:!0,defaultTitle:"Row",itemIcon:"LeftAndRightArrowsIcon",titleTemplate(e){return`${e.size?.style||"(empty)"}`},defaultNewValue:{size:{number:"1",unit:"fr",style:"1fr"}},controls:[{slug:"size",name:"Size",type:"unit",defaultType:"fr",types:["fr",...bg.LF],min:.25,max:5,step:.25}],conditions:[["layout.display","in",["grid","inline-grid"]],["layout.grid.enable_advanced_mode","==",!0]]},{slug:"grid_area",name:"Areas",type:"repeater",noDisable:!0,noExpand:!0,defaultNewValue:{name:"Area-{index}"},defaultTitle:"Area",titleTemplate(e){return`${e.name}`},noDataMessage:"No areas",controls:[{slug:"name",name:"Name",type:"text"}],conditions:[["layout.display","in",["grid","inline-grid"]],["layout.grid.enable_advanced_mode","==",!0]]},{slug:"grid_auto_columns",name:"Auto Columns",type:"unit",defaultType:"fr",types:["fr",...bg.LF],conditions:[["layout.display","in",["grid","inline-grid"]],["layout.grid.enable_advanced_mode","==",!0]],width:6,positionLabel:"bottom"},{slug:"grid_auto_rows",name:"Auto Rows",type:"unit",defaultType:"fr",types:["fr",...bg.LF],conditions:[["layout.display","in",["grid","inline-grid"]],["layout.grid.enable_advanced_mode","==",!0]],width:6,positionLabel:"bottom"},{slug:"grid_auto_flow",name:"Flow",type:"button-bar",items:[{value:"row",label:"Row",icon:"ArrowRightIcon",hideLabel:!0},{value:"column",label:"Column",icon:"ArrowDownIcon",hideLabel:!0}],conditions:["layout.display","in",["grid","inline-grid"]]},{slug:"grid_align",name:"Align",type:"align",conditions:["layout.display","in",["grid","inline-grid"]]},{slug:"gap",name:"Gap",type:"gap",conditions:["layout.display","in",["grid","inline-grid","flex","inline-flex"]]},{slug:"grid_justify_content",name:"Justify",type:"button-bar",items:[{value:"start",label:"Start",icon:"FlexAlignLeftIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterHorizontalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignRightIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-between",label:"Space Between",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-around",label:"Space Around",icon:"SquareQuestionIcon",hideLabel:!0}],conditions:["layout.display","in",["grid","inline-grid"]]},{slug:"grid_align_content",name:"Align C.",type:"button-bar",items:[{value:"start",label:"Start",icon:"FlexAlignTopIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterVerticalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignBottomIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-between",label:"Space Between",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-around",label:"Space Around",icon:"SquareQuestionIcon",hideLabel:!0}],conditions:["layout.display","in",["grid","inline-grid"]]}]},{slug:"spacing",name:"Spacing",type:"accordion",controls:[{slug:"spacing",name:"spacing",type:"spacing",hideLabel:!0}]},{slug:"size",name:"Size",type:"accordion",controls:[{slug:"width",name:"Width",type:"unit",width:6},{slug:"height",name:"Height",type:"unit",width:6},{slug:"max_width",name:"Max W",type:"unit",width:6,types:vA},{slug:"max_height",name:"Max H",type:"unit",width:6,types:vA},{slug:"min_width",name:"Min W",type:"unit",width:6},{slug:"min_height",name:"Min H",type:"unit",width:6},{slug:"overflow",name:"Overflow",type:"button-bar",items:[{label:"Visible",value:"visible",icon:"EyeSolidIcon",hideLabel:!0},{label:"Hidden",value:"hidden",icon:"EyeSlashSolidIcon",hideLabel:!0},{label:"Scroll",value:"scroll",icon:"ComputerMouseScrollWheelIcon",hideLabel:!0},{label:"Clip",value:"clip",icon:"ScissorsIcon",hideLabel:!0},{label:"Auto",value:"auto"}]},{name:"Ratio",slug:"aspect_ratio",type:"select",items:[{label:"16:9",value:"16 / 9"},{label:"4:3",value:"4 / 3"},{label:"3:2",value:"3 / 2"},{label:"Square (1:1)",value:"1"},{label:"Custom",value:"custom"}]},{slug:"aspect_ratio_custom",name:"",type:"group",controls:[{slug:"width",name:"Width",type:"number",width:6,positionLabel:"bottom"},{slug:"height",name:"Height",type:"number",width:6,positionLabel:"bottom"}],conditions:["size.aspect_ratio","==","custom"]},{name:"Obj Fit",slug:"object_fit",type:"select",items:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"None",value:"none"},{label:"Scale Down",value:"scale-down"}]},{name:"Position",slug:"object_position",type:"focus-point",conditions:["size.object_fit","not in",[void 0,"none"]]},{name:"Box Size",slug:"box_sizing",type:"button-bar",width:12,items:[{label:"Border Box",value:"border-box"},{label:"Content Box",value:"content-box"}]}]},{slug:"position",name:"Position",type:"accordion",controls:[{slug:"position",name:"Position",type:"select",items:[{label:"Static",value:"static"},{label:"Relative",value:"relative"},{label:"Absolute",value:"absolute"},{label:"Fixed",value:"fixed"},{label:"Sticky",value:"sticky"}]},{slug:"top",name:"Top",type:"unit",width:6,conditions:["position.position","not in",["static",void 0]]},{slug:"right",name:"Right",type:"unit",width:6,conditions:["position.position","not in",["static",void 0]]},{slug:"bottom",name:"Bottom",type:"unit",width:6,conditions:["position.position","not in",["static",void 0]]},{slug:"left",name:"Left",type:"unit",width:6,conditions:["position.position","not in",["static",void 0]]},{slug:"z_index",name:"Z-Index",type:"number",width:6,conditions:["position.position","not in",["static",void 0]]}]},{slug:"typography",name:"Typography",type:"accordion",hideAfter:9,controls:[{slug:"color",name:"Color",type:"color"},{slug:"font_family",name:"Font",type:"font-family"},{slug:"font_weight",name:"Weight",type:"select",items:[{label:"100 - Thin",value:100},{label:"200 - Extra Light",value:200},{label:"300 - Light",value:300},{label:"400 - Normal",value:400},{label:"500 - Medium",value:500},{label:"600 - Semi Bold",value:600},{label:"700 - Bold",value:700},{label:"800 - Extra Bold",value:800},{label:"900 - Black",value:900}]},{slug:"font_size",name:"Size",type:"unit",width:6,min:0},{slug:"line_height",name:"Height",type:"unit",width:6,defaultType:"custom"},{slug:"text_align",name:"Align",type:"button-bar",items:[{label:"Left",value:"start",icon:"AlignLeftIcon",hideLabel:!0},{label:"Center",value:"center",icon:"AlignCenterIcon",hideLabel:!0},{label:"Right",value:"end",icon:"AlignRightIcon",hideLabel:!0},{label:"Justify",value:"justify",icon:"AlignJustifyIcon",hideLabel:!0}]},{slug:"style",name:"Style",type:"group",controls:[{slug:"text_decoration",name:"Decoration",type:"button-bar",width:8,items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{label:"Underline",value:"underline",icon:"UnderlineIcon",hideLabel:!0},{label:"Overline",value:"overline",icon:"OverlineIcon",hideLabel:!0},{label:"Line Through",value:"line-through",icon:"StrikethroughIcon",hideLabel:!0}],positionLabel:"bottom"},{slug:"font_style",name:"Italic",type:"button-bar",items:[{label:"<span style='font-family: monospace;vertical-align: middle;font-weight:normal;'>I</span>",value:"normal"},{label:"Italic",value:"italic",icon:"ItalicIcon",hideLabel:!0}],width:4,positionLabel:"bottom"}]},{slug:"text_transform",name:"Transform",type:"button-bar",items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{label:"AA",value:"uppercase"},{label:"Aa",value:"capitalize"},{label:"aa",value:"lowercase"}],width:7,positionLabel:"bottom"},{slug:"letter_spacing",name:"Letter Spacing",type:"unit",width:5,positionLabel:"bottom"},{slug:"text_indent",name:"Text Indent",type:"unit",width:6,positionLabel:"bottom"},{slug:"direction",name:"Direction",type:"button-bar",items:["ltr","rtl"],width:6,positionLabel:"bottom"},{slug:"overflow_wrap",name:"Overflow Wrap",width:6,positionLabel:"bottom",type:"select",items:["normal","break-word"]},{slug:"text_wrap",name:"Text Wrap",width:6,positionLabel:"bottom",type:"select",items:[{label:"auto",value:"wrap"},{label:"nowrap",value:"nowrap"},{label:"balance",value:"balance"},{label:"pretty",value:"pretty"}]},{slug:"text_overflow",name:"Text Overflow",type:"button-bar",positionLabel:"bottom",width:4,items:[{value:"clip",label:"Clip",icon:"XmarkIcon",hideLabel:!0},{value:"ellipsis",label:"Ellipsis",icon:"EllipsisIcon",hideLabel:!0}]},{slug:"list_style",name:"List Style",type:"button-bar",positionLabel:"bottom",width:8,items:[{value:"none",label:"None",icon:"XmarkIcon",hideLabel:!0},{value:"disc",label:"Circles",icon:"ListIcon",hideLabel:!0},{value:"numbers",label:"Numbers",icon:"OlListIcon",hideLabel:!0},{value:"lower-alpha",label:"Letters",icon:"LetterAIcon",hideLabel:!0},{value:"lower-roman",label:"Roman numerals",icon:"LetterIIcon",hideLabel:!0}]},{slug:"stroke",name:"Stroke",type:"group",controls:[{slug:"stroke_width",name:"Width",type:"unit",width:5,positionLabel:"bottom"},{slug:"stroke_color",name:"Color",type:"color",width:7,positionLabel:"bottom"}]},{slug:"text_shadow",name:"Text Shadow",type:"repeater",itemColorPath:"color",titleTemplate:e=>{const{x:t,y:n,blur:s}=e;return`Text Shadow: ${t?.style} ${n?.style} ${s?.style}`},defaultNewValue:{x:{number:0,unit:"px",style:"0px"},y:{number:1,unit:"px",style:"1px"},blur:{number:1,unit:"px",style:"1px"},color:"#000000"},controls:[{slug:"x",name:"X",type:"unit",min:-20,max:20,step:1},{slug:"y",name:"Y",type:"unit",min:-20,max:20,step:1},{slug:"blur",name:"Blur",type:"unit",min:0,max:20,step:1},{slug:"color",name:"Color",type:"color"}]}]},{slug:"background",name:"Background",type:"accordion",controls:[{slug:"background_color",name:"Color",type:"color"},{slug:"backgrounds",name:"Image & Gradient",type:"repeater",defaultNewValue:{type:"image"},itemIcon:"ImageAndVideIcon",titleTemplate:e=>"gradient"===e?.type?"Gradient":"image"===e?.type?"Image":"color_overlay"===e?.type?e.color||"Color Overlay":"video"===e?.type?"Video":"",defaultTitle:"Background",controls:[{slug:"type",name:"Type",type:"button-bar",hideLabel:!0,items:[{label:"Image",value:"image",icon:"ImageIcon",hideLabel:!0},{label:"Gradient",value:"gradient",iconHtml:'<span class="oxy-gradient-icon"></span>',hideLabel:!0},{label:"Color Overlay",value:"color_overlay",icon:"SquareSolidIcon",hideLabel:!0}]},{slug:"image",name:"Image",type:"media",hideLabel:!0,conditions:["background.backgrounds[].type","==","image"]},{slug:"image_size",name:"Size",type:"media-size",conditions:["background.backgrounds[].type","==","image"]},{slug:"background_size",name:"Size",type:"button-bar",items:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Custom",value:"custom"}],conditions:["background.backgrounds[].type","==","image"]},{slug:"background_size_custom",name:"",type:"group",controls:[{slug:"width",name:"Width",type:"unit",width:6,positionLabel:"bottom"},{slug:"height",name:"Height",type:"unit",width:6,positionLabel:"bottom"}],conditions:[["background.backgrounds[].type","==","image"],["background.backgrounds[].background_size","==","custom"]]},{slug:"background_position",name:"Position",type:"focus-point",conditions:["background.backgrounds[].type","==","image"]},{slug:"background_repeat",name:"Repeat",type:"button-bar",items:[{label:"No Repeat",value:"no-repeat",icon:"XmarkIcon",hideLabel:!0},{label:"Repeat",value:"repeat",icon:"GridIcon",hideLabel:!0},{label:"Repeat X",value:"repeat-x",icon:"EllipsisIcon",hideLabel:!0},{label:"Repeat Y",value:"repeat-y",icon:"EllipsisVerticalIcon",hideLabel:!0}],conditions:["background.backgrounds[].type","==","image"]},{slug:"background_attachment",name:"Attach",type:"button-bar",items:[{label:"Scroll",value:"scroll"},{label:"Fixed",value:"fixed"}],conditions:["background.backgrounds[].type","==","image"]},{slug:"background_blend_mode",name:"Blend",type:"select",items:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Color Burn",value:"color-burn"},{label:"Hard Light",value:"hard-light"},{label:"Soft Light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}],conditions:["background.backgrounds[].type","==","image"]},{slug:"color",name:"Color",type:"color",hideLabel:!0,inline:!0,positionLabel:"bottom",conditions:["background.backgrounds[].type","==","color_overlay"]},{slug:"gradient",name:"Gradient",type:"color",hideLabel:!0,inline:!0,positionLabel:"bottom",colorType:"gradientOnly",conditions:["background.backgrounds[].type","==","gradient"]}]}]},{slug:"borders",name:"Borders",type:"accordion",controls:[{slug:"border_radius",name:"Radius",type:"border-radius"},{slug:"borders",name:"Borders",type:"border",positionLabel:"top"}]},{slug:"effects",name:"Effects",type:"accordion",controls:[{slug:"opacity",name:"Opacity",type:"number",min:0,max:100,step:1},{slug:"cursor",name:"Cursor",type:"select",items:["auto","default","pointer","wait","text","move","not-allowed","help","crosshair","grab","grabbing"]},{slug:"blend_mode",name:"Blend",type:"select",items:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Color Burn",value:"color-burn"},{label:"Hard Light",value:"hard-light"},{label:"Soft Light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}]},{slug:"transition",name:"Transition",type:"repeater",titleTemplate:e=>{const t=e?.property||"all",n=t.charAt(0).toUpperCase()+t.slice(1);return`${n}: ${e?.duration?.style||"0ms"}`},itemIcon:"TimerIcon",defaultNewValue:{property:"opacity",duration:{number:"200",unit:"ms",style:"200ms"},easing:"ease"},controls:[{slug:"property",name:"Property",type:"select",items:["all","none","color","background","transform","width","height","opacity","border","box-shadow","outline"]},{slug:"duration",name:"Duration",type:"unit",min:0,step:25,max:1e3,types:["ms","s","custom"],defaultType:"ms"},{slug:"easing",name:"Easing",type:"select",items:["ease","linear","ease-in","ease-out","ease-in-out"]},{slug:"delay",name:"Delay",type:"unit",min:0,step:25,max:1e3,types:["ms","s","custom"],defaultType:"ms"}]},{slug:"box_shadow",name:"Box Shadow",type:"repeater",itemColorPath:"color",titleTemplate:e=>{const{x:t,y:n,blur:s,spread:i}=e,o="inset"===e.position?"Inner":"Outer";return`${o}: ${t?.style} ${n?.style} ${s?.style} ${i?.style}`},defaultNewValue:{x:{number:0,unit:"px",style:"0px"},y:{number:2,unit:"px",style:"2px"},blur:{number:5,unit:"px",style:"5px"},spread:{number:0,unit:"px",style:"0px"},color:"#00000030",position:"outset"},controls:[{slug:"position",name:"Position",type:"button-bar",items:[{label:"Outset",value:"outset"},{label:"Inset",value:"inset"}]},{slug:"color",name:"Color",type:"color"},{slug:"x",name:"X",type:"unit"},{slug:"y",name:"Y",type:"unit"},{slug:"blur",name:"Blur",type:"unit"},{slug:"spread",name:"Spread",type:"unit"}]},{slug:"filter",name:"Filter",type:"repeater",itemIcon:"WandMagicSparkles",defaultNewValue:{type:"blur",value:{number:100,unit:"%",style:"100%"},blur_value:{number:5,unit:"px",style:"5px"},hue_value:{number:180,unit:"deg",style:"180deg"},x:{number:0,unit:"px",style:"0px"},y:{number:2,unit:"px",style:"2px"},blur:{number:5,unit:"px",style:"5px"}},titleTemplate:e=>{if("drop-shadow"===e.type)return`Drop shadow: ${e.x?.style} ${e.y?.style} ${e.blur?.style}`;const t=e.type?e.type?.charAt(0).toUpperCase()+e.type?.slice(1).replace("-"," "):"Filter";return"blur"===e.type?`${t}: ${e.blur_value?.style}`:"hue-rotate"===e.type?`${t}: ${e.hue_value?.style}`:`${t}: ${e.value?.style}`},controls:[{slug:"type",name:"Type",type:"select",items:[{label:"Blur",value:"blur"},{label:"Brightness",value:"brightness"},{label:"Contrast",value:"contrast"},{label:"Grayscale",value:"grayscale"},{label:"Hue Rotate",value:"hue-rotate"},{label:"Invert",value:"invert"},{label:"Opacity",value:"opacity"},{label:"Saturate",value:"saturate"},{label:"Sepia",value:"sepia"}]},{slug:"blur_value",name:"Value",type:"unit",conditions:["effects.filter[].type","==","blur"]},{slug:"hue_value",name:"Value",type:"unit",defaultType:"deg",types:["deg"],min:0,max:360,step:45,conditions:["effects.filter[].type","==","hue-rotate"]},{slug:"value",name:"Value",type:"unit",min:0,max:100,step:1,defaultType:"%",types:["%"],conditions:["effects.filter[].type","in",["brightness","contrast","grayscale","invert","opacity","saturate","sepia"]]},{slug:"x",name:"X",type:"unit",conditions:["effects.filter[].type","==","drop-shadow"]},{slug:"blur",name:"Blur",type:"unit",conditions:["effects.filter[].type","==","drop-shadow"]}]},{slug:"backdrop_filter",name:"Backdrop Filter",type:"repeater",itemIcon:"SquareQuestionIcon",defaultNewValue:{type:"blur",value:{number:100,unit:"%",style:"100%"},blur_value:{number:5,unit:"px",style:"5px"},hue_value:{number:180,unit:"deg",style:"180deg"},x:{number:0,unit:"px",style:"0px"},y:{number:2,unit:"px",style:"2px"},blur:{number:5,unit:"px",style:"5px"}},titleTemplate:e=>{if("drop-shadow"===e.type)return`Drop shadow: ${e.x?.style} ${e.y?.style} ${e.blur?.style}`;const t=e.type?e.type?.charAt(0).toUpperCase()+e.type?.slice(1).replace("-"," "):"Filter";return"blur"===e.type?`${t}: ${e.blur_value?.style}`:"hue-rotate"===e.type?`${t}: ${e.hue_value?.style}`:`${t}: ${e.value?.style}`},controls:[{slug:"type",name:"Type",type:"select",items:[{label:"Blur",value:"blur"},{label:"Brightness",value:"brightness"},{label:"Contrast",value:"contrast"},{label:"Grayscale",value:"grayscale"},{label:"Hue Rotate",value:"hue-rotate"},{label:"Invert",value:"invert"},{label:"Opacity",value:"opacity"},{label:"Saturate",value:"saturate"},{label:"Sepia",value:"sepia"}]},{slug:"blur_value",name:"Value",type:"unit",conditions:["effects.backdrop_filter[].type","==","blur"]},{slug:"hue_value",name:"Value",type:"unit",defaultType:"deg",types:["deg"],min:0,max:360,step:45,conditions:["effects.backdrop_filter[].type","==","hue-rotate"]},{slug:"value",name:"Value",type:"unit",min:0,max:100,step:1,defaultType:"%",types:["%"],conditions:["effects.backdrop_filter[].type","in",["brightness","contrast","grayscale","invert","opacity","saturate","sepia"]]},{slug:"x",name:"X",type:"unit",conditions:["effects.backdrop_filter[].type","==","drop-shadow"]},{slug:"blur",name:"Blur",type:"unit",conditions:["effects.backdrop_filter[].type","==","drop-shadow"]}]},{slug:"transform",name:"Transform",type:"repeater",itemIcon:"LeftAndRightArrowsIcon",defaultNewValue:{type:"translate",translate_x:{number:0,unit:"px",style:"0px"},translate_y:{number:0,unit:"px",style:"0px"},translate_z:{number:0,unit:"px",style:"0px"},scale_x:1,scale_y:1,scale_z:1,rotate_x:{number:0,unit:"deg",style:"0deg"},rotate_y:{number:0,unit:"deg",style:"0deg"},rotate_z:{number:0,unit:"deg",style:"0deg"},skew_x:{number:0,unit:"deg",style:"0deg"},skew_y:{number:0,unit:"deg",style:"0deg"}},titleTemplate:e=>"translate"===e.type?`Translate: ${e.translate_x?.style}, ${e.translate_y?.style}, ${e.translate_z?.style}`:"scale"===e.type?`Scale: ${e.scale_x}, ${e.scale_y}, ${e.scale_z}`:"rotate"===e.type?`Rotate: ${e.rotate_x?.style}, ${e.rotate_y?.style}, ${e.rotate_z?.style}`:"skew"===e.type?`Skew: ${e.skew_x?.style}, ${e.skew_y?.style}`:"Transform",controls:[{slug:"type",name:"Type",type:"button-bar",hideLabel:!0,items:[{label:"Translate",value:"translate"},{label:"Scale",value:"scale"},{label:"Rotate",value:"rotate"},{label:"Skew",value:"skew"}]},{slug:"translate_x",name:"X",type:"unit",conditions:["effects.transform[].type","==","translate"]},{slug:"translate_y",name:"Y",type:"unit",conditions:["effects.transform[].type","==","translate"]},{slug:"translate_z",name:"Z",type:"unit",conditions:["effects.transform[].type","==","translate"]},{slug:"scale_x",name:"X",type:"number",min:0,step:.1,max:2,conditions:["effects.transform[].type","==","scale"]},{slug:"scale_y",name:"Y",type:"number",min:0,step:.1,max:2,conditions:["effects.transform[].type","==","scale"]},{slug:"scale_z",name:"Z",type:"number",min:0,step:.1,max:2,conditions:["effects.transform[].type","==","scale"]},{slug:"rotate_x",name:"X",type:"unit",defaultType:"deg",types:["deg"],conditions:["effects.transform[].type","==","rotate"]},{slug:"rotate_y",name:"Y",type:"unit",defaultType:"deg",types:["deg"],conditions:["effects.transform[].type","==","rotate"]},{slug:"rotate_z",name:"Z",type:"unit",defaultType:"deg",types:["deg"],conditions:["effects.transform[].type","==","rotate"]},{slug:"skew_x",name:"X",type:"unit",defaultType:"deg",types:["deg"],conditions:["effects.transform[].type","==","skew"]},{slug:"skew_y",name:"Y",type:"unit",defaultType:"deg",types:["deg"],conditions:["effects.transform[].type","==","skew"]}]},{slug:"pointer_events",name:"Events",type:"button-bar",items:["auto","none"]}]},{slug:"flex_child",name:"Flex Child",type:"accordion",conditions:(0,_r.Pv)(["flex","inline-flex"]),controls:[{slug:"flex_grow",name:"Grow",type:"number",width:4,positionLabel:"bottom"},{slug:"flex_shrink",name:"Shrink",type:"number",width:4,positionLabel:"bottom"},{slug:"flex_basis",name:"Basis",type:"unit",width:4,positionLabel:"bottom"},{slug:"align_self",name:"Align",type:"button-bar",items:[{value:"auto",label:"Auto",icon:"SquareQuestionIcon",hideLabel:!0},{value:"start",label:"Start",icon:"FlexAlignLeftIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterHorizontalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignRightIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0}]},{slug:"order",name:"Order",type:"button-bar",items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{value:-1,label:"First"},{value:99,label:"Last"},{value:"custom",label:"Custom"}]},{slug:"order_custom",name:"Order",type:"number",width:6,conditions:["flex_child.order","==","custom"]}]},{slug:"grid_child",name:"Grid Child",type:"accordion",conditions:(0,_r.Pv)(["grid","inline-grid"]),controls:[{slug:"row_start",name:"Row Start",type:"text",width:3,positionLabel:"bottom",disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"column_start",name:"Col. Start",type:"text",width:3,positionLabel:"bottom",disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"row_end",name:"Row End",type:"text",width:3,positionLabel:"bottom",disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"column_end",name:"Col. End",type:"text",width:3,positionLabel:"bottom",disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"area",name:"Area",type:"text"},{slug:"align_self",name:"Align",type:"button-bar",items:[{value:"auto",label:"Auto",icon:"XmarkIcon",hideLabel:!0},{value:"start",label:"Start",icon:"FlexAlignTopIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterVerticalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignBottomIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0}]},{slug:"justify_self",name:"Justify",type:"button-bar",items:[{value:"auto",label:"Auto",icon:"XmarkIcon",hideLabel:!0},{value:"start",label:"Start",icon:"FlexAlignLeftIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterHorizontalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignRightIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0}]},{slug:"order",name:"Order",type:"button-bar",items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{value:-1,label:"First"},{value:99,label:"Last"},{value:"custom",label:"Custom"}]},{slug:"order_custom",name:"Order",type:"number",width:6,conditions:["grid_child.order","==","custom"]}]},{slug:"custom_css",name:"Custom CSS",type:"accordion",controls:[{slug:"custom_css",name:"Custom CSS",type:"code",language:"css",hideLabel:!0,placeholder:":selector {\n \n}",autofillOnEmpty:":selector {\n  PLACECURSORHERE\n}"}]}];var yA=n(37156);let bA=class extends l.w3{constructor(){super(...arguments),this.controls=fA,this.editAnyway=!1,this.context=this.reactiveContext(),this.transactionKey=null}reactiveContext(){return{getInheritanceMap:()=>this.inheritanceMap,getControlInheritance:e=>this.inheritanceMap?.[e],getControlValue:e=>{const t={};for(const n of c.configStore.breakpoints){const s=K()(this.properties,`${n.id}.${e}`);void 0!==s&&(t[n.id]=s)}return t},getControlValueAt:(e,t)=>{const n=e?`${t}.${e}`:t;return K()(this.properties,n)},getParentPath(e){return e.split(".").slice(0,-1).join(".")},setControlValue:(e,t,n)=>{const s=(0,Gc.Z)(this.properties),i=Object.keys(t);for(const o of i)Uc()(s,`${o}.${e}`,t[o]);this.transactionKey=n,this.properties=s},setControlValueAt:(e,t,n,s)=>{const i=(0,Gc.Z)(this.properties);Uc()(i,`${t}.${e}`,n),this.transactionKey=s,this.properties=i},getParentControlValueAt(e,t){const n=this.getParentPath(e);return this.getControlValueAt(n,t)},getParentControlValue(e){const t=this.getParentPath(e);return this.getControlValue(t)}}}get breakpoints(){return c.configStore.breakpoints}get breakpointId(){return c.uiStore.currentBreakpoint.id}get properties(){const e=this.nestedSelector||this.selector;return e&&e.properties?e.properties:{}}set properties(e){if(!this.selector)return;const t=null===this.transactionKey?void 0:this.transactionKey;(0,_r.Cg)({selectorId:this.selector.id,nestedSelectorId:this.nestedSelector?.id,properties:e,transactionKey:t})}get propertiesAtCurrentBreakpoint(){return this.properties[this.breakpointId]}set propertiesAtCurrentBreakpoint(e){if(!this.selector)return;const t=(0,Gc.Z)(this.properties),n=0===Object.keys(e).length;t[this.breakpointId]=n?null:e,this.properties=t}get element(){return c.uiStore.activeElement?c.uiStore.activeElement:null}get inheritanceMap(){const e=this.nestedSelector?.id||this.selector?.id;if(!e)return;let t;return t=this.nestedSelector?[this.nestedSelector.id]:"elementproperties"!==this.panelContext?.state?[e]:this.element?.data?.properties?.meta?.classes||[],(0,yA.G)(t,e,this.breakpointId)}};(0,r.gn)([(0,l.DF)("oxyContext")],bA.prototype,"context",void 0),(0,r.gn)([(0,l.tB)({from:"panelContext",default:void 0})],bA.prototype,"panelContext",void 0),(0,r.gn)([(0,l.fI)()],bA.prototype,"selector",void 0),(0,r.gn)([(0,l.fI)()],bA.prototype,"nestedSelector",void 0),bA=(0,r.gn)([(0,l.wA)({components:{NiceButton:Cd.Z,OxygenControls:gA.Z,OxygenControl:P_["default"]}})],bA);const SA=bA,_A=SA;var xA=(0,N.Z)(_A,pA,hA,!1,null,null,null);const CA=xA.exports;var wA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("OxygenCopyPastContextMenu",{attrs:{name:"Selectors",path:"selectors",value:e.elementClasses},on:{input:e.updateClasses},scopedSlots:e._u([{key:"default",fn:function({openContextMenu:n}){return[t("div",{ref:"container",staticClass:"oxy-class-selector",on:{contextmenu:n}},[t(RI.Z,{attrs:{text:"Tooltip",top:"",disabled:!e.errorMessage,value:!!e.errorMessage},scopedSlots:e._u([{key:"activator",fn:function({attrs:n}){return[t(ym.Z,e._b({ref:"input",staticClass:"oxy-class-selector-widget",attrs:{multiple:"",value:e.elementClasses,items:e.availableClasses,"search-input":e.newClassName,"item-text":"name","item-value":"id","return-object":!1,"persistent-placeholder":"","hide-details":"","hide-selected":"",dense:"",placeholder:"Select or create a class"},on:{input:e.updateClasses,"update:searchInput":function(t){e.newClassName=t},"update:search-input":function(t){e.newClassName=t},blur:e.onBlur},scopedSlots:e._u([{key:"append",fn:function(){return[t("Icon",{attrs:{icon:"ChevronDownIcon",size:12}})]},proxy:!0},{key:"no-data",fn:function(){return[e.newClassName?t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.createFromNameAndSelect()}}},[t(Xl.V9,[t("div",{staticClass:"oxy-class-selector-new-class"},[e._v(" Create "),t("oxy-class-token",{attrs:{editable:!1,active:!0,demo:!0,name:e.newClassName}})],1)])],1):e._e()]},proxy:!0},{key:"prepend-item",fn:function(){return[e.showSuggestClassName?t(jl.Z,{attrs:{dense:""},on:{click:e.addSuggestedClass}},[t(Xl.V9,[t("div",{staticClass:"oxy-class-selector-new-class"},[e._v(" Create "),t("oxy-class-token",{attrs:{editable:!1,active:!0,demo:!0,name:e.suggestClassName}})],1)])],1):e._e()]},proxy:!0},{key:"prepend",fn:function(){return[e.elementClasses.length?e._e():t("oxy-class-breakpoint-icon",{key:"breakpoint-empty"})]},proxy:!0},{key:"selection",fn:function({item:n,index:s}){return[0===s?t("oxy-class-breakpoint-icon",{key:"breakpoint-empty"}):e._e(),t("div",{staticClass:"oxy-token-drag-indicator",class:{"oxy-token-drag-indicator--active":n===e.draggedOverId,[`oxy-token-drag-indicator--${e.dropPosition}`]:n===e.draggedOverId&&e.dropPosition},attrs:{draggable:"true"},on:{dragstart:function(t){return e.dragStart(t,n)},drag:e.dragMove,dragend:e.dragEnd,mousedown:function(e){e.stopPropagation()}}},[t("oxy-class-token",{attrs:{id:n,active:n===e.activeSelector?.id,"nested-selector":e.getNestedSelectorForActiveSelector(n)},on:{select:e.activateSelector,"clear-select":e.clearSelector,"select-nested":e.selectNestedSelector,"clear-nested":e.clearNestedSelector,"close-menu":e.closeMenu}})],1)]}}],null,!0)},"v-combobox",n,!1))]}}],null,!0)},[t("span",{domProps:{innerHTML:e._s(e.errorMessage)}})])],1)]}}])})},PA=[],IA=n(68697),kA=n(464),EA=n(88806),TA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-class-selector-breakpoint"},[t("Icon",{attrs:{icon:e.breakpointIcon,rotate:e.breakpointIconRotation,size:12}})],1)},DA=[];let AA=class extends l.w3{get currentBreakpointId(){return c.uiStore.currentBreakpoint.id}get breakpointIcon(){return Ie.b8[this.currentBreakpointId]?.icon||Ie.nR}get breakpointIconRotation(){return Ie.b8[this.currentBreakpointId]?.rotate}};AA=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],AA);const ZA=AA,MA=ZA;var OA=(0,N.Z)(MA,TA,DA,!1,null,null,null);const BA=OA.exports;let LA=class extends l.w3{constructor(){super(...arguments),this.newClassName=null,this.errorMessage=null,this.draggableItems=[],this.draggingId=null,this.draggedOverId=null,this.dropPosition=null,this.draggingFromIndex=null,this.dropIndex=null,this.containerRect=null}onNewClassNameChange(){this.newClassName&&(this.errorMessage=null)}onElementIdChange(){this.activeSelector&&(c.uiStore.setCurrentElementTab("classes"),c.uiStore.setCurrentElementOxyNestedSelector(void 0))}get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}get availableClasses(){return c.globalStore.oxySelectors.filter((e=>"class"===e.type))}get activeSelector(){return c.uiStore.activeOxySelector}get activeNestedSelector(){return c.uiStore.activeOxyNestedSelector}get elementClasses(){return this.element&&this.element?.data?.properties?.meta?.classes||[]}get showSuggestClassName(){const e=this.elementClasses.map((e=>this.availableClasses.find((t=>t.id==e)))).map((e=>e?.name)).filter((e=>e)),t=e.some((e=>e?.match(new RegExp(`^${this.elementSlug}-\\d+$`))));return!this.newClassName&&!t}get elementSlug(){if(!this.element)return"";const e=c.configStore.element(this.element.data.type);return Iy()(e.name,{lower:!0})}get suggestClassName(){const e=this.availableClasses.map((e=>e.name));let t=1;while(e.includes(`${this.elementSlug}-${t}`))t++;return`${this.elementSlug}-${t}`}addSuggestedClass(){this.updateClasses([...this.elementClasses,this.suggestClassName])}createClassIfNeeded(e){const t=this.availableClasses.find((t=>t.name==e));if(t)return t;const n=(0,_r.C2)(e);return(0,_r.PJ)(n),n}createFromNameAndSelect(){if(!this.newClassName)return;const e=this.createClassIfNeeded(this.newClassName);this.activateSelector(e.id)}updateClasses(e){if(!this.elementId)return;if(!e)return void(0,_r.E4)(this.elementId,[]);this.errorMessage=null;const t=e.find((e=>!(0,IA.Z)(e))),n=e.filter((e=>(0,IA.Z)(e)));if(t){if(!(0,uI.y8)(`.${t}`))return(0,_r.E4)(this.elementId,n),void(this.errorMessage="Invalid class name");const e=this.createClassIfNeeded(t).id;this.elementClasses.includes(e)||n.push(e)}(0,_r.E4)(this.elementId,n),this.activateSelector(n[n.length-1])}activateSelector(e){this.elementId&&(c.uiStore.setCurrentElementOxySelector(e),c.uiStore.setCurrentElementTab("classes"),this.closeMenu())}clearSelector(){c.uiStore.setCurrentElementOxySelector(void 0),c.uiStore.setCurrentElementTab(void 0)}selectNestedSelector(e){c.uiStore.setCurrentElementOxyNestedSelector(e)}clearNestedSelector(){c.uiStore.setCurrentElementOxyNestedSelector(void 0)}closeMenu(){this.$refs.input.isMenuActive=!1,this.$refs.input.blur()}onBlur(e){const t=e.relatedTarget;t?.classList.contains("v-list-item")||(this.newClassName="")}getNestedSelectorForActiveSelector(e){return e===this.activeSelector?.id?this.activeNestedSelector:void 0}dragStart(e,t){this.draggingId=t,e.dataTransfer.dropEffect="move",this.activateSelector(t),document.addEventListener("dragover",this.dragOver,!1);const n=this.$refs.container,s=n.querySelectorAll(".oxy-class-token");this.containerRect=n.getBoundingClientRect(),this.draggableItems=Array.from(s).map((e=>({node:e,rect:e.getBoundingClientRect()})))}dragOver(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}dragMove(e){if(!e.clientX&&!e.clientY)return;const t=this.findClosestItem(e.clientX,e.clientY);if(this.draggedOverId=t.node?.dataset.id||null,this.dropPosition=t.position||null,this.draggedOverId&&this.draggingId){const e=this.elementClasses.indexOf(this.draggedOverId);this.dropIndex="before"==this.dropPosition?e:Math.min(e+1,this.elementClasses.length),this.draggingFromIndex=this.elementClasses.indexOf(this.draggingId),this.dropIndex!==this.draggingFromIndex&&this.dropIndex!==this.draggingFromIndex+1&&this.draggedOverId!==this.draggingId||(this.draggedOverId=null,this.dropPosition=null)}}dragEnd(){null!==this.draggedOverId&&null!==this.draggingFromIndex&&null!==this.dropIndex&&(this.moveItem(this.draggingFromIndex,this.dropIndex),this.clearDragStyles(),document.removeEventListener("dragover",this.dragOver,!1))}clearDragStyles(){this.draggedOverId=null,this.dropPosition=null,this.draggingId=null,this.draggingFromIndex=null,this.dropIndex=null}moveItem(e,t){if(!this.elementId)return;const n=this.elementClasses;if(e===t||e<0||t<0||e>n.length||t>n.length)return;const[s]=n.splice(e,1);t>e&&t--,n.splice(t,0,s),(0,_r.E4)(this.elementId,n)}findClosestItem(e,t){let n={node:null,rect:null},s=1/0,i="";this.draggableItems.forEach((o=>{const a=o.rect.left+o.rect.width/2,r=o.rect.top+o.rect.height/2,l=Math.sqrt(Math.pow(e-a,2)+Math.pow(t-r,2));l<s&&(s=l,n=o,i=e<a?"before":"after")}));const o=this.containerRect.top+this.containerRect.height;return o-t<-50&&(i="after",n=this.draggableItems[this.draggableItems.length-1]),o-t>100&&(i="before",n=this.draggableItems[0]),{position:i,...n}}};(0,r.gn)([(0,l.RL)("newClassName")],LA.prototype,"onNewClassNameChange",null),(0,r.gn)([(0,l.RL)("elementId",{immediate:!0})],LA.prototype,"onElementIdChange",null),LA=(0,r.gn)([(0,l.wA)({components:{OxyClassBreakpointIcon:BA,OxygenCopyPastContextMenu:EA.Z,Icon:He.Z,NiceButton:Cd.Z,OxyClassToken:kA.Z}})],LA);const NA=LA,RA=NA;var FA=(0,N.Z)(RA,wA,PA,!1,null,null,null);const VA=FA.exports;var $A=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-html-attributes"},[t("oxygen-control",{attrs:{control:e.control,value:e.value},on:{input:e.setValue}})],1)},WA=[];let UA=class extends l.w3{get control(){return{type:"repeater",name:"HTML Attributes",slug:"html_attributes",noDataMessage:"None",noDisable:!0,noDuplicate:!0,titleTemplate:e=>`${e?.name||""}="${e?.value||""}"`,defaultTitle:"Attribute",controls:[{slug:"name",name:"Attribute",type:"text",disableVariable:!0},{slug:"value",name:"Value",type:"text",disableVariable:!0}]}}get value(){return K()(c.uiStore.activeElement,"data.properties.settings.advanced.attributes")}setValue(e){c.uiStore.activeElementId&&c.documentStore.unthrottledPropertyChanged({elementId:c.uiStore.activeElementId,path:"settings.advanced.attributes",value:e,meta:{snapshotLabel:`Set html attributes for element #${c.uiStore.activeElementId}`}})}};UA=(0,r.gn)([(0,l.wA)({components:{OxygenControl:P_["default"]}})],UA);const zA=UA,HA=zA;var GA=(0,N.Z)(HA,$A,WA,!1,null,null,null);const qA=GA.exports;var KA=n(58172);let jA=class extends l.w3{constructor(){super(...arguments),this.editingElementControlsTreeContext=iC.rq,this.settingsControlsAsTabs=[{name:"Override Variables",slug:"override_variables",icon:"DollarSolidIcon",hidden:this.isComponent},{name:"Conditions",slug:"conditions",icon:"ConditionsSolidIcon"},{name:"Interactions",slug:"interactions",icon:"ArrowPointerSolidIcon",hidden:this.isComponent},{name:"Animations",slug:"animations",icon:"PlaySolidIcon",hidden:this.isComponent}]}get activeTabSlug(){return this.elementId&&c.uiStore.activeElementProperties?.tab?c.uiStore.activeElementProperties.tab:"content"}get tabs(){const e=this.settingsControlsAsTabs;return[{name:"Content",slug:"content",icon:"PenSolidIcon",hidden:0===this.controls.contentSections.length},{name:"Design",slug:"design",icon:"PaletteSolidIcon",hidden:0===this.controls.designSections.length||this.isComponent},...e,{name:"Settings",slug:"settings",icon:"GearSolidIcon",hidden:0===this.controls.settingsSections.length||this.isComponent},{name:"Classes",slug:"classes",icon:"ClassesIcon",hidden:!0},{name:"Attributes",slug:"attributes",hidden:!0}]}get filteredTabs(){return this.tabs.filter((e=>!e?.hidden))}get activeTab(){return this.tabs.find((e=>e.slug===this.activeTabSlug))}get element(){return c.uiStore.activeElement}get elementId(){return c.uiStore.activeElementId}get activeSelector(){return c.uiStore.activeOxySelector}get activeNestedSelector(){return c.uiStore.activeOxyNestedSelector}get controls(){const e=this.element.data.type,t=c.configStore.element(e).controls;return(0,Fx.Z)(t,c.configStore.permission)}get controlSections(){return"content"===this.activeTabSlug?this.controls.contentSections:"design"===this.activeTabSlug?this.controls.designSections:this.isTopLevelSettingsTab(this.activeTabSlug)?this.controls.settingsSections.filter((e=>e.slug===this.activeTabSlug)):"settings"===this.activeTabSlug?this.controls.settingsSections.filter((e=>!this.settingsControlsAsTabs.some((t=>t.slug===e.slug)))):[]}get path(){return"content"===this.activeTabSlug?"content":"design"===this.activeTabSlug?"design":this.isTopLevelSettingsTab(this.activeTabSlug)||"settings"===this.activeTabSlug?"settings":""}get isComponent(){return!!this.element&&this.element?.data?.type===Ge.COMPONENT_SLUG}isTopLevelSettingsTab(e){return this.settingsControlsAsTabs.some((t=>t.slug===e))}updateTab(e){c.uiStore.setCurrentElementOxySelector(void 0),c.uiStore.setCurrentElementTab(e)}getSettingsData(e){const t=this.isTopLevelSettingsTab(e),n=t?`settings.${e}`:e,s=this.editingElementControlsTreeContext.getControlValue(n);if("settings"===e){const e=(0,Gc.Z)(s);return(0,KA.Kn)(e)?(this.settingsControlsAsTabs.forEach((t=>delete e[t.slug])),e):e}return s}setSettingsData(e,t){if(!this.elementId)return;const n=this.isTopLevelSettingsTab(e),s=n?`settings.${e}`:e;"settings"!==e?c.documentStore.throttledPropertyChanged({elementId:this.elementId,path:s,value:t,meta:{snapshotLabel:`Paste ${e}`}}):this.updateSettingsButIgnoreTopLevelTabs(t)}updateSettingsButIgnoreTopLevelTabs(e){if(!this.elementId)return;const t=(0,Gc.Z)(this.editingElementControlsTreeContext.getControlValue("settings"))||{},n=(0,Gc.Z)(e)||{};this.settingsControlsAsTabs.forEach((e=>{(0,KA.Kn)(t)&&e.slug in t&&(n[e.slug]=t[e.slug])})),c.documentStore.throttledPropertyChanged({elementId:this.elementId,path:"settings",value:n,meta:{snapshotLabel:"Paste settings"}})}tabHasData(e){return(0,Px.vr)(this.getSettingsData(e))}};(0,r.gn)([(0,l.DF)("context")],jA.prototype,"editingElementControlsTreeContext",void 0),jA=(0,r.gn)([(0,l.wA)({components:{PanelMask:QE,Icon:He.Z,ControlsTree:K_["default"],ClassDropdown:VA,ClassProperties:CA,OxygenHtmlAttributes:qA,OxygenCopyPastContextMenu:EA.Z}})],jA);const XA=jA,YA=XA;var QA=(0,N.Z)(YA,dA,uA,!1,null,null,null);const JA=QA.exports;let eZ=class extends s.ZP{get elementIsActive(){return!!c.uiStore.activeElement}mounted(){this.elementIsActive||(0,iu.TO)("elementproperties")}};eZ=(0,r.gn)([(0,l.wA)({components:{Titlebar:B_,TabsAndControls:cC,BlankSidebarContent:W_,OxygenTabsAndControls:JA}})],eZ);const tZ=eZ,nZ=tZ;var sZ=(0,N.Z)(nZ,lA,cA,!1,null,null,null);const iZ=sZ.exports;var oZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{"back-instead-of-close":!!e.selector},on:{close:e.close},scopedSlots:e._u([e.selectorName?null:{key:"right",fn:function(){return[t("IconButton",{attrs:{icon:"FolderPlusIcon",size:"14",small:"",tooltip:"Add Collection"},on:{click:e.addCollection}}),t("IconButton",{attrs:{icon:"HistorySolidIcon",size:"13",small:"",active:"history"===e.viewMode,tooltip:"History"},on:{click:e.toggleViewMode}}),t("ImportExportDropdownMenu",{attrs:{name:"Selectors","settings-to-export":e.selectors,"validate-settings":e.validateImport,"import-settings":e.importSelectors,"can-merge":!0}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(e.selectorName??"Selectors")+" ")]),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),"controls"===e.viewMode?[e.selector||e.nestedSelector?t("ClassProperties",{attrs:{selector:e.selector,"nested-selector":e.nestedSelector}}):t("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{select:e.select,"select-nested":e.selectNested}})]:"history"===e.viewMode?[t("SelectorsPanelHistoryViewMode")]:e._e()],2)},aZ=[],rZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"vscroll-scroll oxy-selectors-list"},[e.searchString?t("div",e._l(e.filteredSelectors,(function(n){return t("SelectorsListItem",{key:n.id,attrs:{selector:n},on:{select:function(t){return e.$emit("select",t)},"select-nested":function(t){return e.$emit("select-nested",n.id,t)},"update-nested":e.handleNestedDrag}})})),1):t("CollectionsInput",{attrs:{collections:e.collections,"resource-name":"selectors",value:e.selectors},on:{"update-collections":e.setCollections,input:e.setSelectors},scopedSlots:e._u([{key:"actions",fn:function({collection:n}){return[t("IconButton",{attrs:{icon:e.isLocked(n)?"LockIcon":"UnlockIcon",size:"12",tooltip:e.isLocked(n)?"Unlock all":"Lock all"},on:{click:function(t){return e.toggleCollectionLock(n)}}})]}},{key:"default",fn:function({collection:n}){return[t("draggable",e._b({attrs:{value:e.selectorsByCollection[n],group:"oxy-selectors"},on:{input:function(t){return e.handleDrag(t,n)}}},"draggable",e.dragOptions,!1),e._l(e.selectorsByCollection[n],(function(n){return t("SelectorsListItem",{key:n.id,attrs:{selector:n},on:{select:function(t){return e.$emit("select",t)},"select-nested":function(t){return e.$emit("select-nested",n.id,t)},"update-nested":e.handleNestedDrag}})})),1),t("AddSelector",{attrs:{collection:n}})]}}])})],1),e.searchable?t("div",{staticClass:"properties-panel-search-box-wrap properties-panel-search-box-wrap-selectors"},[t("TextInput",{attrs:{placeholder:"Search selectors"},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}})],1):e._e()])},lZ=[],cZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-selectors-list-item"},[t("oxy-class-token",{attrs:{id:e.selector.id,name:e.name,removable:!1},on:{select:function(t){return e.$emit("select",t)},"select-nested":function(t){return e.$emit("select-nested",t)}}}),e.selector.children?.length?t("div",{staticClass:"oxy-selectors-list-nested"},[t("draggable",e._b({attrs:{value:e.selector.children},on:{input:function(t){return e.$emit("update-nested",e.selector.id,t)}}},"draggable",e.dragOptions,!1),e._l(e.selector.children,(function(n){return t("div",{key:n.id,staticClass:"oxy-selectors-list-nested-item"},[t("Icon",{attrs:{icon:"ArrowTurnDownRightIcon",size:"13"}}),t("oxy-class-token",{attrs:{id:e.selector.id,"nested-selector":n,name:n.name,creatable:!1,removable:!1,lockable:!1,"hide-nested-token":!0},on:{select:function(t){return e.$emit("select-nested",n.id)},"select-nested":function(t){return e.$emit("select-nested",t)}}})],1)})),0)],1):e._e()],1)},dZ=[];let uZ=class extends l.w3{constructor(){super(...arguments),this.dragOptions={animation:200,filter:".oxy-class-token-actions__button",ghostClass:"breakdance-repeater-item--ghost",forceFallback:!0}}get name(){return"class"===this.selector.type?`.${this.selector.name}`:this.selector.name}};(0,r.gn)([(0,l.fI)()],uZ.prototype,"selector",void 0),uZ=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,draggable:Em(),OxyClassToken:kA.Z}})],uZ);const pZ=uZ,hZ=pZ;var gZ=(0,N.Z)(hZ,cZ,dZ,!1,null,null,null);const mZ=gZ.exports;var vZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-add-selector"},[t("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelector.apply(null,arguments)}},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),t("NiceButton",{staticClass:"oxy-add-selector__button",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},fZ=[];let yZ=class extends s.ZP{constructor(){super(...arguments),this.newSelectorName=""}get collections(){return Q.cr.oxySelectorsCollections}get isSingleClassName(){if(!this.newSelectorName)return!1;const e=/^\.[a-zA-Z0-9_/-]+$/;return e.test(this.newSelectorName)}addSelector(){if(!this.newSelectorName)return;const e=this.isSingleClassName&&this.newSelectorName.startsWith(".")?this.newSelectorName.substring(1):this.newSelectorName;if((0,_r.hP)(e))return void Ac.Z.log.errorMessage("This selector already exists.");const t=(0,_r.C2)(this.newSelectorName,null,this.isSingleClassName?"class":"custom",this.collection||_r.T8);(0,_r.PJ)(t),this.newSelectorName=""}};(0,r.gn)([(0,l.fI)()],yZ.prototype,"collection",void 0),yZ=(0,r.gn)([(0,l.wA)({components:{DropdownInput:zc.Z,NiceButton:Cd.Z,TextInput:Oo.Z}})],yZ);const bZ=yZ,SZ=bZ;var _Z=(0,N.Z)(SZ,vZ,fZ,!1,null,null,null);const xZ=_Z.exports;let CZ=class extends s.ZP{constructor(){super(...arguments),this.searchString="",this.dragOptions={animation:200,filter:".oxy-class-token-actions__button",ghostClass:"breakdance-repeater-item--ghost",forceFallback:!0},this.selectorsByCollection={}}onValueChange(){this.updateInternalValue(),this.checkMissingCollections()}checkMissingCollections(){const e=[...new Set(this.selectors.map((e=>e.collection)))],t=e.filter((e=>!this.collections.includes(e)));t.length&&Q.cr.setOxygenSelectorsCollections(e)}onColsChange(){this.updateInternalValue()}updateInternalValue(){this.collections.forEach((e=>{this.$set(this.selectorsByCollection,e,this.getCollectionSelectors(e))}))}get collections(){return Q.cr.oxySelectorsCollections}get filteredSelectors(){return this.selectors.filter((e=>{if(!this.searchString)return!0;const t=e.name.toLowerCase().includes(this.searchString.toLowerCase()),n=e.children?.some((e=>e.name.includes(this.searchString)));return t||n}))}handleDrag(e,t){this.selectorsByCollection[t]=e.map((e=>({...e,collection:t})));const n=[];this.collections.forEach((e=>{n.push(...this.selectorsByCollection[e])})),this.setSelectors(n)}handleNestedDrag(e,t){const n=(0,Gc.Z)(this.selectors).map((n=>n.id===e?{...n,children:t}:n));this.setSelectors(n)}setSelectors(e){Pe.n.transaction((()=>{Q.cr.setOxygenSelectors((0,Gc.Z)(e))}),"Update Selectors")}setCollections(e){Pe.n.transaction((()=>{Q.cr.setOxygenSelectorsCollections(e)}),"Update Selector Collections")}getCollectionSelectors(e){return this.selectors.filter((t=>t.collection===e))}isLocked(e){return this.selectors.filter((t=>t.collection===e)).every((e=>e.locked))}toggleCollectionLock(e){const t=(0,Gc.Z)(this.selectors),n=t.filter((t=>t.collection===e)),s=n.some((e=>!e.locked)),i=t.map((t=>(t.collection===e&&(t.locked=s),t)));this.setSelectors(i)}};(0,r.gn)([(0,l.fI)()],CZ.prototype,"searchable",void 0),(0,r.gn)([(0,l.fI)()],CZ.prototype,"selectors",void 0),(0,r.gn)([(0,l.RL)("selectors",{immediate:!0,deep:!0})],CZ.prototype,"onValueChange",null),(0,r.gn)([(0,l.RL)("collections",{immediate:!0,deep:!0})],CZ.prototype,"onColsChange",null),CZ=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,AddSelector:xZ,CollectionsInput:PE,Icon:He.Z,draggable:Em(),TextInput:Oo.Z,OxyClassToken:kA.Z,SelectorsListItem:mZ}})],CZ);const wZ=CZ,PZ=wZ;var IZ=(0,N.Z)(PZ,rZ,lZ,!1,null,null,null);const kZ=IZ.exports;var EZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.selectors,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setOxygenSelectors","restore-method":"restoreOxySelectorsRevision"}})},TZ=[];async function DZ(){return(0,Id.zG)(await(0,Ec.D)({action:"breakdance_retrieve_oxy_selectors_revisions",decoder:kd.IX(_P.tm)}),(0,Ed.Vn)((()=>null)),Ed.i$)}let AZ=class extends l.w3{constructor(){super(...arguments),this.resourceKey="oxySelectors"}get selectors(){return c.globalStore.oxySelectors}get hasUnsavedChangesPresent(){return c.globalStore.oxySelectorsHasUnsavedChangesPresent}get fetchRevisionsMethod(){return DZ}};AZ=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:II}})],AZ);const ZZ=AZ,MZ=ZZ;var OZ=(0,N.Z)(MZ,EZ,TZ,!1,null,"07b9a160",null);const BZ=OZ.exports;function LZ(e,t,n="name",s=!0,i=!0){const o=t.map((e=>e[n])),a=e.filter((e=>!o.includes(e[n]))),r=t.map((t=>{const o=e.find((e=>e[n]===t[n]));if(o&&i&&(t.id=o.id),t.children&&s&&o&&o.children){const e=o.children.map((e=>e[n])),s=t.children.filter((t=>!e.includes(t[n])));return{...t,children:[...o.children,...s]}}return t}));return{selectorsToKeep:a,selectors:[...a,...r]}}let NZ=class extends s.ZP{constructor(){super(...arguments),this.selectorId=null,this.nestedId=null}get selector(){return this.selectors.find((e=>e.id===this.selectorId))}get nestedSelector(){return this.selector?.children?.find((e=>e.id===this.nestedId))}get viewMode(){return c.uiStore.panelState.selectorsPanelPanelActiveViewMode}get selectors(){return c.globalStore.oxySelectors}get selectorName(){return this.selector?this.nestedSelector?`.${this.selector.name} ${this.nestedSelector.name}`:"class"===this.selector.type?`.${this.selector.name}`:this.selector.name:null}get collections(){return c.globalStore.oxySelectorsCollections}toggleViewMode(){c.uiStore.setPanelState({...c.uiStore.panelState,selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}select(e){this.selectorId=e}selectNested(e,t){this.selectorId=e,this.nestedId=t}close(){this.selector?(this.selectorId=null,this.nestedId=null):(0,iu.TO)("oxySelectors")}validateImport(e){return(0,Id.zG)(e,kd.IX(ow.En).decode,(0,Ed.g_)((e=>(Ac.Z.log.errorMessage("Error importing Selectors - the file is invalid."),(0,hS.H)(e),!1)),(()=>!0)))}importSelectors(e,t){e.length?Pe.n.transaction((()=>{if("replace"===t)c.globalStore.setOxygenSelectors(e),Ac.Z.log.message(`${e.length} selectors imported. All existing selectors were replaced.`);else{const{selectorsToKeep:t,selectors:n}=LZ(c.globalStore.oxySelectors,e);c.globalStore.setOxygenSelectors(n),Ac.Z.log.message(`${e.length} selectors imported. ${t.length} existing selectors were kept.`)}}),"Import Selectors"):Ac.Z.log.errorMessage("Error importing Selectors - the file is empty.")}addCollection(){const e=_r.hI,t=this.collections;let n=1;while(t.includes(`${e} ${n}`))n++;const s=`${e} ${n}`;c.globalStore.setOxygenSelectorsCollections([...t,s])}};NZ=(0,r.gn)([(0,l.wA)({components:{ImportExportDropdownMenu:QP,AddSelector:xZ,AlertBox:ag.Z,PanelHeader:Vw,SelectorsList:kZ,RevisionsPanel:II,ClassProperties:CA,BrowseModeToggle:lP,PanelHeaderButton:sP,FreeModeAlertForSelectors:ZI.Z,SelectorsPanelHistoryViewMode:BZ,IconButton:Ia.Z}})],NZ);const RZ=NZ,FZ=RZ;var VZ=(0,N.Z)(FZ,oZ,aZ,!1,null,null,null);const $Z=VZ.exports;let WZ=class extends s.ZP{constructor(){super(...arguments),this.reactivePanelContext={state:this.panelState,position:this.position},this.panelContext=this.reactivePanelContext}get builderMode(){return c.configStore.builderMode}get activeElementId(){return c.uiStore.activeElementId}updatePanelContext(){this.reactivePanelContext.state=this.panelState}};(0,r.gn)([(0,l.fI)()],WZ.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],WZ.prototype,"panelState",void 0),(0,r.gn)([(0,l.RL)("panelState")],WZ.prototype,"updatePanelContext",null),(0,r.gn)([(0,l.DF)("panelContext")],WZ.prototype,"panelContext",void 0),WZ=(0,r.gn)([(0,l.wA)({components:{OxySelectorsPanel:$Z,VariablesPanel:iT,PresetsPanel:lD,AppLayoutBodyPanelArea:pE,HistoryAndRevisionsPanel:oE,StructurePanel:Ak,ElementPropertiesPanel:gC,Add:Hw,GlobalSettingsPanel:sI,SelectorsPanel:JI,AIPanel:rA,OxygenElementPropertiesPanel:iZ}})],WZ);const UZ=WZ,zZ=UZ;var HZ=(0,N.Z)(zZ,g_,m_,!1,null,null,null);const GZ=HZ.exports;var qZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-app-wrapper"},[t("div",{staticClass:"breakdance-top-bar-wrapper"},[e._t("topbar")],2),t("div",{staticClass:"breakdance-app-body-wrapper"},[e._t("body")],2)])},KZ=[];let jZ=class extends s.ZP{};jZ=(0,r.gn)([l.wA],jZ);const XZ=jZ,YZ=XZ;var QZ=(0,N.Z)(YZ,qZ,KZ,!1,null,null,null);const JZ=QZ.exports;var eM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.closingConfirmations,(function(n,s){return t("ConfirmDialog",{key:s,attrs:{type:n.type,"save-is-enabled":!n.chosenOption,"save-is-in-progress":n.isSaving,"discard-is-enabled":!n.chosenOption,"discard-is-in-progress":n.isDiscarding,"has-cancel":n.hasCancel,"has-discard":n.hasDiscard,"action-text":n.actionText,show:n.show},on:{discard:function(t){return e.markClosingConfirmationAs(s,"discard")},save:function(t){return e.markClosingConfirmationAs(s,"save")},cancel:function(t){return e.hideClosingConfirmation(s)},"click:outside":function(t){return e.hideClosingConfirmation(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(n.title)+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(n.text))]},proxy:!0}],null,!0)})})),1)},tM=[];let nM=class extends l.w3{get closingConfirmations(){return Object.fromEntries(Object.entries(Q.kD.closingConfirmations).filter((([,e])=>e&&e.show)))}markClosingConfirmationAs(e,t){Q.kD.chooseOptionForClosingConfirmation({subject:e,chosenOption:t})}hideClosingConfirmation(e){Q.kD.hideClosingConfirmation(e)}};nM=(0,r.gn)([(0,l.wA)({components:{ConfirmDialog:Vp}})],nM);const sM=nM,iM=sM;var oM=(0,N.Z)(iM,eM,tM,!1,null,null,null);const aM=oM.exports;var rM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" This post can't be edited directly. ")]},proxy:!0},{key:"text",fn:function(){return[e.templateName?[t("p",[e._v(" This post is rendered with "+e._s(e.templateIsFallback?"builder's internal":"the")+' "'),t("em",[e._v(e._s(e.decodedTemplateName))]),e._v('" template. ')])]:[t("p",[e._v(" This post is rendered with a "+e._s(e.templateIsFallback?"builder's internal":"")+" template. ")])],e.templateIsFallback?t("p",[e._v("Please create your own template.")]):t("p",[e._v(" The template does not contain a "),t("em",[e._v("Template Content Area")]),e._v(" element. Therefore, the posts it applies to are not editable in "+e._s(e.$bdox("plugin_name"))+". ")])]},proxy:!0},{key:"actions",fn:function(){return[e.templateIsFallback&&e.templatesPageUrl?t(Do.Z,{attrs:{text:"",href:e.templatesPageUrl}},[e._v("Templates page")]):e.templateIsFallback?e._e():t(Do.Z,{attrs:{text:"",href:e.templateUrl}},[e._v("Edit Template")]),t(Do.Z,{attrs:{dark:"",color:"blue",href:e.backToAdmin}},[e._v(" Go back ")])]},proxy:!0}])})},lM=[];let cM=class extends s.ZP{get decodedTemplateName(){const e=document.createElement("textarea");return e.innerHTML=this.templateName,e.value}get templateUrl(){return(0,pl.UH)(this.templateId)}get backToAdmin(){return Q.PK.documentSpecificNeededUrls?Q.PK.documentSpecificNeededUrls.backToWordPressUrl??"":""}};(0,r.gn)([(0,l.fI)()],cM.prototype,"templateName",void 0),(0,r.gn)([(0,l.fI)()],cM.prototype,"templateId",void 0),(0,r.gn)([(0,l.fI)()],cM.prototype,"templateIsFallback",void 0),(0,r.gn)([(0,l.fI)()],cM.prototype,"templatesPageUrl",void 0),cM=(0,r.gn)([(0,l.wA)({components:{Dialog:Mo.Z}})],cM);const dM=cM,uM=dM;var pM=(0,N.Z)(uM,rM,lM,!1,null,null,null);const hM=pM.exports;var gM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Invalid post ")]},proxy:!0},{key:"text",fn:function(){return["post_does_not_exist"===e.invalidPostData.errorType?t("div",[e._v(" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. ")]):e._e(),"post_is_in_trash"===e.invalidPostData.errorType?t("div",[e._v(" You can't edit this item because it is in the Trash. Please restore it and try again. ")]):e._e(),"post_type_is_banned"===e.invalidPostData.errorType?t("div",[e.invalidPostData.postType?[e._v(" Posts with post type "),t("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" can't be edited with "+e._s(e.$bdox("plugin_name"))+" directly. Please use a "),t("b",[e._v(e._s(e.$bdox("plugin_name"))+" Template")]),e._v(" instead. ")]:[e._v(" The requested post can't be edited with "+e._s(e.$bdox("plugin_name"))+". ")]],2):e._e(),"post_type_is_restricted"===e.invalidPostData.errorType?t("div",[e._v(" You don't have enough permissions to edit "),t("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" post type. ")]):e._e()]},proxy:!0},{key:"actions",fn:function(){return[t(Do.Z,{attrs:{dark:"",color:"blue",href:e.invalidPostData.backToAdminUrl}},[e._v(" Back to WordPress admin ")])]},proxy:!0}])})},mM=[];let vM=class extends s.ZP{get invalidPostData(){return Q.PK.invalidPostData}};vM=(0,r.gn)([(0,l.wA)({components:{Dialog:Mo.Z}})],vM);const fM=vM,yM=fM;var bM=(0,N.Z)(yM,gM,mM,!1,null,null,null);const SM=bM.exports;var _M=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.showDialog,width:500,closeable:!1},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"subtitle-top",fn:function(){return[e._v("Welcome to "+e._s(e.$bdox("plugin_name")))]},proxy:!0},{key:"title",fn:function(){return[e._v(" Do you want to start with a template?")]},proxy:!0},{key:"text",fn:function(){return[t("p",[e._v(" Templates save you hours of work. Each template is crafted by a pro and is fully customizable. ")])]},proxy:!0},{key:"actions",fn:function(){return[t(Do.Z,{staticStyle:{"margin-right":"auto"},attrs:{color:"blue"},on:{click:e.openDesignLibrary}},[e._v(" Open Design Library ")]),t(Do.Z,{attrs:{outlined:"",text:""},on:{click:e.closeForever}},[e._v("No, thanks")])]},proxy:!0}])})},xM=[];let CM=class extends s.ZP{constructor(){super(...arguments),this.isOpen=Q.PK.neededData?.isBuilderFirstTimeVisit??!1}get showDialog(){return this.isTreeEmpty&&this.isOpen}get isTreeEmpty(){return 0===Q.Hb.document.tree.root.children.length}closeForever(){this.isOpen=!1,(0,Ec.D)({action:"breakdance_save_arbitrary",dataToPost:{key:"onboarding_builder_fist_time_visit",data:"true"},decoder:kd._4})}openDesignLibrary(){(0,qe.of)("CMD_B"),this.closeForever()}};CM=(0,r.gn)([(0,l.wA)({components:{Dialog:Mo.Z}})],CM);const wM=CM,PM=wM;var IM=(0,N.Z)(PM,_M,xM,!1,null,null,null);const kM=IM.exports;var EM=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isComponentType&&e.totalRootChildren>1?t("div",{staticClass:"components-root-tag-warning"},[e._v(" Components must have a single root tag. ")]):e._e()},TM=[];let DM=class extends l.w3{get totalRootChildren(){return c.documentStore.document.tree.root.children.length}get isComponentType(){return c.documentStore.document.documentMeta.postType===pd.Zr}};DM=(0,r.gn)([(0,l.wA)({})],DM);const AM=DM,ZM=AM;var MM=(0,N.Z)(ZM,EM,TM,!1,null,"20a5fb30",null);const OM=MM.exports;var BM=function(){var e=this,t=e._self._c;e._self._setupProxy;return"breakdance"===e.builderMode?t("button",{staticClass:"preview-mode-close-button",on:{click:e.togglePreviewMode}},[e._v(" Close Preview ")]):"oxygen"===e.builderMode?t("button",{staticClass:"preview-mode-close-button-oxygen",on:{click:e.togglePreviewMode}},[t("Icon",{attrs:{icon:"CloseSolidIcon"}})],1):e._e()},LM=[];let NM=class extends l.w3{togglePreviewMode(){c.uiStore.togglePreviewMode()}get builderMode(){return c.configStore.builderMode}get isPreviewMode(){return c.uiStore.isPreviewMode}onIsPreviewModeChange(){if(this.isPreviewMode){const e=new Event("breakdance_play_animations",{bubbles:!0});window.Breakdance.canvas.document.dispatchEvent(e)}}};(0,r.gn)([(0,l.RL)("isPreviewMode",{immediate:!0})],NM.prototype,"onIsPreviewModeChange",null),NM=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],NM);const RM=NM,FM=RM;var VM=(0,N.Z)(FM,BM,LM,!1,null,null,null);const $M=VM.exports;var WM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-left-panel-new",class:{"singularity-left-panel-new--highlighted":e.isLeftPanelHighlighted}},[t("div",{staticClass:"singularity-left-panel-new__content"},["page_structure"===e.singularityLeftPanelState?t("PageStructureNew"):e._e(),"brand"===e.singularityLeftPanelState?t("BrandPanel"):e._e(),"brand_edit_color"===e.singularityLeftPanelState?t("BrandPanelColorEdit"):e._e(),"brand_edit_typography"===e.singularityLeftPanelState?t("BrandPanelTypographyEdit"):e._e(),"page_manager"===e.singularityLeftPanelState?t("WPPageManagerNew"):e._e(),"section_add_or_swap"===e.singularityLeftPanelState?t("SectionAddOrSwapPanelNew"):e._e(),"image_editor"===e.singularityLeftPanelState?t("ImageEditor",{key:e.imageEditorKey}):e._e(),"background_image_editor"===e.singularityLeftPanelState?t("BackgroundImageEditor"):e._e(),"icon_editor"===e.singularityLeftPanelState?t("IconEditor"):e._e(),"text_editor"===e.singularityLeftPanelState?t("TextEditor"):e._e(),"link_editor"===e.singularityLeftPanelState?t("LinkEditor"):e._e(),"content_properties_editor"===e.singularityLeftPanelState?t("ContentPropertiesEditor"):e._e(),"header_footer_editor"===e.singularityLeftPanelState?t("HeaderAndFooterEditor"):e._e(),"add_new_section"===e.singularityLeftPanelState?t("NewSectionPanel"):e._e(),"rewrite_section"===e.singularityLeftPanelState?t("RewriteSectionPanel"):e._e()],1)])},UM=[],zM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" I am the section writer. "),t(Sc.Z,{attrs:{label:"Section ID",type:"number",outlined:"",dense:""},model:{value:e.sectionId,callback:function(t){e.sectionId=e._n(t)},expression:"sectionId"}}),t(Do.Z,{on:{click:e.writeSection}},[e._v("Write Content")]),t(Do.Z,{on:{click:e.populateImages}},[e._v("Populate Images")])],1)},HM=[];let GM=class extends s.ZP{constructor(){super(...arguments),this.sectionId=-1}async writeSection(){Da.P.addJob((async e=>{await(0,Aa.H2)(this.sectionId,e)}),"rewrite triggered manually by sectionwriter.vue",this.sectionId)}async populateImages(){Da.P.addJob((async e=>{await(0,Aa.SW)(this.sectionId,e)}),"populate images triggered manually by sectionwriter.vue",this.sectionId)}};GM=(0,r.gn)([(0,l.wA)({components:{}})],GM);const qM=GM,KM=qM;var jM=(0,N.Z)(KM,zM,HM,!1,null,null,null);const XM=jM.exports;var YM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" I am the job manager. "),t(Do.Z,{on:{click:e.clearAllJobs}},[e._v("Clear All Jobs")]),e._l(e.aiJobs,(function(n,s){return t("div",{key:s,staticClass:"flex flex-row"},[t("div",[t("h3",[e._v(e._s(n.id))]),t("p",[e._v("Status: "+e._s(n.status))]),t("p",[e._v(e._s(n.jobName))])]),t("div",{staticClass:"flex flex-row"},[t(Do.Z,{on:{click:function(t){return e.runJob(n.id)}}},[e._v("Run")]),t(Do.Z,{on:{click:function(t){return e.abortJob(n.id)}}},[e._v("Abort")])],1)])}))],2)},QM=[];let JM=class extends s.ZP{get aiJobs(){return c.singularityStore.aiJobs}runJob(e){Da.P.runJob(e)}abortJob(e){Da.P.abortJob(e)}clearAllJobs(){Da.P.clearAllJobs()}};JM=(0,r.gn)([(0,l.wA)({components:{}})],JM);const eO=JM,tO=eO;var nO=(0,N.Z)(tO,YM,QM,!1,null,null,null);const sO=nO.exports;var iO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure vscroll-wrap vscroll-scroll"},[t("div",{class:{"page-structure-content-wrapper":!0,"page-structure-content-wrapper-drag-in-progress":e.isDragging}},[t("PageStructureHeader"),e.isOpeningPage?t("div",{staticClass:"page-structure__loading"},[t("span",{staticClass:"page-structure__loading-title"},[t("Icon",{staticClass:"animate-spin",attrs:{icon:"CircleNotchSolidIcon",size:"18"}}),e._v("Loading page...")],1),t("span",{staticClass:"page-structure__loading-text"},[e._v("This will take a few seconds.")])]):e.structure.length?t("div",{staticClass:"page-structure__sections-wrapper"},[t("span",{staticClass:"page-structure__top-bar"},[t("span",[e._v(" Drag sections to reorder.")]),t("NiceButton",{attrs:{color:"gray",size:"small","left-icon":"PlusIconSolid"},on:{click:e.addSection}},[e._v("Add Section")])],1),t("div",{staticClass:"page-structure-sections-wrapper"},[t("div",{staticClass:"page-structure-sections"},[t("draggable",{attrs:{value:e.structure,handle:".page-structure-section__title-bar",options:e.draggableOptions},on:{change:e.handleChange,start:e.onDragStart,end:e.onDragEnd}},e._l(e.structure,(function(n,s){return t("PageStructureSectionNew",{key:n.nodeId,attrs:{value:n,index:s,active:!e.isDragging&&e.isActive(n.nodeId),dragOperationInProgress:e.isDragging,currentlyBeingDragged:e.currentlyDraggedNodeId===n.nodeId}})})),1)],1)])]):t("div",{staticClass:"page-structure-section__empty-state",on:{click:e.addSection}},[t("NiceButton",{attrs:{color:"gray",size:"large","left-icon":"PlusIconSolid"},on:{click:function(t){return t.stopPropagation(),e.addSection.apply(null,arguments)}}},[e._v("Add Section")]),e._m(0)],1)],1)])},oO=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure-section__empty-state__title"},[t("p",[e._v("Seems empty here.")]),t("p",[e._v("Click to add a new section.")])])}];function aO(e){return e.root.children.filter((e=>e.data.type!==$s.Uu&&e.data.type!==$s.hO)).map(rO)}function rO(e){return{nodeId:e.id}}function lO(e,t){c.documentStore.unthrottledPropertyChanged({elementId:e,path:"meta.promptInfo.sectionDescription",meta:{snapshotLabel:`Updated sectionDescription for "${e}"`},value:t})}function cO(e,t){const n=t.root.children.some((e=>e.data.type===$s.Uu));return n?e+1:e}var dO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[t("div",{staticClass:"page-structure-section__title-bar",on:{click:e.activateSection}},[t("div",{staticClass:"page-structure-section-drag-handle"},[t("Icon",{staticClass:"page-structure-section-drag-handle__icon",attrs:{size:"18",icon:"GripVerticalSolidIcon"}})],1),t("div",{staticClass:"page-structure-section__title-bar__title"},[e._v(" "+e._s(e.title)+" "),e.active||e.isSectionCurrentlyRewritingWithAi?t("span",{staticClass:"page-structure-section__active-indicator"}):e._e()]),t("div",{staticClass:"page-structure-section__title-bar__actions"},[t("div",{staticClass:"page-structure-section__title-bar__action",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.duplicateSection.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"DuplicateSolidIcon",size:14}})],1),t("div",{staticClass:"page-structure-section__title-bar__action",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.deleteSection.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashSolidIcon",size:14}})],1)])]),e.active?t("div",{staticClass:"page-structure-section__content"},[t("div",{staticClass:"page-structure-section__content-wrapper"},[t("div",{staticClass:"page-structure-section__content-field"},[t("label",[e._v("Layout")]),e.sectionCardData?t("SectionCard",{attrs:{value:e.sectionCardData,showLabel:!0},nativeOn:{click:function(t){return e.openSectionLibrary("swap")}}}):e._e()],1),t("NiceButton",{attrs:{"left-icon":"Grid2Icon",color:"gray",expanded:"true"},on:{click:function(t){return e.openSectionLibrary("swap")}}},[e._v("Update Layout ")]),e.hasBackgroundImage?[t("div",{staticClass:"page-structure-section__divider"}),e.hasBackgroundImage?t("SingularityImageMediaPreview",{attrs:{value:e.value}}):e._e(),t("NiceButton",{attrs:{"left-icon":"ImageIcon",color:"gray",expanded:"true"},on:{click:e.editBackgroundImage}},[e._v("Edit Background ")])]:e._e(),t("div",{staticClass:"page-structure-section__divider"}),t("NiceButton",{class:{"is-spinning":e.isSectionCurrentlyRewritingWithAi},attrs:{disabled:e.isSectionCurrentlyRewritingWithAi,"left-icon":e.isSectionCurrentlyRewritingWithAi?"CircleNotchSolidIcon":"SparklesIconSolid",color:"gray",expanded:"true"},on:{click:e.openSectionRewrite}},[e._v(" "+e._s(e.isSectionCurrentlyRewritingWithAi?"Rewriting with AI...":"Edit with AI")+" ")])],2)]):e._e()])},uO=[],pO=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.internalValue?t("div",{staticClass:"singularity-image-preview"},[t("div",{staticClass:"page-structure-section__content-field"},[t("label",[e._v("Background Image")]),t("div",{staticClass:"breakdance-media-input-single",attrs:{role:"button"},on:{click:e.editBackgroundImage}},[t("MediaPreview",{attrs:{value:e.internalValue}}),t("MediaChooserLayer",{attrs:{value:e.internalValue,actionText:"Edit"},on:{click:e.editBackgroundImage}})],1)])]):e._e()},hO=[],gO=n(24726),mO=n(65648);let vO=class extends s.ZP{editBackgroundImage(){c.singularityStore.setImageEditorPanelState({elementId:this.value.nodeId,controlPath:"design.background.image"}),c.singularityStore.setSingularityLeftPanel("image_editor")}get internalValue(){const e=(0,ge.findNode)(c.documentStore.document.tree,this.value.nodeId);if(!e)return!1;const t=K()(e.data.properties,"design.background.image");return(0,Ic.pipe)(t,Cf.V0.decode,(0,kc.fold)((e=>{console.debug("Media decoder failed",e)}),(e=>e)))}};(0,r.gn)([(0,l.fI)()],vO.prototype,"value",void 0),vO=(0,r.gn)([(0,l.wA)({components:{MediaPreview:gO.Z,NiceButton:Cd.Z,MediaChooserLayer:mO.Z}})],vO);const fO=vO,yO=fO;var bO=(0,N.Z)(yO,pO,hO,!1,null,null,null);const SO=bO.exports;let _O=class extends s.ZP{constructor(){super(...arguments),this.isRewriteModalOpen=!1}get sectionIdToOperateOn(){return this.value.nodeId}get nodeToOperateOn(){return(0,ge.findNode)(c.documentStore.document.tree,this.value.nodeId)}get sectionCardData(){return $a(this.value.nodeId)}moveSection(e){const t="up"===e?this.index-1:this.index+1;c.documentStore.moveElement({draggedElementId:this.value.nodeId,droppedOnElementId:c.documentStore.document.tree.root.id,index:t}),c.uiStore.activateElement(this.value.nodeId)}duplicateSection(){c.documentStore.duplicateElementAndActivateIt(this.value.nodeId)}deleteSection(){c.documentStore.deleteElement({nodeId:this.value.nodeId})}get promptInfo(){if(this.nodeToOperateOn)return(0,Ma.E)(this.nodeToOperateOn)}get title(){return(this.nodeToOperateOn?.data.properties?.meta?.friendlyName?.trim()||this.promptInfo?.singularity.sectionData.type||"unknown title")??0}get hasBackgroundImage(){const e=(0,ge.findNode)(c.documentStore.document.tree,this.value.nodeId);return e&&"image"==K()(e.data.properties,"design.background.type")}editBackgroundImage(){this.sectionIdToOperateOn&&(c.singularityStore.setImageEditorPanelState({elementId:this.sectionIdToOperateOn,controlPath:"design.background.image"}),c.singularityStore.setSingularityLeftPanel("image_editor"))}openSectionLibrary(e){this.sectionIdToOperateOn&&(c.singularityStore.setSectionAddOrSwapPanelState({mode:e,sectionId:this.sectionIdToOperateOn}),c.singularityStore.setSectionLibraryModalState(!0))}openSectionRewrite(){c.singularityStore.setSectionRewritePanelState({section:this.value}),c.singularityStore.setSingularityLeftPanel("rewrite_section")}get classList(){return{"currently-being-dragged":this.currentlyBeingDragged,"drag-operation-in-progress":this.dragOperationInProgress,"page-structure-section":!0,"page-structure-section--active":this.active,"page-structure-section--open":this.active,"page-structure-section--currently-rewriting":this.isSectionCurrentlyRewritingWithAi}}get isSectionCurrentlyRewritingWithAi(){return c.singularityStore.aiJobs.filter((e=>e.affectedElement===this.sectionIdToOperateOn&&"running"===e.status&&e.jobName.includes("section rewrite"))).length>0}get isSectionCurrentlyReplacingImagesWithAi(){return c.singularityStore.aiJobs.filter((e=>e.affectedElement===this.sectionIdToOperateOn&&"running"===e.status&&e.jobName.includes("image"))).length>0}async activateSection(){(0,wr.Uw)(),c.uiStore.activateElement(this.value.nodeId)}get activeElementId(){return c.uiStore.activeElementId}};(0,r.gn)([(0,l.fI)()],_O.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],_O.prototype,"index",void 0),(0,r.gn)([(0,l.fI)({default:!1})],_O.prototype,"active",void 0),(0,r.gn)([(0,l.fI)({default:!1})],_O.prototype,"dragOperationInProgress",void 0),(0,r.gn)([(0,l.fI)({default:!1})],_O.prototype,"currentlyBeingDragged",void 0),_O=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,NiceButton:Cd.Z,SingularityImageMediaPreview:SO,SectionCard:tr}})],_O);const xO=_O,CO=xO;var wO=(0,N.Z)(CO,dO,uO,!1,null,null,null);const PO=wO.exports;var IO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure-header"},[t("Dropdown",{staticClass:"page-structure-header__dropdown",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"page-structure-header__title-dropdown"},n),[t("Icon",{staticClass:"page-structure-header__title-icon",attrs:{icon:e.isHomepage?"HomeSolidIcon":"PageRegularIcon",size:"20"}}),t("h1",{staticClass:"page-structure-header__title"},[t("span",[e._v(e._s(e.pageTitle))]),t("Icon",{staticClass:"page-structure-header__title-chevron-icon",attrs:{icon:"ChevronDownSolidIcon",size:"16"}})],1)],1)]}}])},[t("div",{staticClass:"page-structure-header__dropdown-content"},[e._l(e.pages,(function(e){return t("PageStructurePageListItem",{key:e.id,attrs:{value:e}})})),t("div",{staticClass:"page-structure-header__dropdown-divider"}),t("button",{staticClass:"page-structure-page-list-item",on:{click:e.openPagesPanel}},[t("div",{staticClass:"page-structure-page-list-item__content"},[t("div",{staticClass:"page-structure-page-list-item__title"},[t("Icon",{attrs:{size:12,icon:"ListIcon"}}),t("span",[e._v("Manage Pages")])],1)])])],2)])],1)},kO=[],EO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure-page-list-item",class:e.classList,on:{click:e.openInCanvas}},[t("div",{staticClass:"page-structure-page-list-item__content"},[t("div",{staticClass:"page-structure-page-list-item__title"},[t("Icon",{attrs:{size:12,icon:e.isHomepage?"HomeSolidIcon":"PageRegularIcon"}}),t("span",[e._v(e._s(e.value.title))])],1)])])},TO=[];let DO=class extends s.ZP{async openInCanvas(){c.singularityStore.setIsOpeningPageId(this.value.id),await(0,ul.$)(),await(0,pl.rI)(this.value.id),c.singularityStore.setIsOpeningPageId(!1),c.singularityStore.setSingularityLeftPanel("page_structure")}get isOpeningPage(){return c.singularityStore.isOpeningPageId===this.value.id}get isHomepage(){return this.value.title.toLowerCase().includes("home")}get active(){return this.value.id===c.documentStore.document.documentMeta.id}get classList(){return{"is-active":this.active,"is-opening":this.isOpeningPage}}};(0,r.gn)([(0,l.fI)()],DO.prototype,"value",void 0),DO=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,Icon:He.Z,Dropdown:Jl.Z}})],DO);const AO=DO,ZO=AO;var MO=(0,N.Z)(ZO,EO,TO,!1,null,null,null);const OO=MO.exports;var BO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(RI.Z,{attrs:{bottom:"","max-width":"180","content-class":"singularity-tooltip",transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("IconButton",e._g(e._b({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"CircleQuestionSolidIcon"}},"IconButton",s,!1),n))]}}])},[t("span",{staticClass:"singularity-tooltip__text"},[e._v(" "+e._s(e.text)+" ")])])},LO=[];let NO=class extends s.ZP{};(0,r.gn)([(0,l.fI)({type:String,required:!0})],NO.prototype,"text",void 0),NO=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z}})],NO);const RO=NO,FO=RO;var VO=(0,N.Z)(FO,BO,LO,!1,null,null,null);const $O=VO.exports;let WO=class extends s.ZP{get structure(){return aO(c.documentStore.document.tree)}get pages(){return c.singularityStore.pagesInWP.filter((e=>"page"===e.postType))}get pageTitle(){return c.documentStore.document.documentMeta.titleLabel}get isHomepage(){return this.pageTitle.toLowerCase().includes("home")}openPagesPanel(){c.singularityStore.setSingularityLeftPanel("page_manager")}addSection(){c.singularityStore.setSectionAddOrSwapPanelState({mode:"add_after",sectionId:this.structure.length?this.structure[this.structure.length-1].nodeId:null}),c.singularityStore.setSectionLibraryModalState(!0)}};WO=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,Dropdown:Jl.Z,Icon:He.Z,PageStructurePageListItem:OO,SingularityTooltip:$O}})],WO);const UO=WO,zO=UO;var HO=(0,N.Z)(zO,IO,kO,!1,null,null,null);const GO=HO.exports;let qO=class extends s.ZP{constructor(){super(...arguments),this.isDragging=!1,this.isScrolling=!1,this.currentlyDraggedNodeId=null}get activeElement(){return c.uiStore.activeElementId}get structure(){return aO(c.documentStore.document.tree)}get pageTitle(){return c.documentStore.document.documentMeta.titleLabel}get isOpeningPage(){return c.singularityStore.isOpeningPageId}isActive(e){return c.uiStore.inlineEditingContext?c.uiStore.isElementBeingEditedInline(e):c.uiStore.activeElementId===e}get draggableOptions(){return{ghostClass:"page-structure-section--dragging",dragClass:"page-structure-section--drag-active",setData:e=>{const t=document.createElement("div");t.style.width="1px",t.style.height="1px",t.style.opacity="0",document.body.appendChild(t),e.setDragImage(t,0,0),setTimeout((()=>{document.body.contains(t)&&document.body.removeChild(t)}),0)}}}onDragStart(e){this.isDragging=!0;const t=e.oldIndex;this.currentlyDraggedNodeId=this.structure[t]?.nodeId||null}onDragEnd(){this.isDragging=!1,this.currentlyDraggedNodeId=null}handleChange(e){if(e.moved){const t=e.moved.element.nodeId,n=cO(e.moved.newIndex,c.documentStore.document.tree);c.documentStore.moveElement({draggedElementId:t,droppedOnElementId:c.documentStore.document.tree.root.id,index:n}),c.uiStore.activateElement(t),(0,HC.es)(!0)}}addSection(){c.singularityStore.setSectionAddOrSwapPanelState({mode:"add_after",sectionId:this.structure.length?this.structure[this.structure.length-1].nodeId:null}),c.singularityStore.setSingularityLeftPanel("add_new_section")}};qO=(0,r.gn)([(0,l.wA)({components:{PageStructureSectionNew:PO,draggable:Em(),Icon:He.Z,PageStructureHeader:GO,NiceButton:Cd.Z}})],qO);const KO=qO,jO=KO;var XO=(0,N.Z)(jO,iO,oO,!1,null,null,null);const YO=XO.exports;var QO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-image-editor-panel vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:e.panelTitle,childTitle:e.childTitle,backState:e.backState}}),e.isOptionsView?t("div",{staticClass:"futurelayer-image-editor-panel__content"},[t("div",{staticClass:"futurelayer-image-editor-options"},e._l(e.options,(function(n){return t("SingularityOption",{key:n.value,attrs:{icon:n.icon,description:n.description,title:n.label},on:{click:function(e){n.action&&n.action()}},scopedSlots:e._u([{key:"content",fn:function(){return["stock"===n.value?t("FutureLayerImageSuggested",{attrs:{imageControlData:e.futureLayerImageDataForCurrentImage}}):e._e()]},proxy:!0}],null,!0)})})),1)]):e.isOptionsView||e.isStockImagesView?e.isStockImagesView?t("FutureLayerImageBrowser",{attrs:{imageControlData:e.futureLayerImageDataForCurrentImage},on:{"image-selected":e.handleImageSelected,"image-previewed":e.handleImagePreviewed,"image-restored":e.handleImageRestored}}):e.isLoadingView?t("div",{staticClass:"image-editor-loading"},[t("div",{staticClass:"image-editor-content-wrapper"},[t("Icon",{staticClass:"animate-spin",attrs:{icon:"CircleNotchSolidIcon",size:"18"}})],1)]):e._e():t("div",{staticClass:"image-editor-content-wrapper"},[e.isGalleryMode?t("GalleryStrip",{attrs:{"base-path-to-image-control":e.basePathToImageControl,"element-id":e.elementId,"selected-image-index":e.selectedImageIndex},on:{"path-selected":function(t){e.pathToImageControlWhenInGalleryMode=t},"index-changed":e.updateSelectedImageIndex}}):e._e(),t("div",{staticClass:"image-editor-current-image"},[e.currentMediaInputValue?t("div",{staticClass:"image-editor-current-image__badge"},[t("SingularityBadge",{attrs:{value:"Selected"}})],1):e._e(),e.currentMediaInputValue?t("div",{staticClass:"image-editor-delete-button"},[t("Icon",{attrs:{icon:"CloseSolidIcon",size:"16"},on:{click:function(t){return e.updateMediaInputValue(null)}}})],1):e._e(),t("div",{staticClass:"image-editor-preview"},[t("MediaPreview",{attrs:{value:e.currentMediaInputValue}}),t("MediaChooserLayer",{attrs:{value:e.currentMediaInputValue,actionText:e.currentMediaInputValue?"Change":"Add"},on:{click:function(t){return e.setEditorView(e.EditorView.Options)}}})],1),t("div",{staticClass:"imageg-editor-current-image__buttons"},[t("NiceButton",{attrs:{"left-icon":"ImageIcon",color:"gray",expanded:"true"},on:{click:function(t){return e.setEditorView(e.EditorView.Options)}}},[e._v(" "+e._s(e.currentMediaInputValue?"Change Image":"Add Image")+" ")])],1)])],1),t("SingularityMediaUploadDialog",{attrs:{dialogOpen:e.isUploadDialogView,multiple:e.isGalleryMode,value:e.currentMediaInputValue,"media-input-options":e.mediaInputOptions,"active-tab":e.activeWPMediaDialogTab},on:{input:e.updateMediaInputValue,close:function(t){return e.setEditorView(e.EditorView.Main)}}})],1)},JO=[],eB=n(90308),tB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-image-browser"},[t("div",{staticClass:"search-section"},[t("div",{staticClass:"search-input-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKeyword,expression:"searchKeyword"}],staticClass:"search-input-wrapper-input",attrs:{type:"text",placeholder:"Search for images..."},domProps:{value:e.searchKeyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchImages.apply(null,arguments)},input:function(t){t.target.composing||(e.searchKeyword=t.target.value)}}}),t("Icon",{attrs:{icon:"SearchIcon",size:"14"},on:{click:e.searchImages}})],1),e.aiKeywords.length>0?t("div",{staticClass:"suggested-keywords"},[t("div",{staticClass:"keyword-chips"},e._l(e.aiKeywords,(function(n){return t("span",{key:n,staticClass:"keyword-chip",on:{click:function(t){return e.useKeyword(n)}}},[e._v(" "+e._s(n)+" ")])})),0)]):e._e()]),t("div",{ref:"imagesSection",staticClass:"images-section"},[e.displayedImages.length>0?t("div",{staticClass:"search-results"},[t("div",{staticClass:"images-grid"},e._l(e.displayedImages,(function(n){return t("FutureImageThumbnail",{key:n.id,attrs:{image:n},on:{click:function(t){return e.selectImage(n)},mouseenter:function(t){return e.previewImage(n)},mouseleave:e.restoreOriginalImage}})})),1),e.hasMoreImages&&!e.isSearching?t("div",{staticClass:"load-more"},[t("NiceButton",{attrs:{size:"large",color:"gray",expanded:"true"},on:{click:e.loadMoreImages}},[e._v("Load More")])],1):e._e()]):e._e(),0!==e.displayedImages.length||e.isSearching?e._e():t("div",{staticClass:"no-results"},[t("p",[e._v(" No images available. Try searching for images using the input above. ")])])])])},nB=[],sB=n(49234),iB=n(50247),oB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("figure",{class:e.classes,attrs:{role:"button",tabindex:"0"},on:{click:function(t){return e.$emit("click",e.image)},mouseenter:function(t){return e.$emit("mouseenter",e.image)},mouseleave:function(t){return e.$emit("mouseleave")}}},[t("img",{staticClass:"image-card__image",attrs:{src:e.image.urls.regular,alt:e.image.alt_description||""},on:{load:e.handleLoad,error:e.handleError}}),t("div",{staticClass:"image-card__attribution"},[t(RI.Z,{attrs:{bottom:"","max-width":"180","content-class":"singularity-tooltip",transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("Icon",e._g({attrs:{icon:"CircleInfoSolidIcon",size:"14"}},n))]}}])},[t("span",{staticClass:"singularity-tooltip__text"},[e._v(" Photo by "+e._s(e.image.user.name)+" on "+e._s(e.getImageSource(e.image))+" ")])])],1)])},aB=[];let rB=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!0}handleLoad(){this.isLoading=!1}handleError(){this.isLoading=!1}get classes(){return{"image-card":!0,"image-card--loading":this.isLoading,"image-card--landscape":"landscape"===this.getOrientation(this.image),"image-card--portrait":"portrait"===this.getOrientation(this.image),"image-card--square":"square"===this.getOrientation(this.image)}}getOrientation(e){return e.width>e.height?"landscape":e.width<e.height?"portrait":"square"}getImageSource(e){return(0,iB.I)(e)?"Unsplash":"Pexels"}};(0,r.gn)([(0,l.fI)({required:!0})],rB.prototype,"image",void 0),rB=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],rB);const lB=rB,cB=lB;var dB=(0,N.Z)(cB,oB,aB,!1,null,null,null);const uB=dB.exports;let pB=class extends s.ZP{constructor(){super(...arguments),this.searchKeyword="",this.searchResults=[],this.isSearching=!1,this.currentSearchTerm="",this.currentPage=1,this.hasMoreImages=!0}get aiKeywords(){return this.imageControlData?.keywords||[]}get displayedImages(){return this.searchResults.length>0?this.searchResults:this.imageControlData?.searchResults||[]}mounted(){this.aiKeywords.length>0&&(this.searchKeyword=this.aiKeywords[0],this.currentSearchTerm=this.aiKeywords[0])}async loadMoreImages(){if(this.searchKeyword.trim()){this.isSearching=!0,this.currentPage+=1;try{const e=await(0,sB.O)({query:this.searchKeyword,page:this.currentPage,per_page:12});e.length>0?this.searchResults=[...this.searchResults,...e]:this.hasMoreImages=!1}catch(e){console.error("Image search failed:",e)}finally{this.isSearching=!1}}}useKeyword(e){this.searchKeyword=e,this.searchImages()}async searchImages(){if(this.searchKeyword.trim()){this.isSearching=!0,this.currentSearchTerm=this.searchKeyword,this.currentPage=1,this.hasMoreImages=!0;try{const e=await(0,sB.O)({query:this.searchKeyword,page:this.currentPage,per_page:20});this.searchResults=e,this.hasMoreImages=e.length>0}catch(e){console.error("Image search failed:",e),this.searchResults=[],this.hasMoreImages=!1}finally{this.isSearching=!1}}}previewImage(e){const t=e.urls.regular||"";this.$emit("image-previewed",t)}restoreOriginalImage(){this.$emit("image-restored")}selectImage(e){this.$emit("image-selected",e)}getImageSource(e){return(0,iB.I)(e)?"Unsplash":"Pexels"}};(0,r.gn)([(0,l.fI)({default:null})],pB.prototype,"imageControlData",void 0),pB=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,NiceButton:Cd.Z,Icon:He.Z,FutureImageThumbnail:uB}})],pB);const hB=pB,gB=hB;var mB=(0,N.Z)(gB,tB,nB,!1,null,null,null);const vB=mB.exports;var fB=n(10921),yB=n(52166),bB=n(86025),SB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"panel-header"},[t("h1",{staticClass:"panel-header__title",class:{"panel-header__title--link":e.backState},on:{click:e.goBackToPanelState}},[e.backState?t("Icon",{attrs:{icon:"ChevronDownSolidIcon",rotate:"90",size:"14"}}):e._e(),e._v(" "+e._s(e.parentTitle)+" "),e.childTitle?[t("span",[e._v("/")]),t("span",[e._v(e._s(e.childTitle))])]:e._e()],2),t("div",{staticClass:"panel-header__actions"},[e._t("actions")],2)])},_B=[];let xB=class extends s.ZP{goBackToPanelState(){"function"===typeof this.backState?this.backState():this.backState&&c.singularityStore.setSingularityLeftPanel(this.backState)}};(0,r.gn)([(0,l.fI)({default:"Title"})],xB.prototype,"parentTitle",void 0),(0,r.gn)([(0,l.fI)()],xB.prototype,"childTitle",void 0),(0,r.gn)([(0,l.fI)()],xB.prototype,"backState",void 0),xB=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],xB);const CB=xB,wB=CB;var PB=(0,N.Z)(wB,SB,_B,!1,null,null,null);const IB=PB.exports;var kB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"gallery-image-strip"},[t("div",{staticClass:"gallery-images-container"},[e._l(e.galleryImages,(function(n,s){return t("div",{key:s,staticClass:"gallery-image-item",class:{selected:s===e.selectedIndex},on:{click:function(t){return e.selectImage(s)}}},[n&&n.url?t("img",{staticClass:"gallery-thumbnail",attrs:{src:n.url,alt:n.alt||""}}):t("div",{staticClass:"gallery-thumbnail empty"},[t("span",[e._v("No Image")])]),e.galleryImages.length>1?t("button",{staticClass:"delete-image-btn",on:{click:function(t){return t.stopPropagation(),e.deleteImage(s)}}},[e._v("  ")]):e._e()])})),t("button",{staticClass:"add-image-btn",on:{click:e.addImage}},[e._v("+")])],2)])},EB=[];let TB=class extends s.ZP{get repeaterBasePath(){return this.basePathToImageControl.split("[]")[0]}get repeaterSubPath(){const e=this.basePathToImageControl.split("[]");return e[1]?.startsWith(".")?e[1].substring(1):e[1]}get repeaterArrayValue(){const e=(0,ge.findNode)(c.documentStore.document.tree,this.elementId);if(!e)return[];const t=K()(e.data.properties,this.repeaterBasePath);return Array.isArray(t)?t:[]}get galleryImages(){return this.repeaterArrayValue.map((e=>this.repeaterSubPath?K()(e,this.repeaterSubPath)||null:e)).filter(Boolean)}get selectedIndex(){return Math.max(0,Math.min(this.selectedImageIndex,this.galleryImages.length-1))}get pathToImageControlWhenInGalleryMode(){return`${this.repeaterBasePath}[${this.selectedIndex}].${this.repeaterSubPath}`}emitPathChange(){this.$emit("path-selected",this.pathToImageControlWhenInGalleryMode)}emitIndexChange(){this.$emit("index-changed",this.selectedIndex)}selectImage(e){e>=0&&e<this.galleryImages.length&&this.$emit("index-changed",e)}addImage(){const e={id:-1,type:"external_image",url:"",alt:"",caption:""},t={};this.repeaterSubPath&&Uc()(t,this.repeaterSubPath,e),"image"===this.repeaterSubPath&&(t.caption="");const n=[...this.repeaterArrayValue,t],s=n.length-1;c.documentStore.unthrottledPropertyChanged({elementId:this.elementId,path:this.repeaterBasePath,value:n,meta:{snapshotLabel:"Add Image to Gallery"}}),this.$emit("index-changed",s)}deleteImage(e){if(e<0||e>=this.galleryImages.length||this.galleryImages.length<=1)return;const t=[...this.repeaterArrayValue];t.splice(e,1),c.documentStore.unthrottledPropertyChanged({elementId:this.elementId,path:this.repeaterBasePath,value:t,meta:{snapshotLabel:"Delete Image from Gallery"}});let n=this.selectedIndex;e<=this.selectedIndex&&(n=Math.max(0,this.selectedIndex-1)),n>=t.length&&(n=t.length-1),this.$emit("index-changed",n)}};(0,r.gn)([(0,l.fI)({required:!0})],TB.prototype,"basePathToImageControl",void 0),(0,r.gn)([(0,l.fI)({required:!0})],TB.prototype,"elementId",void 0),(0,r.gn)([(0,l.fI)({default:0})],TB.prototype,"selectedImageIndex",void 0),(0,r.gn)([(0,l.RL)("pathToImageControlWhenInGalleryMode",{immediate:!0})],TB.prototype,"emitPathChange",null),(0,r.gn)([(0,l.RL)("selectedIndex")],TB.prototype,"emitIndexChange",null),TB=(0,r.gn)([l.wA],TB);const DB=TB,AB=DB;var ZB=(0,N.Z)(AB,kB,EB,!1,null,null,null);const MB=ZB.exports;var OB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-option",on:{click:function(t){return e.$emit("click")}}},[t("Icon",{attrs:{icon:e.icon,size:"16"}}),t("div",{staticClass:"singularity-option__content"},[t("h4",[e._v(e._s(e.title))]),e.description?t("p",[e._v(e._s(e.description))]):e._e(),e._t("content")],2),t("div",{staticClass:"singularity-option__icon-chevron"},[t("Icon",{attrs:{icon:"ChevronRightIcon",size:"16"}})],1)],1)},BB=[];let LB=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],LB.prototype,"title",void 0),(0,r.gn)([(0,l.fI)()],LB.prototype,"description",void 0),(0,r.gn)([(0,l.fI)({default:"SparklesIcon"})],LB.prototype,"icon",void 0),LB=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],LB);const NB=LB,RB=NB;var FB=(0,N.Z)(RB,OB,BB,!1,null,null,null);const VB=FB.exports;var $B=n(45162),WB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("MediaUploadDialog",{attrs:{open:e.open,multiple:e.multiple,"selected-media":e.value,"accepted-file-types":e.mediaInputOptions,"active-tab":e.activeTab},on:{input:e.onMediaSelected,close:function(t){return e.$emit("close")}}})},UB=[];let zB=class extends s.ZP{constructor(){super(...arguments),this.open=!1}onDialogOpenChange(e){this.open=e}get acceptedFileTypes(){return this.mediaInputOptions?.acceptedFileTypes||[]}updateValue(e){this.$emit("input",e)}async onMediaSelected(e){const t=(0,Gc.Z)(this.value);Array.isArray(t)&&Array.isArray(e)?(t.push(...e),this.updateValue(t)):this.updateValue(e)}};(0,r.gn)([(0,l.fI)()],zB.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],zB.prototype,"mediaInputOptions",void 0),(0,r.gn)([(0,l.fI)()],zB.prototype,"multiple",void 0),(0,r.gn)([(0,l.fI)()],zB.prototype,"dialogOpen",void 0),(0,r.gn)([(0,l.fI)({default:"library"})],zB.prototype,"activeTab",void 0),(0,r.gn)([(0,l.RL)("dialogOpen",{immediate:!0})],zB.prototype,"onDialogOpenChange",null),zB=(0,r.gn)([(0,l.wA)({components:{MediaUploadDialog:$B.Z}})],zB);const HB=zB,GB=HB;var qB=(0,N.Z)(GB,WB,UB,!1,null,null,null);const KB=qB.exports;var jB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-image-browser-suggested"},[e.displayedImages.length>0?t("div",{staticClass:"images-grid-small"},e._l(e.displayedImages,(function(e){return t("div",{key:e.id,staticClass:"image-card-small"},[t("img",{attrs:{src:e.urls.regular,alt:e.alt_description||""}})])})),0):e._e()])},XB=[];let YB=class extends s.ZP{constructor(){super(...arguments),this.limit=3}get displayedImages(){return this.imageControlData?.searchResults.slice(0,this.limit)||[]}};(0,r.gn)([(0,l.fI)({default:null})],YB.prototype,"imageControlData",void 0),YB=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,NiceButton:Cd.Z,Icon:He.Z}})],YB);const QB=YB,JB=QB;var eL=(0,N.Z)(JB,jB,XB,!1,null,null,null);const tL=eL.exports;var nL;(function(e){e["Main"]="main",e["Options"]="options",e["UploadDialog"]="uploadDialog",e["StockImages"]="stockImages",e["Loading"]="loading"})(nL||(nL={}));let sL=class extends s.ZP{constructor(){super(...arguments),this.originalMediaValue=null,this.pathToImageControlWhenInGalleryMode=null,this.editorView=nL.Main,this.EditorView=nL,this.options=[{label:"File Upload",value:"file_upload",icon:"UploadFileIcon",description:"Upload from your computer",action:()=>{this.openWPMediaUploadDialog("upload")}},{label:"Browse Library",value:"browse_library",icon:"ImageIcon",description:"Choose from your media library",action:()=>{this.openWPMediaUploadDialog("library")}},{label:"Curated for You",value:"stock",icon:"SparklesIcon",description:"Search thousands free images",action:()=>{this.setEditorView(nL.StockImages)}}],this.activeWPMediaDialogTab="library",this.addIsOpen=!1}setEditorView(e){this.editorView=e||nL.Main}setOptionView(){this.setEditorView(nL.Options)}get isMainView(){return this.editorView===nL.Main}get isOptionsView(){return this.editorView===nL.Options}get isUploadDialogView(){return this.editorView===nL.UploadDialog}get isStockImagesView(){return this.editorView===nL.StockImages}get isLoadingView(){return this.editorView===nL.Loading}get backState(){return this.isOptionsView?this.setEditorView:this.isStockImagesView?this.setOptionView:"page_structure"}get childTitle(){return this.isOptionsView?"Update":this.isStockImagesView?"Stock Images":null}openWPMediaUploadDialog(e){this.activeWPMediaDialogTab=e,this.setEditorView(nL.UploadDialog)}get panelTitle(){return this.isGalleryMode?"Edit Gallery":"Edit Image"}get elementId(){return c.singularityStore.imageEditorPanelState?.elementId}get basePathToImageControl(){return c.singularityStore.imageEditorPanelState?.controlPath}get selectedImageIndex(){return c.singularityStore.imageEditorPanelState?.selectedImageIndex??0}get isGalleryMode(){return this.basePathToImageControl?.includes("[]")||!1}get pathToImageControl(){return this.isGalleryMode&&this.pathToImageControlWhenInGalleryMode?this.pathToImageControlWhenInGalleryMode:this.basePathToImageControl}get futureLayerImageData(){const e=(0,ge.findNode)(c.documentStore.document.tree,this.elementId);return e?(0,yB.p5)(e):null}get futureLayerImageDataForCurrentImage(){const e=this.futureLayerImageData;return this.isGalleryMode?e?.[this.selectedImageIndex]||null:e?.[0]||null}get currentMediaInputValue(){if(!this.elementId||!this.pathToImageControl)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,this.elementId);if(!e)return null;const t=K()(e.data.properties,this.pathToImageControl);return t||null}updateMediaInputValue(e){this.elementId&&this.pathToImageControl&&c.documentStore.unthrottledPropertyChanged({elementId:this.elementId,path:this.pathToImageControl,value:e,meta:{snapshotLabel:this.isGalleryMode?`Gallery Image ${this.selectedImageIndex+1} Update`:"Image Editor Media Input Update"}})}updateSelectedImageIndex(e){this.elementId&&this.basePathToImageControl&&c.singularityStore.setImageEditorPanelState({elementId:this.elementId,controlPath:this.basePathToImageControl,selectedImageIndex:e})}handleImagePreviewed(e){this.originalMediaValue||(this.originalMediaValue=this.currentMediaInputValue);const t={type:"external_image",url:e,alt:"",caption:"",id:-1};this.updateMediaInputValue(t)}handleImageRestored(){this.originalMediaValue&&(this.updateMediaInputValue(this.originalMediaValue),this.originalMediaValue=null)}async handleImageSelected(e){if(this.originalMediaValue=null,this.setEditorView(nL.Loading),(0,bB.oI)(e)){const t=(0,iB.Zu)(e,this.futureLayerImageDataForCurrentImage?.width),n=await(0,bB.Aq)(t,e);if(n){const e=(0,bB.oM)(n);return this.updateMediaInputValue(e),void this.setEditorView(nL.Main)}}const t=(0,fB.B)(e);this.updateMediaInputValue(t),this.setEditorView(nL.Main)}openAdd(){this.addIsOpen=!this.addIsOpen}get mediaInputOptions(){return{acceptedFileTypes:["image"]}}get uiStoreActiveElementId(){return c.uiStore.activeElementId}closePanelIfElementIdChanges(){this.elementId!==this.uiStoreActiveElementId&&c.singularityStore.setImageEditorPanelState(null)}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],sL.prototype,"closePanelIfElementIdChanges",null),sL=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z,IconButton:Ia.Z,PanelHeader:Vw,WPMediaInput:eB.Z,FutureLayerImageBrowser:vB,SingularityPanelHeader:IB,GalleryStrip:MB,SingularityBadge:Xa,NiceButton:Cd.Z,SingularityOption:VB,MediaUploadDialog:$B.Z,SingularityMediaUploadDialog:KB,MediaPreview:gO.Z,MediaChooserLayer:mO.Z,FutureLayerImageSuggested:tL,Icon:He.Z}})],sL);const iL=sL,oL=iL;var aL=(0,N.Z)(oL,QO,JO,!1,null,null,null);const rL=aL.exports;var lL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"background-image-editor vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"PlusIconSolid"},on:{click:function(t){return e.$emit("something")}}}),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"EllipsisStrokeIcon"}},n))]}}])},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:function(t){return e.$emit("edit-background-image")}}},[t(Xl.V9,[e._v(" Edit Background Image ")])],1)],1)],1)]},proxy:!0}])},[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"ArrowLeftIcon"},on:{click:e.backToPageStructurePanel}}),e._v(" Edit Background Image ")],1),t("div",{staticClass:"background-image-editor-content-wrapper"},[t("div",{staticClass:"background-image-editor-current-image"},[t("h2",[e._v("Current Background Image")]),t("WPMediaInput",{attrs:{value:e.mediaInputValue,"media-options":e.mediaInputOptions},on:{input:e.updateMediaInputValue}})],1),t("UnsplashImageBrowser",{on:{"image-selected":e.handleImageSelected}})],1)],1)},cL=[],dL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"unsplash-image-browser"},[t("h2",[e._v("Search Images")]),t("div",{staticClass:"unsplash-image-browser-search-input-wrapper"},[t("TextInput",{model:{value:e.unsplashSearchQuery,callback:function(t){e.unsplashSearchQuery=t},expression:"unsplashSearchQuery"}}),t("NiceButton",{attrs:{loading:e.loading},on:{click:e.searchUnsplash}},[e._v(" Search ")]),t(Dh.Z,{attrs:{items:["landscape","portrait","squarish"],label:"Orientation",outlined:""},model:{value:e.unsplashSearchOrientation,callback:function(t){e.unsplashSearchOrientation=t},expression:"unsplashSearchOrientation"}})],1),e._l(e.images,(function(n,s){return t("div",{key:s,staticClass:"unsplash-image-wrapper"},[t("img",{attrs:{src:n.urls.regular,alt:n.alt_description||""},on:{click:function(t){return e.selectImage(n)}}}),t("p",[e._v(e._s(n.description||""))])])})),0!==e.images.length||e.loading?e._e():t("div",[e._v(" Search for images using the input above ")])],2)},uL=[];let pL=class extends s.ZP{constructor(){super(...arguments),this.images=[],this.unsplashSearchOrientation="landscape",this.unsplashSearchQuery="",this.loading=!1}async searchUnsplash(){if(this.unsplashSearchQuery.trim()){this.loading=!0;try{const e=await(0,sB.O)({query:this.unsplashSearchQuery,page:1,per_page:20});this.images=e}catch(e){console.error("Error searching Unsplash:",e),this.images=[]}finally{this.loading=!1}}}selectImage(e){this.$emit("image-selected",e)}};pL=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,NiceButton:Cd.Z}})],pL);const hL=pL,gL=hL;var mL=(0,N.Z)(gL,dL,uL,!1,null,null,null);const vL=mL.exports;let fL=class extends s.ZP{get sectionId(){return c.singularityStore.backgroundImageEditorPanelState?.sectionId}get mediaInputValue(){if(!this.sectionId)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,this.sectionId);if(!e)return null;const t=K()(e.data.properties,bL);return t||null}updateMediaInputValue(e){this.sectionId&&c.documentStore.unthrottledPropertyChanged({elementId:this.sectionId,path:bL,value:e,meta:{snapshotLabel:"Background Image Editor Media Input Update"}})}get mediaInputOptions(){return{acceptedFileTypes:["image"]}}backToPageStructurePanel(){c.singularityStore.setSingularityLeftPanel("page_structure")}handleImageSelected(e){const t=(0,fB.B)(e);this.updateMediaInputValue(t)}close(){alert("close")}get uiStoreActiveElementId(){return c.uiStore.activeElementId}closePanelIfElementIdChanges(){this.sectionId!==this.uiStoreActiveElementId&&c.singularityStore.setBackgroundImageEditorPanelState(null)}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],fL.prototype,"closePanelIfElementIdChanges",null),fL=(0,r.gn)([(0,l.wA)({components:{Dropdown:Jl.Z,IconButton:Ia.Z,PanelHeader:Vw,WPMediaInput:eB.Z,UnsplashImageBrowser:vL}})],fL);const yL=fL,bL="design.background.image",SL=yL;var _L=(0,N.Z)(SL,lL,cL,!1,null,null,null);const xL=_L.exports;var CL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"icon-editor vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Edit Icon",backState:"page_structure"}}),t("div",{staticClass:"icon-editor-content-wrapper"},[t("IconInput",{attrs:{value:e.iconInputValue},on:{input:e.updateIconInputValue}})],1)],1)},wL=[],PL=n(50296);let IL=class extends s.ZP{get iconId(){return c.singularityStore.iconEditorPanelState.iconId}get iconInputValue(){if(!this.iconId)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,this.iconId);if(!e)return null;const t=K()(e.data.properties,EL);return t||null}updateIconInputValue(e){this.iconId&&c.documentStore.unthrottledPropertyChanged({elementId:this.iconId,path:EL,value:e,meta:{snapshotLabel:"Icon Editor Input Update"}})}};IL=(0,r.gn)([(0,l.wA)({components:{IconInput:PL.Z,SingularityPanelHeader:IB}})],IL);const kL=IL,EL="content.content.icon",TL=kL;var DL=(0,N.Z)(TL,CL,wL,!1,null,null,null);const AL=DL.exports;var ZL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"text-editor vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Edit Text",backState:"page_structure"}}),t("div",{staticClass:"text-editor-content-wrapper"},[t("TextInput",{attrs:{value:e.textInputValue,multiline:!0},on:{input:e.updateTextInputValue}})],1)],1)},ML=[];let OL=class extends s.ZP{get uiStoreActiveElementId(){return c.uiStore.activeElementId}closePanelIfElementIdChanges(){this.textEditorPanelState?.elementId!==this.uiStoreActiveElementId&&c.singularityStore.setTextEditorPanelState(null)}get textEditorPanelState(){return c.singularityStore.textEditorPanelState}get textInputValue(){if(!this.textEditorPanelState)return null;const e=(0,ge.findNode)(c.documentStore.document.tree,this.textEditorPanelState.elementId);if(!e)return null;const t=K()(e.data.properties,this.textEditorPanelState.contentEditablePropertyPath);return t||null}updateTextInputValue(e){this.textEditorPanelState?.elementId&&c.documentStore.unthrottledPropertyChanged({elementId:this.textEditorPanelState.elementId,path:this.textEditorPanelState.contentEditablePropertyPath,value:e,meta:{snapshotLabel:"Text Editor Input Update"}})}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],OL.prototype,"closePanelIfElementIdChanges",null),OL=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,SingularityPanelHeader:IB}})],OL);const BL=OL,LL=BL;var NL=(0,N.Z)(LL,ZL,ML,!1,null,null,null);const RL=NL.exports;var FL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Edit",childTitle:"Link",backState:"page_structure"}}),t("div",{staticClass:"singularity-panel__content"},e._l(e.linkPropertyPaths,(function(n){return t("div",{key:n},[t("LinkInput",{attrs:{value:e.linkInputValue(n)},on:{input:function(t){return e.updateLinkInputValue(t,n)}}})],1)})),0)],1)])},VL=[],$L=n(16980);let WL=class extends s.ZP{get linkEditorPanelState(){return c.singularityStore.linkEditorPanelState}get uiStoreActiveElementId(){return c.uiStore.activeElementId}closePanelIfElementIdChanges(){this.linkEditorPanelState?.elementId!==this.uiStoreActiveElementId&&c.singularityStore.setLinkEditorPanelState(null)}get linkPropertyPaths(){return c.singularityStore.linkEditorPanelState?.linkPropertyPaths}linkInputValue(e){if(!this.linkEditorPanelState)return null;const t=(0,ge.findNode)(c.documentStore.document.tree,this.linkEditorPanelState.elementId);if(!t)return null;const n=K()(t.data.properties,e);return n||null}updateLinkInputValue(e,t){this.linkEditorPanelState?.elementId&&c.documentStore.unthrottledPropertyChanged({elementId:this.linkEditorPanelState.elementId,path:t,value:e,meta:{snapshotLabel:"Link Editor Input Update"}})}close(){alert("close")}backToPageStructurePanel(){c.singularityStore.setLinkEditorPanelState(null)}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],WL.prototype,"closePanelIfElementIdChanges",null),WL=(0,r.gn)([(0,l.wA)({components:{LinkInput:$L.Z,SingularityPanelHeader:IB}})],WL);const UL=WL,zL=UL;var HL=(0,N.Z)(zL,FL,VL,!1,null,null,null);const GL=HL.exports;var qL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll singularity-edit-content-properties-panel"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{parentTitle:e.panelTitle}}),t("div",{staticClass:"singularity-panel__content"},[t("div",{staticClass:"singularity-controls-tree"},[e.contentSections?t("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}}):e._e()],1)])],1)])},KL=[];let jL=class extends s.ZP{constructor(){super(...arguments),this.editingElementControlsTreeContext=iC.rq}get contentSections(){return c.uiStore.activeElement?c.configStore.element(c.uiStore.activeElement.data.type).controls.contentSections:null}get contentPropertiesEditorPanelState(){return c.singularityStore.contentPropertiesEditorPanelState}get panelTitle(){return c.uiStore.activeElement?c.configStore.element(c.uiStore.activeElement.data.type).name:null}};(0,r.gn)([(0,l.DF)("context")],jL.prototype,"editingElementControlsTreeContext",void 0),jL=(0,r.gn)([(0,l.wA)({components:{ControlsTree:K_["default"],SingularityPanelHeader:IB}})],jL);const XL=jL,YL=XL;var QL=(0,N.Z)(YL,qL,KL,!1,null,null,null);const JL=QL.exports;var eN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"header-footer-editor vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Header & Footer Editor",backState:"page_structure"}}),t("div",{staticClass:"header-footer-editor-content-wrapper"},[t("div",{staticClass:"header-footer-editor-section-card"},[t("label",[e._v("Layout")]),e.sectionCardData?t("SectionCard",{attrs:{value:e.sectionCardData,showLabel:!0},nativeOn:{click:function(t){return e.replaceWithAnother.apply(null,arguments)}}}):e._e(),t("NiceButton",{attrs:{"left-icon":"Grid2Icon",color:"gray",expanded:"true"},on:{click:e.replaceWithAnother}},[e._v("Update Layout ")])],1),t("div",{staticClass:"header-footer-editor-actions"},[t("NiceButton",{on:{click:e.editMenu}},[e._v(" Edit Menu ")]),t("NiceButton",{attrs:{"left-icon":"ImageIcon"},on:{click:e.editLogo}},[e._v(" Edit Logo ")])],1)])],1)},tN=[],nN=n(93979);let sN=class extends s.ZP{get elementId(){return c.singularityStore.headerAndFooterEditorPanelState?.elementId}get sectionIdToOperateOn(){return(0,nN.Q)()}get sectionCardData(){return this.sectionIdToOperateOn?$a(this.sectionIdToOperateOn):null}get elementType(){return c.singularityStore.headerAndFooterEditorPanelState?.elementType}get uiStoreActiveElementId(){return c.uiStore.activeElementId}get uiStoreInlineEditingContext(){return c.uiStore.inlineEditingContext}editMenu(){c.singularityStore.setSingularityLeftPanel("page_manager")}editLogo(){c.singularityStore.setSingularityLeftPanel("brand")}replaceWithAnother(){this.sectionIdToOperateOn&&(c.singularityStore.setSectionAddOrSwapPanelState({mode:"swap",sectionId:this.sectionIdToOperateOn}),c.singularityStore.setSectionLibraryModalState(!0))}mounted(){this.$watch("uiStoreActiveElementId",(()=>{const e=this.elementId===this.uiStoreActiveElementId,t=this.sectionIdToOperateOn===this.uiStoreActiveElementId;e||t||c.singularityStore.setHeaderAndFooterEditorPanelState(null)})),this.$watch("uiStoreInlineEditingContext",(e=>{e&&e.elementId===this.elementId||c.singularityStore.setHeaderAndFooterEditorPanelState(null)}))}};sN=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:IB,NiceButton:Cd.Z,SectionCard:tr}})],sN);const iN=sN,oN=iN;var aN=(0,N.Z)(oN,eN,tN,!1,null,null,null);const rN=aN.exports;var lN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-wp-page-manager"},[t("div",{staticClass:"singularity-wp-page-manager__wrapper"},[t("div",{staticClass:"singularity-wp-page-manager__header"},[t("div",{staticClass:"singularity-wp-page-manager__header-left"},[t("h1",{staticClass:"singularity-wp-page-manager__header-title"},[t("span",{on:{click:e.closeAdd}},[e._v("Pages")]),e.addIsOpen?t("span",{staticClass:"singularity-wp-page-manager__header-title-child"},[e._v(" / Add Page")]):e._e()])]),t("div",{staticClass:"singularity-wp-page-manager__header-right"},[e.addIsOpen?e._e():t("NiceButton",{attrs:{"left-icon":"PlusIcon",color:"yellow",size:"small"},on:{click:e.openAdd}},[e._v(" Add Page")])],1)]),e.addIsOpen?e._e():t("div",{staticClass:"singularity-wp-page-manager__content"},[t("div",{staticClass:"singularity-wp-page-manager__section"},[t("div",{staticClass:"singularity-wp-page-manager__section-header"},[t("h3",{staticClass:"singularity-wp-page-manager__section-title"},[e._v(" Pages In Main Menu ")]),t("span",{staticClass:"singularity-wp-page-manager__section-count"},[e._v(e._s(e.pagesInMenu.length))])]),t("div",{staticClass:"singularity-wp-page-manager__list",class:{"is-saving":e.saveInProgress,"is-opening":e.isOpeningPage,"is-empty":0===e.pagesInMenu.length}},[t("draggable",{staticClass:"singularity-wp-page-manager__menu-dropzone",class:{"is-empty":0===e.pagesInMenu.length},attrs:{handle:".page-drag-handle",group:"pages"},model:{value:e.pagesInMenu,callback:function(t){e.pagesInMenu=t},expression:"pagesInMenu"}},[e._l(e.pagesInMenu,(function(n){return t("WPPageManagerPageNew",{key:n.id,attrs:{value:n},on:{"page-deleted":e.handlePageDeleted}})})),0===e.pagesInMenu.length?t("div",{staticClass:"singularity-wp-page-manager__empty-menu"},[e._v(" Drag pages here to add them to the main menu ")]):e._e()],2)],1)]),t("div",{staticClass:"singularity-wp-page-manager__section"},[t("div",{staticClass:"singularity-wp-page-manager__section-header"},[t("h3",{staticClass:"singularity-wp-page-manager__section-title"},[e._v(" Other Pages "),t("SingularityTooltip",{attrs:{text:"These pages are not included in the main menu. You can drag and drop them into the main menu above."}})],1),t("span",{staticClass:"singularity-wp-page-manager__section-count"},[e._v(e._s(e.otherPages.length))])]),t("div",{staticClass:"singularity-wp-page-manager__list",class:{"is-saving":e.saveInProgress,"is-opening":e.isOpeningPage,"is-empty":0===e.otherPages.length}},[t("draggable",{staticClass:"singularity-wp-page-manager__menu-dropzone",class:{"is-empty":0===e.otherPages.length},attrs:{group:"pages"},model:{value:e.otherPages,callback:function(t){e.otherPages=t},expression:"otherPages"}},[e._l(e.otherPages,(function(n){return t("WPPageManagerPageNew",{key:n.id,attrs:{value:n},on:{"page-deleted":e.handlePageDeleted}})})),0===e.otherPages.length?t("div",{staticClass:"singularity-wp-page-manager__empty-menu"},[e._v(" Drag pages here to remove them from the main menu. ")]):e._e()],2)],1)])]),e.addIsOpen?t("WPPageManagerAddPageWizard",{on:{close:e.closeAdd}}):e._e()],1)])},cN=[],dN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"wp-page-manager-page-new",class:e.classList,on:{click:function(t){!e.editing&&e.openInCanvas()}}},[t("div",{staticClass:"wp-page-manager-page-new__content"},[t("div",{staticClass:"wp-page-manager-page-new__title"},[t("Icon",{staticClass:"page-drag-handle wp-page-manager-page-new__drag-handle",attrs:{size:16,icon:"GripVerticalSolidIcon"}}),e.isOpeningPageThisPage?t("Icon",{staticClass:"wp-page-manager-page-new__loading-icon",attrs:{size:14,icon:"CircleNotchSolidIcon"}}):t("Icon",{attrs:{size:14,icon:e.isHomepage?"HomeSolidIcon":"PageRegularIcon"}}),e.value.generatingInBackground?[e._v("BACKGROUND GENERATING, NOT AVAILABLE TO EDIT YET")]:e._e(),t("div",{staticClass:"wp-page-manager-page-new__edit-title"},[e.editing?[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newTitle,expression:"newTitle"}],ref:"editTitleInput",staticClass:"wp-page-manager-page-new__edit-title-input",attrs:{placeholder:e.value.title},domProps:{value:e.newTitle},on:{blur:function(t){return e.updatePage(e.newTitle)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePage(e.newTitle)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.editing=!1}],input:function(t){t.target.composing||(e.newTitle=t.target.value)}}})]:[t("span",[e._v(e._s(e.value.title))]),t(RI.Z,{attrs:{top:"","max-width":"180","content-class":"singularity-tooltip",transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("Icon",e._g({staticClass:"wp-page-manager-page-new__edit-icon",attrs:{icon:"PenSolidIcon",size:"14"},on:{click:function(t){return t.stopPropagation(),e.setEditMode()}}},n))]}}])},[t("span",{staticClass:"singularity-tooltip__text"},[e._v(" Click to edit title ")])])]],2),e.active?t("span",{staticClass:"wp-page-manager-page-new__active-indicator"}):e._e()],2),t("div",{staticClass:"wp-page-manager-page-new__actions"},[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("Icon",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,icon:"EllipsisSolidIcon"}},n))]}}])},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:e.setAsHomepage}},[t(Xl.V9,[e._v(" Set as Homepage ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.deletePage}},[t(Xl.V9,[e._v(" Delete ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.setEditMode}},[t(Xl.V9,[e._v(" Edit title ")])],1)],1)],1)],1)])])},uN=[],pN=n(52338);async function hN(e){return(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_singularity_set_as_homepage",decoder:kd.dt({success:kd.Z_}),dataToPost:{id:e}}),(0,kc.fold)((()=>!1),(t=>(c.singularityStore.setHomepageInWP(e),!0))))}let gN=class extends s.ZP{constructor(){super(...arguments),this.additionalOpen=!1,this.deleteInProgress=!1,this.editing=!1,this.newTitle="",this.updateInProgress=!1,this.setAsHomepageInProgress=!1}get isHomepage(){return c.singularityStore.homepageInWP===this.value.id}get isOpeningPageThisPage(){return c.singularityStore.isOpeningPageId===this.value.id}openAdditional(){this.additionalOpen=!this.additionalOpen}async openInCanvas(){c.singularityStore.setIsOpeningPageId(this.value.id),await(0,ul.$)(),await(0,pl.rI)(this.value.id),c.singularityStore.setSingularityLeftPanel("page_structure"),c.singularityStore.setIsOpeningPageId(!1)}async deletePage(){const e=confirm(`Are you sure you want to delete the page "${this.value.title}"?`);e&&(this.deleteInProgress=!0,await(0,pN.qC)(this.value.id),this.deleteInProgress=!1,this.$emit("page-deleted",this.value.id))}setEditMode(){this.editing=!0,this.$nextTick((()=>{this.$refs.editTitleInput.focus()}))}async updatePage(e){e.trim()?(this.updateInProgress=!0,await(0,pN.U_)(this.value.id,e),this.updateInProgress=!1,this.editing=!1):this.editing=!1}async setAsHomepage(){this.setAsHomepageInProgress=!0,await hN(this.value.id),this.setAsHomepageInProgress=!1}get active(){return this.value.id===c.documentStore.document.documentMeta.id}get classList(){return{"is-active":this.active,"is-opening":this.isOpeningPageThisPage}}};(0,r.gn)([(0,l.fI)()],gN.prototype,"value",void 0),gN=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,Icon:He.Z,Dropdown:Jl.Z}})],gN);const mN=gN,vN=mN;var fN=(0,N.Z)(vN,dN,uN,!1,null,null,null);const yN=fN.exports;var bN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"wp-page-manager-add-page-wizard"},["choose-type"===e.currentStep?t("div",{staticClass:"wizard-step"},[e._m(0),t("div",{staticClass:"page-type-options"},[t("SingularityOption",{attrs:{icon:"FileLinesIcon",title:"Blank Page",description:"Start with an empty page and build from scratch."},on:{click:function(t){return e.selectPageType("blank")}}}),t("SingularityOption",{attrs:{icon:"SparklesIcon",title:"Generate With AI",description:"Let AI create initial content based on your description."},on:{click:function(t){return e.selectPageType("ai")}}})],1)]):e._e(),"page-details"===e.currentStep?t("div",{staticClass:"wizard-step"},[t("div",{staticClass:"wizard-header"},[t("h3",{staticClass:"wizard-header__title",on:{click:e.goBack}},[t("Icon",{attrs:{icon:"ChevronDownSolidIcon",rotate:"90",size:"14"}}),e._v(" "+e._s("blank"===e.selectedType?"Create Blank Page":"Generate Page With AI")+" ")],1)]),t("div",{staticClass:"form-content"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"page-title"}},[e._v("Page Title")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pageTitle,expression:"pageTitle"}],ref:"pageTitleInput",staticClass:"form-input",attrs:{id:"page-title",type:"text",placeholder:"Enter page title"},domProps:{value:e.pageTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createPage.apply(null,arguments)},input:function(t){t.target.composing||(e.pageTitle=t.target.value)}}})]),"ai"===e.selectedType?t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"page-description"}},[e._v("Page Description")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.pageDescription,expression:"pageDescription"}],staticClass:"form-textarea",attrs:{id:"page-description",placeholder:"Describe what this page should contain (e.g., 'About page for a tech company with team bios and company history')",rows:"4"},domProps:{value:e.pageDescription},on:{input:function(t){t.target.composing||(e.pageDescription=t.target.value)}}})]):e._e()]),t("div",{staticClass:"form-actions"},[t("NiceButton",{attrs:{color:"gray",size:"large"},on:{click:e.goBack}},[e._v(" Back ")]),t("NiceButton",{attrs:{"left-icon":"blank"===e.selectedType?"PlusIcon":"SparklesSolidIcon",color:"yellow",expanded:"true",size:"large",disabled:!e.pageTitle.trim()},on:{click:e.createPage}},[e._v(" "+e._s("blank"===e.selectedType?"Create Page":"Generate Page")+" ")])],1)]):e._e(),"creating"===e.currentStep?t("div",{staticClass:"wizard-step"},[t("div",{staticClass:"success-content"},[t("h3",[t("Icon",{staticClass:"animate-spin",attrs:{icon:"CircleNotchSolidIcon",size:"24"}}),e._v(" "+e._s("blank"===e.selectedType?"Creating your page...":"Generating your page with AI...")+" ")],1),"ai"===e.selectedType?t("p",[e._v(" This may take a moment as AI creates your content. ")]):e._e()])]):e._e(),"success"===e.currentStep?t("div",{staticClass:"wizard-step"},[t("div",{staticClass:"success-content"},[t("h3",[t("Icon",{attrs:{icon:"CheckSolidIcon",size:"24"}}),e._v(" Your page was created!")],1),t("p",[t("b",[e._v(e._s(e.pageTitle))]),e._v(" has been successfully "+e._s("blank"===e.selectedType?"created":"generated")+" ")]),t("div",{staticClass:"success-actions"},[t("NiceButton",{attrs:{color:"yellow",size:"large",loading:e.openingInProgress,expanded:"true"},on:{click:e.editPage}},[e.openingInProgress?t("div",{staticClass:"css-spinner-small"}):e._e(),e._v(" "+e._s(e.openingInProgress?"Opening...":"Edit Page")+" ")]),t("NiceButton",{attrs:{variant:"gray",size:"large",loading:e.openingInProgress},on:{click:e.backToPages}},[e._v(" Back to Pages ")])],1)])]):e._e()])},SN=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"wizard-header"},[t("h3",[e._v("How would you like to create your page?")])])}],_N=n(41791),xN=n(20952);let CN=class extends s.ZP{constructor(){super(...arguments),this.currentStep="choose-type",this.selectedType=null,this.pageTitle="",this.pageDescription="",this.createdPageId=null,this.openingInProgress=!1}selectPageType(e){this.selectedType=e,this.currentStep="page-details",this.$nextTick((()=>{this.$refs.pageTitleInput?.focus()}))}goBack(){"page-details"===this.currentStep&&(this.currentStep="choose-type",this.selectedType=null)}async createPage(){if(this.pageTitle.trim()){this.currentStep="creating";try{let e;if("ai"===this.selectedType){const t=await(0,pN.Le)(this.pageTitle,{},"page");if(!t)return;e=await(0,_N.x)(this.pageTitle,t.id,this.pageDescription||void 0)}else{const t=(0,ge.getBlankTree)(),n=(0,$s.LC)(t);e=await(0,pN.DC)({title:this.pageTitle,postType:"page",tree:n,singularityMeta:{}})}if(!e)return;this.createdPageId=e.id,this.currentStep="success",(0,xN.h)()}catch(e){console.error("Failed to create page:",e)}}}async editPage(){this.createdPageId&&(this.openingInProgress=!0,await(0,ul.$)(),await(0,pl.rI)(this.createdPageId),c.singularityStore.setSingularityLeftPanel("page_structure"),this.openingInProgress=!1)}backToPages(){this.$emit("close")}};CN=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z,IconButton:Ia.Z,NiceButton:Cd.Z,SingularityOption:VB}})],CN);const wN=CN,PN=wN;var IN=(0,N.Z)(PN,bN,SN,!1,null,null,null);const kN=IN.exports;let EN=class extends s.ZP{constructor(){super(...arguments),this.pagesInMenu=[],this.otherPages=[],this.addIsOpen=!1,this.menuSaving=!1,this.menuSaved=!1,this.initialLoadComplete=!1,this.saveInProgress=!1}mounted(){this.updateLocalPageLists(),this.$nextTick((()=>{this.initialLoadComplete=!0}))}get isOpeningPage(){return c.singularityStore.isOpeningPageId}get pages(){return c.singularityStore.pagesInWP.filter((e=>"page"===e.postType))}updateLocalPageLists(){const e=this.pages;this.pagesInMenu=e.filter((e=>e.isInMainMenu)).sort(((e,t)=>{const n=e.menuOrder||0,s=t.menuOrder||0;return n-s})),this.otherPages=e.filter((e=>!e.isInMainMenu))}async onMenuPagesChanged(){if(this.initialLoadComplete){this.saveInProgress=!0;const e=this.pagesInMenu.map((e=>e.id));await(0,pN.TE)(e),this.saveInProgress=!1}}handlePageDeleted(e){this.pagesInMenu=this.pagesInMenu.filter((t=>t.id!==e)),this.otherPages=this.otherPages.filter((t=>t.id!==e))}openAdd(){this.addIsOpen=!0}closeAdd(){this.addIsOpen=!1,this.updateLocalPageLists()}};(0,r.gn)([(0,l.RL)("pagesInMenu",{deep:!0})],EN.prototype,"onMenuPagesChanged",null),EN=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,WPPageManagerPageNew:yN,WPPageManagerAddPageWizard:kN,Dropdown:Jl.Z,IconButton:Ia.Z,SingularityPanelHeader:IB,NiceButton:Cd.Z,Icon:He.Z,draggable:Em(),SingularityTooltip:$O}})],EN);const TN=EN,DN=TN;var AN=(0,N.Z)(DN,lN,cN,!1,null,null,null);const ZN=AN.exports;var MN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Brand"}}),t("div",{staticClass:"singularity-panel__content"},[t("BrandManageLogo"),t("BrandManageColors"),t("BrandManageTypography"),t("BrandManageButtons")],1)],1)])},ON=[],BN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Colors",open:!0},scopedSlots:e._u([{key:"actions",fn:function(){return[t("IconButtonShuffle",{on:{update:e.shuffle}})]},proxy:!0}])},[t("BrandPaletteGenerator",{attrs:{palette:e.brand.color.neutral,neutral:!0}}),e.brand.color.primary?t("BrandPaletteGenerator",{attrs:{palette:e.brand.color.primary},on:{update:e.updatePrimaryPalette}}):e._e(),e._l(e.brand.color.secondary,(function(n,s){return t("BrandPaletteGenerator",{key:n.label,attrs:{palette:n,index:s},on:{update:function(t){return e.updateSecondaryPalette(s,t)},remove:function(t){return e.removeSecondaryPalette(s)}}})})),e.brand.color.secondary.length<2?t("div",{staticClass:"brand-panel__add-palette",attrs:{role:"button"},on:{click:e.addPalette}},[t("Icon",{staticClass:"brand-panel__add-icon",attrs:{icon:"PlusIcon",size:"18"}})],1):e._e()],2)},LN=[],NN=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.palette?t("div",{staticClass:"palette-generator"},[e.palette?t("div",{staticClass:"palette-generator__button",class:{"palette-generator__button--light":e.isLightColor,"palette-generator__button--neutral":e.neutral,"palette-generator__button--primary":e.palette.primary,"palette-generator__button--secondary":!e.neutral&&!e.palette.primary,"palette-generator__button--locked":e.palette.locked}},[e.neutral?e._e():t("div",{staticClass:"palette-generator__actions"},[e.palette.primary||e.palette.locked?e._e():t("div",{staticClass:"palette-generator__action",style:e.primaryTagStyle,attrs:{role:"button"},on:{click:e.removePalette}},[t("Icon",{attrs:{icon:"TrashSolidIcon",size:"10"}})],1),e.palette.locked?e._e():t("div",{staticClass:"palette-generator__action",style:e.primaryTagStyle,attrs:{role:"button"},on:{click:e.shufflePalette}},[t("Icon",{attrs:{icon:"ArrowsRotateSolidIcon",size:"10"}})],1),t("div",{staticClass:"palette-generator__action",style:e.primaryTagStyle,attrs:{role:"button"},on:{click:e.lockPalette}},[e.palette.locked?t("Icon",{attrs:{icon:"LockSolidIcon",size:"10"}}):t("Icon",{staticClass:"palette-generator__icon-locked",attrs:{icon:"LockOpenSolidIcon",size:"10"}})],1)]),t("div",{staticClass:"palette-generator__base",class:{"palette-generator__base--light":e.isLightColor,"palette-generator__base--neutral":e.neutral},style:{backgroundColor:e.palette.base.value?.toString()},attrs:{role:"button"},on:{click:e.openEditColorPanel}},[t("div",{staticClass:"palette-generator__top"},[t("div",[e.palette.primary&&!e.palette.locked?t("div",{staticClass:"palette-generator__badge",style:e.primaryTagStyle},[e._v(" Primary ")]):e._e()])]),t("div",{staticClass:"palette-generator__label-group",style:e.textStyle},[t("span",{staticClass:"palette-generator__label"},[e._v(e._s(e.palette.label))]),t("span",{staticClass:"palette-generator__hex"},[e._v(" "+e._s(e.palette.base.value?.toString().substring(1).toUpperCase())+" ")])])]),t("div",{staticClass:"palette-generator__swatches"},e._l(e.palette.scale,(function(e,n){return t("div",{key:"color-"+n,staticClass:"palette-generator__swatch",style:{backgroundColor:e.value?.toString()}})})),0)]):e._e()]):e._e()},RN=[],FN=n(45904),VN=n(21357),$N=n(88615),WN=n(86042);const UN=kd.dt({100:WN.Vr,200:WN.Vr,300:WN.Vr,400:WN.Vr,500:WN.Vr,600:WN.Vr,700:WN.Vr,800:WN.Vr,900:WN.Vr}),zN=kd.dt({label:kd.Z_,primary:kd.O7,locked:kd.O7,base:WN.Vr,scale:UN,text:WN.Vr}),HN=kd.dt({neutral:kd.G0([zN,kd.lB]),primary:kd.G0([zN,kd.lB]),secondary:kd.IX(zN)}),GN={none:{value:0,unit:"px",style:"0px"},sm:{value:8,unit:"px",style:"8px"},md:{value:16,unit:"px",style:"16px"},lg:{value:24,unit:"px",style:"24px"},full:{value:9999,unit:"px",style:"9999px"}},qN=(kd.mM(GN),kd.dt({buttonRadius:kd.mM(GN),inputRadius:kd.mM(GN)})),KN=kd.dt({logo:kd.G0([Cf.V0,kd.lB])}),jN=kd.dt({color:HN,ui:qN,logo:KN});async function XN(){const e=await(0,Ec.D)({action:"breakdance_singularity_get_brand_settings",decoder:jN,suppressErrorLogging:!0});return(0,Ic.pipe)(e,(0,kc.fold)((()=>!1),(e=>(Pe.n.ignore((()=>{c.singularityStore.setBrand(e)})),!0))))}async function YN(){const e=c.singularityStore.brand,t=await(0,Ec.D)({action:"breakdance_singularity_save_brand_settings",dataToPost:{settings:(0,yh.J)(e)},decoder:jN});return(0,Ic.pipe)(t,(0,kc.fold)((()=>!1),(e=>(Pe.n.ignore((()=>{c.singularityStore.setBrand(e)})),!0))))}function QN(e,t){const n=K()(c.globalStore.globalSettings,e),s=(0,Gc.Z)(n),i={path:e,value:{...s,...t}};Pe.n.ignore((()=>{c.globalStore.updateGlobalSettingsPerPath({path:e,value:i.value})})),c.uiStore.setUnsavedChangesPresent(!0)}function JN(){const e=c.singularityStore.brand.color,t=c.singularityStore.brand.ui.buttonRadius,n={value:{primary:{corners:"custom",corner_radius:GN[t],background:`var(--${e.primary?.base.cssVariableName})`,background_hover:`var(--${e.primary?.scale[600].cssVariableName})`,typography:{color:`var(--${e.primary?.text.cssVariableName})`}},secondary:{corners:"custom",corner_radius:GN[t],outline:"true",color:`var(--${e.neutral?.scale[300].cssVariableName})`,typography:{color:`var(--${e.neutral?.scale[900].cssVariableName})`}}}};QN("settings.buttons",{...n.value})}function eR(){const e=c.singularityStore.brand.ui.inputRadius,t={value:{fields:{borders:{radius:{all:GN[e]}}}}};QN("settings.forms",{...t.value})}function tR(e){e||(e=c.singularityStore.brand.color);const t=uR(e),n={value:{palette:{colors:t},brand:`var(--${e.primary?.base.cssVariableName})`,text:`var(--${e.neutral?.base.cssVariableName})`,headings:`var(--${e.neutral?.base.cssVariableName})`,links:`var(--${e.neutral?.base.cssVariableName})`,background:`var(--${e.primary?.scale[100].cssVariableName})`}};QN("settings.colors",{...n.value}),JN()}function nR(){if(c.singularityStore.brand.color?.primary?.locked)return;const e=lR(gR(),!0);c.singularityStore.setPalette({type:"primary",palette:e}),rR(e)}function sR(){c.singularityStore.brand.color.secondary.forEach(((e,t)=>{if(!e.locked){const e=lR(gR());c.singularityStore.updateSecondaryPalette({index:t,palette:e})}}))}function iR(){const e=lR(gR());c.singularityStore.addSecondaryPalette(e)}function oR(){return lR(gR())}function aR(){nR(),sR()}function rR(e){const t=e?.scale[900].value||c.singularityStore.brand.color?.primary?.scale[900].value;if(!t)return;const n=dR(String(t));c.singularityStore.setPalette({type:"neutral",palette:n})}const lR=(e,t=!1,n=!1)=>{const s={},i=(0,VN.ZP)(e).hex(),o=hR(i);s[500]=cR(i,o,"500"),s[100]=cR(VN.ZP.mix(e,"#ffffff",.9).saturate(-1).hex(),o,"100"),s[200]=cR(VN.ZP.mix(e,"#ffffff",.75).saturate(-.8).hex(),o,"200"),s[300]=cR(VN.ZP.mix(e,"#ffffff",.6).saturate(-.5).hex(),o,"300"),s[400]=cR((0,VN.ZP)(e).brighten(.6).hex(),o,"400"),s[600]=cR((0,VN.ZP)(e).darken(.6).hex(),o,"600"),s[700]=cR((0,VN.ZP)(e).darken(1.2).hex(),o,"700"),s[800]=cR((0,VN.ZP)(e).darken(1.8).saturate(-.3).hex(),o,"800"),s[900]=cR((0,VN.ZP)(e).darken(4).saturate(-.2).hex(),o,"900");const a=pR(e)?s[900]:s[100];return{label:o,primary:t,locked:n,base:s[500],scale:s,text:a}};function cR(e,t,n){return{cssVariableName:(0,$N.dw)(`onboarding-${t}-${n}`),label:`${t} ${n}`,value:e}}const dR=e=>{const t={};t[900]=cR((0,VN.ZP)(e).darken(.9).hex(),"Neutral","900"),t[800]=cR(VN.ZP.mix(e,"#ffffff",.1).hex(),"Neutral","800"),t[700]=cR(VN.ZP.mix(e,"#ffffff",.2).hex(),"Neutral","700"),t[600]=cR(VN.ZP.mix(e,"#ffffff",.3).hex(),"Neutral","600"),t[500]=cR(VN.ZP.mix(e,"#ffffff",.4).hex(),"Neutral","500"),t[400]=cR(VN.ZP.mix(e,"#ffffff",.5).hex(),"Neutral","400"),t[300]=cR(VN.ZP.mix(e,"#ffffff",.6).hex(),"Neutral","300"),t[200]=cR(VN.ZP.mix(e,"#ffffff",.75).hex(),"Neutral","200"),t[100]=cR(VN.ZP.mix(e,"#ffffff",.9).hex(),"Neutral","100");const n=pR(e)?t[900]:t[100];return{label:"Neutral",primary:!1,locked:!1,base:t[900],scale:t,text:n}},uR=e=>{const t=[];return e.primary&&t.push(...Object.values(e.primary.scale)),e.neutral&&t.push(...Object.values(e.neutral.scale)),e.secondary&&Array.isArray(e.secondary)&&e.secondary.forEach((e=>{t.push(...Object.values(e.scale))})),t},pR=e=>!!e&&(0,VN.ZP)(e).luminance()>.5,hR=e=>{const t=(0,VN.ZP)(e).lab();let n="",s=1/0;for(const{name:i,hex:o}of vR){const e=VN.ZP.deltaE(VN.ZP.lab(...t),VN.ZP.lab(...(0,VN.ZP)(o).lab()));e<s&&(s=e,n=i)}return n},gR=()=>{const e=Math.floor(Math.random()*vR.length);return vR[e].hex};function mR(e,t){return{backgroundColor:e,color:pR(e)?String(t.scale[900].value):String(t.scale[100].value)}}const vR=[{name:"White",hex:"#ffffff"},{name:"Snow",hex:"#fffafa"},{name:"Honeydew",hex:"#f0fff0"},{name:"Mint Cream",hex:"#f5fffa"},{name:"Azure",hex:"#f0ffff"},{name:"Alice Blue",hex:"#f0f8ff"},{name:"Ghost White",hex:"#f8f8ff"},{name:"White Smoke",hex:"#f5f5f5"},{name:"Seashell",hex:"#fff5ee"},{name:"Beige",hex:"#f5f5dc"},{name:"Old Lace",hex:"#fdf5e6"},{name:"Floral White",hex:"#fffaf0"},{name:"Ivory",hex:"#fffff0"},{name:"Antique White",hex:"#faebd7"},{name:"Linen",hex:"#faf0e6"},{name:"Lavender Blush",hex:"#fff0f5"},{name:"Misty Rose",hex:"#ffe4e1"},{name:"Gainsboro",hex:"#dcdcdc"},{name:"Light Gray",hex:"#d3d3d3"},{name:"Silver",hex:"#c0c0c0"},{name:"Dark Gray",hex:"#a9a9a9"},{name:"Gray",hex:"#808080"},{name:"Dim Gray",hex:"#696969"},{name:"Light Slate Gray",hex:"#778899"},{name:"Slate Gray",hex:"#708090"},{name:"Dark Slate Gray",hex:"#2f4f4f"},{name:"Black",hex:"#000000"},{name:"Lavender",hex:"#e6e6fa"},{name:"Thistle",hex:"#d8bfd8"},{name:"Plum",hex:"#dda0dd"},{name:"Violet",hex:"#ee82ee"},{name:"Orchid",hex:"#da70d6"},{name:"Fuchsia",hex:"#ff00ff"},{name:"Magenta",hex:"#ff00ff"},{name:"Medium Orchid",hex:"#ba55d3"},{name:"Medium Purple",hex:"#9370db"},{name:"Blue Violet",hex:"#8a2be2"},{name:"Dark Violet",hex:"#9400d3"},{name:"Dark Orchid",hex:"#9932cc"},{name:"Dark Magenta",hex:"#8b008b"},{name:"Purple",hex:"#800080"},{name:"Indigo",hex:"#4b0082"},{name:"Medium Slate Blue",hex:"#7b68ee"},{name:"Slate Blue",hex:"#6a5acd"},{name:"Dark Slate Blue",hex:"#483d8b"},{name:"Rebecca Purple",hex:"#663399"},{name:"Medium Blue",hex:"#0000cd"},{name:"Blue",hex:"#0000ff"},{name:"Royal Blue",hex:"#4169e1"},{name:"Dodger Blue",hex:"#1e90ff"},{name:"Deep Sky Blue",hex:"#00bfff"},{name:"Sky Blue",hex:"#87ceeb"},{name:"Light Sky Blue",hex:"#87cefa"},{name:"Steel Blue",hex:"#4682b4"},{name:"Light Steel Blue",hex:"#b0c4de"},{name:"Light Blue",hex:"#add8e6"},{name:"Powder Blue",hex:"#b0e0e6"},{name:"Pale Turquoise",hex:"#afeeee"},{name:"Dark Turquoise",hex:"#00ced1"},{name:"Medium Turquoise",hex:"#48d1cc"},{name:"Turquoise",hex:"#40e0d0"},{name:"Aqua",hex:"#00ffff"},{name:"Cyan",hex:"#00ffff"},{name:"Light Cyan",hex:"#e0ffff"},{name:"Cadet Blue",hex:"#5f9ea0"},{name:"Medium Aquamarine",hex:"#66cdaa"},{name:"Aquamarine",hex:"#7fffd4"},{name:"Dark Green",hex:"#006400"},{name:"Dark Olive Green",hex:"#556b2f"},{name:"Dark Sea Green",hex:"#8fbc8f"},{name:"Sea Green",hex:"#2e8b57"},{name:"Medium Sea Green",hex:"#3cb371"},{name:"Light Sea Green",hex:"#20b2aa"},{name:"Pale Green",hex:"#98fb98"},{name:"Spring Green",hex:"#00ff7f"},{name:"Lawn Green",hex:"#7cfc00"},{name:"Chartreuse",hex:"#7fff00"},{name:"Medium Spring Green",hex:"#00fa9a"},{name:"Green Yellow",hex:"#adff2f"},{name:"Lime Green",hex:"#32cd32"},{name:"Yellow Green",hex:"#9acd32"},{name:"Forest Green",hex:"#228b22"},{name:"Olive Drab",hex:"#6b8e23"},{name:"Dark Khaki",hex:"#bdb76b"},{name:"Khaki",hex:"#f0e68c"},{name:"Pale Goldenrod",hex:"#eee8aa"},{name:"Light Goldenrod Yellow",hex:"#fafad2"},{name:"Light Yellow",hex:"#ffffe0"},{name:"Yellow",hex:"#ffff00"},{name:"Gold",hex:"#ffd700"},{name:"Light Goldenrod",hex:"#eedd82"},{name:"Goldenrod",hex:"#daa520"},{name:"Dark Goldenrod",hex:"#b8860b"},{name:"Rosy Brown",hex:"#bc8f8f"},{name:"Indian Red",hex:"#cd5c5c"},{name:"Saddle Brown",hex:"#8b4513"},{name:"Sienna",hex:"#a0522d"},{name:"Peru",hex:"#cd853f"},{name:"Burlywood",hex:"#deb887"},{name:"Beige",hex:"#f5f5dc"},{name:"Wheat",hex:"#f5deb3"},{name:"Sandy Brown",hex:"#f4a460"},{name:"Tan",hex:"#d2b48c"},{name:"Chocolate",hex:"#d2691e"},{name:"Firebrick",hex:"#b22222"},{name:"Brown",hex:"#a52a2a"},{name:"Dark Salmon",hex:"#e9967a"},{name:"Salmon",hex:"#fa8072"},{name:"Light Salmon",hex:"#ffa07a"},{name:"Orange",hex:"#ffa500"},{name:"Dark Orange",hex:"#ff8c00"},{name:"Coral",hex:"#ff7f50"},{name:"Tomato",hex:"#ff6347"},{name:"Orange Red",hex:"#ff4500"},{name:"Red",hex:"#ff0000"},{name:"Crimson",hex:"#dc143c"},{name:"Deep Pink",hex:"#ff1493"},{name:"Hot Pink",hex:"#ff69b4"},{name:"Light Pink",hex:"#ffb6c1"},{name:"Pink",hex:"#ffc0cb"},{name:"Pale Violet Red",hex:"#db7093"},{name:"Medium Violet Red",hex:"#c71585"},{name:"Orchid",hex:"#da70d6"},{name:"Medium Orchid",hex:"#ba55d3"},{name:"Dark Orchid",hex:"#9932cc"},{name:"Dark Violet",hex:"#9400d3"},{name:"Blue Violet",hex:"#8a2be2"},{name:"Medium Purple",hex:"#9370db"},{name:"Slate Blue",hex:"#6a5acd"},{name:"Dark Slate Blue",hex:"#483d8b"},{name:"Blush Pink",hex:"#ff6fff"},{name:"Sunset Orange",hex:"#ff4500"},{name:"Ocean Blue",hex:"#0077be"},{name:"Forest Green",hex:"#228b22"},{name:"Lemon Yellow",hex:"#fff44f"},{name:"Peach Puff",hex:"#ffdab9"},{name:"Coral Reef",hex:"#ff7f50"},{name:"Mint Green",hex:"#98ff98"},{name:"Skyline Blue",hex:"#87ceeb"},{name:"Amber Glow",hex:"#ffbf00"},{name:"Ruby Red",hex:"#9b111e"},{name:"Emerald Green",hex:"#50c878"},{name:"Sapphire Blue",hex:"#0f52ba"},{name:"Goldenrod Yellow",hex:"#daa520"},{name:"Cinnamon Brown",hex:"#d2691e"},{name:"Lilac Mist",hex:"#c8a2c8"},{name:"Teal Wave",hex:"#008080"},{name:"Periwinkle Blue",hex:"#ccccff"},{name:"Rosewood",hex:"#65000b"},{name:"Sunflower Yellow",hex:"#ffda03"},{name:"Bubblegum Pink",hex:"#ffc1cc"},{name:"Electric Purple",hex:"#bf00ff"},{name:"Cobalt Blue",hex:"#0047ab"},{name:"Chartreuse Green",hex:"#7fff00"},{name:"Tangerine",hex:"#f28500"},{name:"Mango Tango",hex:"#ff8243"},{name:"Turquoise Blue",hex:"#40e0d0"},{name:"Crimson Tide",hex:"#dc143c"},{name:"Platinum Gray",hex:"#e5e4e2"},{name:"Ivory White",hex:"#fffff0"},{name:"Denim Blue",hex:"#1560bd"},{name:"Blazing Red",hex:"#ff2400"},{name:"Pine Green",hex:"#01796f"},{name:"Carmine Pink",hex:"#eb4c42"},{name:"Lavender Dream",hex:"#e6e6fa"},{name:"Midnight Blue",hex:"#191970"},{name:"Frost White",hex:"#f8f8ff"},{name:"Copper Penny",hex:"#ad6f69"},{name:"Sand Dune",hex:"#967117"},{name:"Arctic Blue",hex:"#d0fefe"},{name:"Blazing Yellow",hex:"#ffcc00"},{name:"Rose Quartz",hex:"#aa98a9"},{name:"Moss Green",hex:"#8a9a5b"},{name:"Berry Purple",hex:"#8a2be2"},{name:"Citrus Orange",hex:"#f4a460"},{name:"Powder Pink",hex:"#ffb6c1"},{name:"Steel Gray",hex:"#71797e"},{name:"Neon Green",hex:"#39ff14"},{name:"Velvet Red",hex:"#7e354d"},{name:"Aqua Marine",hex:"#7fffd4"},{name:"Golden Glow",hex:"#f9a602"},{name:"Cherry Blossom",hex:"#ffb7c5"},{name:"Deep Sea Blue",hex:"#001f3f"},{name:"Cranberry Red",hex:"#db143c"},{name:"Olive Green",hex:"#808000"},{name:"Rust Orange",hex:"#b7410e"},{name:"Peacock Blue",hex:"#1c39bb"},{name:"Sunset Pink",hex:"#ffcccb"},{name:"Lime Punch",hex:"#dfff00"},{name:"Eggplant Purple",hex:"#614051"},{name:"Cobalt Teal",hex:"#007ba7"},{name:"Amber Sunset",hex:"#ff4500"},{name:"Frosted Mint",hex:"#dbfff8"},{name:"Cedar Brown",hex:"#4b3621"},{name:"Ocean Mist",hex:"#b0e0e6"},{name:"Golden Peach",hex:"#ffcba4"},{name:"Rosewood Red",hex:"#65000b"},{name:"Cactus Green",hex:"#587058"},{name:"Tropical Blue",hex:"#007fff"},{name:"Blush Rose",hex:"#ff6f91"},{name:"Lava Red",hex:"#cf1020"},{name:"Pale Peach",hex:"#ffe5b4"},{name:"Azure Sky",hex:"#007fff"},{name:"Cinnamon Spice",hex:"#d2691e"},{name:"Goldenrod",hex:"#daa520"},{name:"Fuchsia Glow",hex:"#ff77ff"},{name:"Deep Plum",hex:"#8b008b"},{name:"Seafoam Green",hex:"#9fe2bf"},{name:"Citrus Lime",hex:"#bfff00"},{name:"Berry Red",hex:"#b22222"},{name:"Tangerine Dream",hex:"#ffcc00"},{name:"Electric Blue",hex:"#7df9ff"},{name:"Coral Pink",hex:"#f88379"},{name:"Lemon Chiffon",hex:"#fffacd"},{name:"Pale Lavender",hex:"#dcd0ff"},{name:"Bright Cyan",hex:"#00ffff"},{name:"Burnt Sienna",hex:"#e97451"},{name:"Golden Champagne",hex:"#f7e7ce"},{name:"Rose Pink",hex:"#ff66cc"},{name:"Deep Magenta",hex:"#cc00cc"},{name:"Pale Aqua",hex:"#bcd4e6"},{name:"Sunset Gold",hex:"#ffcc33"},{name:"Bright Maroon",hex:"#c32148"},{name:"Soft Peach",hex:"#ffe5b4"}];let fR=class extends s.ZP{constructor(){super(...arguments),this.isOverlayOpen=!1}openEditColorPanel(){this.palette&&!this.palette.locked&&(c.singularityStore.setSingularityLeftPanel("brand_edit_color"),c.singularityStore.setCurrentPalette({palette:this.palette,index:this.index??null}))}get textStyle(){return this.palette?{color:pR(this.palette.base.value?.toString())?this.palette.scale[900].value?.toString():this.palette.scale[100].value?.toString()}:{}}get primaryTagStyle(){return this.palette?{backgroundColor:(pR(this.palette.base.value?.toString()),this.palette.scale[600].value?.toString()),color:pR(this.palette.base.value?.toString())?this.palette.scale[900].value?.toString():this.palette.scale[100].value?.toString()}:{}}updatePalette(e){console.log("Updating palette",e),this.$emit("update",{...e,primary:this.palette.primary,locked:this.palette.locked})}removePalette(){this.$emit("remove")}lockPalette(){this.$emit("update",{...this.palette,locked:!this.palette.locked})}shufflePalette(){const e=oR();this.updatePalette(e)}get isLightColor(){return!!this.palette?.base&&pR(this.palette.base.value?.toString())}};(0,r.gn)([(0,l.fI)()],fR.prototype,"palette",void 0),(0,r.gn)([(0,l.fI)({default:!1})],fR.prototype,"neutral",void 0),(0,r.gn)([(0,l.fI)()],fR.prototype,"index",void 0),fR=(0,r.gn)([(0,FN.ZP)({components:{Icon:He.Z}})],fR);const yR=fR,bR=yR;var SR=(0,N.Z)(bR,NN,RN,!1,null,null,null);const _R=SR.exports;var xR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("IconButton",{staticClass:"icon-button-shuffle",class:{"is-rotating":e.isRotating},attrs:{icon:"ArrowsRotateSolidIcon",small:"true"},on:{click:e.handleClick}})},CR=[];let wR=class extends s.ZP{constructor(){super(...arguments),this.isRotating=!1}handleClick(e){this.isRotating=!0,this.$emit("update",e),setTimeout((()=>{this.isRotating=!1}),600)}};wR=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z}})],wR);const PR=wR,IR=PR;var kR=(0,N.Z)(IR,xR,CR,!1,null,null,null);const ER=kR.exports;var TR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"toggle-panel",class:{"toggle-panel--loading":e.isLoading}},[t("div",{staticClass:"toggle-panel__header"},[t("span",{staticClass:"toggle-panel__title",on:{click:e.toggle}},[t("Icon",{staticClass:"toggle-panel__icon",attrs:{size:"14",icon:"ChevronDownSolidIcon",rotate:e.isOpen?"":"-90"}}),t("span",[e._v(e._s(e.title))])],1),t("div",{staticClass:"toggle-panel__actions"},[e._t("actions")],2)]),e.isOpen?t("div",{staticClass:"toggle-panel__content"},[e._t("default")],2):e._e()])},DR=[];let AR=class extends s.ZP{constructor(){super(...arguments),this.isOpen=this.open}onIsOpenChanged(e){this.isOpen=e}toggle(){this.isOpen=!this.isOpen,this.$emit("update:isOpen",this.isOpen)}};(0,r.gn)([(0,l.fI)({type:String,default:""})],AR.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({type:Boolean,default:!1})],AR.prototype,"isLoading",void 0),(0,r.gn)([(0,l.fI)({type:Boolean,default:!1})],AR.prototype,"open",void 0),(0,r.gn)([(0,l.RL)("isOpen")],AR.prototype,"onIsOpenChanged",null),AR=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],AR);const ZR=AR,MR=ZR;var OR=(0,N.Z)(MR,TR,DR,!1,null,null,null);const BR=OR.exports;let LR=class extends s.ZP{get brand(){return c.singularityStore.brand}updatePrimaryPalette(e){c.singularityStore.setPalette({type:"primary",palette:e})}updateSecondaryPalette(e,t){c.singularityStore.updateSecondaryPalette({index:e,palette:t})}removeSecondaryPalette(e){c.singularityStore.removeSecondaryPalette(e)}shuffle(){aR()}addPalette(){this.brand.color.primary?iR():nR()}onBrandColorsChange(e){e&&tR(this.brand.color)}};(0,r.gn)([(0,l.RL)("brand.color",{immediate:!1,deep:!0})],LR.prototype,"onBrandColorsChange",null),LR=(0,r.gn)([(0,l.wA)({components:{BrandPaletteGenerator:_R,IconButtonShuffle:ER,Icon:He.Z,TogglePanel:BR}})],LR);const NR=LR,RR=NR;var FR=(0,N.Z)(RR,BN,LN,!1,null,null,null);const VR=FR.exports;var $R=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Typography"},scopedSlots:e._u([{key:"actions",fn:function(){return[t("IconButtonShuffle",{on:{update:e.shuffle}})]},proxy:!0}])},[t("BrandTypographyPicker",{attrs:{value:e.headingFont,label:"Headings"},on:{update:function(t){return e.updateFont("heading_font",t)}}}),t("BrandTypographyPicker",{attrs:{value:e.bodyFont,label:"Body"},on:{update:function(t){return e.updateFont("body_font",t)}}}),t("BrandToggleFontSizes",{on:{update:e.updateFontRatio}})],1)},WR=[],UR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"typography-picker"},[t("BrandTypographyFont",{attrs:{value:e.value,label:e.label},on:{update:e.openTypographyEditPanel}})],1)},zR=[],HR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"typography-font",attrs:{role:"button"},on:{click:e.update}},[e.font?.previewImageUrl?t("img",{staticClass:"typography-font__preview-image",attrs:{alt:e.font?.label,src:e.font?.previewImageUrl}}):e._e(),t("div",{staticClass:"typography-font__info"},[t("span",{staticClass:"typography-font__label"},[e._v(e._s(e.description||e.font?.label||"No font"))]),e.label?t("span",{staticClass:"typography-font__description"},[e._v(" "+e._s(e.label)+" ")]):e._e()])])},GR=[];let qR=class extends s.ZP{update(){this.$emit("update",this.value)}get font(){return c.configStore.fonts.find((e=>e.slug===this.value?.slug))}};(0,r.gn)([(0,l.fI)()],qR.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],qR.prototype,"description",void 0),(0,r.gn)([(0,l.fI)()],qR.prototype,"value",void 0),qR=(0,r.gn)([l.wA],qR);const KR=qR,jR=KR;var XR=(0,N.Z)(jR,HR,GR,!1,null,null,null);const YR=XR.exports;let QR=class extends s.ZP{constructor(){super(...arguments),this.isOverlayOpen=!1}update(e){c.singularityStore.setSingularityLeftPanel("brand"),this.$emit("update",e)}openTypographyEditPanel(){c.singularityStore.setSingularityLeftPanel("brand_edit_typography"),c.singularityStore.setCurrentFont("Body"===this.label?"body_font":"heading_font")}};(0,r.gn)([(0,l.fI)()],QR.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:"Body"})],QR.prototype,"label",void 0),QR=(0,r.gn)([(0,l.wA)({components:{BrandTypographyFont:YR}})],QR);const JR=QR,eF=JR;var tF=(0,N.Z)(eF,UR,zR,!1,null,null,null);const nF=tF.exports,sF=[{body_font:"gfont-nunitosans",heading_font:"gfont-playfairdisplay"},{body_font:"gfont-montserrat",heading_font:"gfont-domine"},{body_font:"gfont-lato",heading_font:"gfont-ptserif"},{body_font:"gfont-nunitosans",heading_font:"gfont-librecaslontext"},{body_font:"gfont-opensans",heading_font:"gfont-gloock"},{body_font:"gfont-heebo",heading_font:"gfont-ebgaramond"},{body_font:"gfont-roboto",heading_font:"gfont-lora"},{body_font:"gfont-mulish",heading_font:"gfont-domine"},{body_font:"gfont-barlow",heading_font:"gfont-dmserifdisplay"},{body_font:"gfont-roboto",heading_font:"gfont-librecaslontext"},{body_font:"gfont-mulish",heading_font:"gfont-librecaslontext"},{body_font:"gfont-heebo",heading_font:"gfont-domine"},{body_font:"gfont-karla",heading_font:"gfont-gloock"},{body_font:"gfont-montserrat",heading_font:"gfont-playfairdisplay"},{body_font:"gfont-poppins",heading_font:"gfont-cinzel"},{body_font:"gfont-manrope",heading_font:"gfont-vollkorn"},{body_font:"gfont-worksans",heading_font:"gfont-crimsonpro"},{body_font:"gfont-manrope",heading_font:"gfont-nunitosans"},{body_font:"gfont-opensans",heading_font:"gfont-jost"},{body_font:"gfont-nunitosans",heading_font:"gfont-raleway"},{body_font:"gfont-raleway",heading_font:"gfont-montserrat"},{body_font:"gfont-inter",heading_font:"gfont-karla"},{body_font:"gfont-firasans",heading_font:"gfont-nunitosans"},{body_font:"gfont-jost",heading_font:"gfont-opensans"},{body_font:"gfont-firasans",heading_font:"gfont-ibmplexsans"},{body_font:"gfont-dmsans",heading_font:"gfont-raleway"},{body_font:"gfont-quicksand",heading_font:"gfont-mulish"},{body_font:"gfont-opensans",heading_font:"gfont-inter"},{body_font:"gfont-lato",heading_font:"gfont-ibmplexsans"},{body_font:"gfont-opensans",heading_font:"gfont-lato"},{body_font:"gfont-nunitosans",heading_font:"gfont-jost"},{body_font:"gfont-montserrat",heading_font:"gfont-karla"},{body_font:"gfont-raleway",heading_font:"gfont-poppins"},{body_font:"gfont-raleway",heading_font:"gfont-dmsans"},{body_font:"gfont-crimsonpro",heading_font:"gfont-montserrat"},{body_font:"gfont-lora",heading_font:"gfont-dmsans"},{body_font:"gfont-cardo",heading_font:"gfont-firasans"},{body_font:"gfont-domine",heading_font:"gfont-poppins"},{body_font:"gfont-rosarivo",heading_font:"gfont-jost"},{body_font:"gfont-vollkorn",heading_font:"gfont-firasans"},{body_font:"gfont-domine",heading_font:"gfont-manrope"},{body_font:"gfont-ebgaramond",heading_font:"gfont-lato"},{body_font:"gfont-ebgaramond",heading_font:"gfont-manrope"},{body_font:"gfont-alegreya",heading_font:"gfont-montserrat"},{body_font:"gfont-lora",heading_font:"gfont-mulish"},{body_font:"gfont-gloock",heading_font:"gfont-manrope"},{body_font:"gfont-crimsonpro",heading_font:"gfont-ubuntu"},{body_font:"gfont-alegreya",heading_font:"gfont-karla"},{body_font:"gfont-ptserif",heading_font:"gfont-montserrat"},{body_font:"gfont-ptserif",heading_font:"gfont-lato"},{body_font:"gfont-fredoka",heading_font:"gfont-lobster"},{body_font:"gfont-comfortaa",heading_font:"gfont-pacifico"},{body_font:"gfont-rubik",heading_font:"gfont-chewy"},{body_font:"gfont-kumbhsans",heading_font:"gfont-lemon"},{body_font:"gfont-quicksand",heading_font:"gfont-righteous"},{body_font:"gfont-signika",heading_font:"gfont-monoton"},{body_font:"gfont-mavenpro",heading_font:"gfont-alfaslabone"},{body_font:"gfont-urbanist",heading_font:"gfont-bungee"},{body_font:"gfont-balsamiqsans",heading_font:"gfont-permanentmarker"},{body_font:"gfont-sen",heading_font:"gfont-russoone"}];function iF(){return sF[Math.floor(Math.random()*sF.length)]}function oF(e,t){QN("settings.typography",{[e]:t})}function aF(e){QN("settings.typography",{ratio:{breakpoint_base:e}})}var rF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"toggle-button-group"},e._l(e.ratios,(function(n){return t("button",{key:n.value,class:{"is-active":e.isActive(n.value)},on:{click:function(t){return e.update(n.value)}}},[e._v(" "+e._s(n.label)+" ")])})),0)},lF=[];const cF=[{label:"Small",value:1.1},{label:"Normal",value:1.25},{label:"Large",value:1.4}];let dF=class extends s.ZP{constructor(){super(...arguments),this.ratios=cF}update(e){this.$emit("update",e)}get currentRatio(){return c.globalStore.globalSettings.settings.typography.ratio&&c.globalStore.globalSettings.settings.typography.ratio.breakpoint_base?c.globalStore.globalSettings.settings.typography.ratio.breakpoint_base:this.ratios[1].value}isActive(e){return this.currentRatio===e}};dF=(0,r.gn)([(0,l.wA)({components:{}})],dF);const uF=dF,pF=uF;var hF=(0,N.Z)(pF,rF,lF,!1,null,null,null);const gF=hF.exports;let mF=class extends s.ZP{get globalTypography(){return c.globalStore.globalSettings.settings.typography}get headingFont(){return c.configStore.fonts.filter((e=>e.slug===this.globalTypography.heading_font))[0]}get bodyFont(){return c.configStore.fonts.filter((e=>e.slug===this.globalTypography.body_font))[0]}shuffle(){const{body_font:e,heading_font:t}=iF();oF("body_font",e),oF("heading_font",t)}updateFontRatio(e){aF(e)}updateFont(e,t){oF(e,t)}};mF=(0,r.gn)([(0,l.wA)({components:{TogglePanel:BR,IconButtonShuffle:ER,BrandTypographyPicker:nF,BrandToggleFontSizes:gF}})],mF);const vF=mF,fF=vF;var yF=(0,N.Z)(fF,$R,WR,!1,null,null,null);const bF=yF.exports;var SF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Buttons & Forms"},scopedSlots:e._u([{key:"actions",fn:function(){return[t("IconButtonShuffle",{on:{update:e.shuffle}})]},proxy:!0}])},[t("div",{staticClass:"sample-ui",style:e.sampleUIStyles},[t("div",{staticClass:"sample-ui-form-control"},[t("div",{staticClass:"sample-ui-form-control__label",style:e.stylesLabel},[e._v(" Label ")]),t("div",{staticClass:"sample-ui-form-control__form-input",style:e.stylesForms},[e._v(" Placeholder ")])]),t("div",{staticClass:"sample-ui__buttons"},[t("div",{staticClass:"sample-ui__button",style:e.stylesPrimary},[e._v("Primary")]),t("div",{staticClass:"sample-ui__button",style:e.stylesSecondary},[e._v("Secondary")])])])])},_F=[];let xF=class extends s.ZP{constructor(){super(...arguments),this.buttonRadiuses=["none","sm","md","lg","full"],this.inputRadiuses=["none","sm","md"]}get brand(){return c.singularityStore.brand}get bodyFont(){const e=c.globalStore.globalSettings.settings.typography.body_font;return c.configStore.fonts.find((t=>t.slug===e))}get buttonBorderRadius(){return c.singularityStore.brand.ui.buttonRadius}get inputBorderRadius(){return c.singularityStore.brand.ui.inputRadius}get sampleUIStyles(){return this.brand.color.neutral?{backgroundColor:this.brand.color.primary?.scale[100].value?.toString()}:{}}get stylesPrimary(){return this.brand.color.primary?{backgroundColor:this.brand.color.primary.base.value?.toString(),color:this.brand.color.primary.text.value?.toString(),borderRadius:GN[this.buttonBorderRadius]?.style}:{}}get stylesSecondary(){return this.brand.color.neutral?{backgroundColor:"transparent",color:this.brand.color.neutral.base.value?.toString(),borderColor:this.brand.color.neutral.scale[300].value?.toString(),borderRadius:GN[this.buttonBorderRadius]?.style}:{}}get stylesLabel(){return this.brand.color.neutral?{color:this.brand.color.neutral.base.value?.toString()}:{}}get stylesForms(){return this.brand.color.neutral?{borderColor:this.brand.color.neutral.scale[200].value?.toString(),borderRadius:GN[this.inputBorderRadius]?.style,color:this.brand.color.neutral.scale[300].value?.toString()}:{}}shuffleButtonCorners(){const e=Math.floor(Math.random()*this.buttonRadiuses.length);c.singularityStore.setRadius({buttonRadius:this.buttonRadiuses[e]}),JN()}shuffleInputCorners(){const e=Math.floor(Math.random()*this.inputRadiuses.length);c.singularityStore.setRadius({inputRadius:this.inputRadiuses[e]}),eR()}shuffle(){this.shuffleButtonCorners(),this.shuffleInputCorners()}};xF=(0,r.gn)([(0,l.wA)({components:{IconButtonShuffle:ER,Icon:He.Z,TogglePanel:BR}})],xF);const CF=xF,wF=CF;var PF=(0,N.Z)(wF,SF,_F,!1,null,null,null);const IF=PF.exports;var kF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Site Logo"}},[t("div",{staticClass:"brand-logo-panel"},[e.currentLogo?t("div",{staticClass:"brand-logo-preview"},[t("img",{staticClass:"brand-logo-image",attrs:{src:e.currentLogo.url,alt:e.currentLogo.alt||"Site Logo"}})]):t("div",{staticClass:"brand-logo-placeholder"},[t("Icon",{attrs:{icon:"ImageIcon",size:"32"}}),t("span",[e._v("No logo selected")])],1),t("div",{staticClass:"brand-logo-actions"},[t("NiceButton",{attrs:{variant:e.currentLogo?"secondary":"primary",size:"small"},on:{click:e.openMediaPicker}},[e._v(" "+e._s(e.currentLogo?"Change Logo":"Upload Logo")+" ")]),e.currentLogo?t("NiceButton",{attrs:{variant:"danger",size:"small"},on:{click:e.removeLogo}},[e._v(" Remove ")]):e._e()],1)]),e.loading?t("div",[e._v("updating...")]):e._e(),t("MediaUploadDialog",{attrs:{open:e.dialogOpen,multiple:!1,"selected-media":e.currentLogo,"accepted-file-types":["image"]},on:{input:e.onMediaSelected,close:e.closeDialog}})],1)},EF=[],TF=n(98349);let DF=class extends s.ZP{constructor(){super(...arguments),this.dialogOpen=!1,this.loading=!1}get brand(){return c.singularityStore.brand}get currentLogo(){return this.brand.logo?.logo||null}openMediaPicker(){this.dialogOpen=!0}closeDialog(){this.dialogOpen=!1}onMediaSelected(e){e&&!Array.isArray(e)&&this.updateLogo(e),this.closeDialog()}async updateLogo(e){const t={...this.brand,logo:{logo:e}};await this.setBrandAndRerender(t)}async removeLogo(){const e={...this.brand,logo:{logo:null}};await this.setBrandAndRerender(e)}async setBrandAndRerender(e){this.loading=!0,c.singularityStore.setBrand(e),await YN(),await(0,TF.x)(),this.loading=!1}};DF=(0,r.gn)([(0,l.wA)({components:{TogglePanel:BR,Icon:He.Z,NiceButton:Cd.Z,MediaUploadDialog:$B.Z}})],DF);const AF=DF,ZF=AF;var MF=(0,N.Z)(ZF,kF,EF,!1,null,null,null);const OF=MF.exports;let BF=class extends s.ZP{constructor(){super(...arguments),this.loadingSettings=!1}async saveBrandSettings(){this.loadingSettings=!0,await YN(),this.loadingSettings=!1}destroyed(){document.removeEventListener("breakdanceSaveButtonClicked",this.saveBrandSettings)}mounted(){document.addEventListener("breakdanceSaveButtonClicked",this.saveBrandSettings)}};BF=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:IB,BrandManageLogo:OF,BrandManageColors:VR,BrandManageTypography:bF,BrandManageButtons:IF}})],BF);const LF=BF,NF=LF;var RF=(0,N.Z)(NF,MN,ON,!1,null,null,null);const FF=RF.exports;var VF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{backState:"brand",parentTitle:"Brand",childTitle:"Edit Color"}}),t("div",{staticClass:"singularity-panel__content"},[t("div",{staticClass:"brand-color-editor toggle-panel"},[t("div",{staticClass:"brand-color-editor__container"},[t("TextInput",{attrs:{value:e.internalPalette?.label,placeholder:"Palette name"},on:{input:function(t){return e.updateLabel(t)}}}),e.internalPalette?t("div",{staticClass:"brand-color-editor__swatches"},e._l(e.internalPalette?.scale,(function(n,s){return t("div",{key:"color-"+s},[n&&n.value?t("div",{staticClass:"brand-color-editor__swatch",style:e.style(n.value?.toString()),on:{click:function(t){e.copyColor(n.value?.toString())}}},[t("span",{staticClass:"brand-color-editor__swatch-label"},[e._v(" "+e._s(n.value?.toString().substring(1).toUpperCase())+" "),e.internalPalette.base.value===n.value?t("span",{staticClass:"brand-color-editor__swatch-dot"}):e._e()]),t("CopyButton",{staticClass:"brand-color-editor__swatch-copy",attrs:{valueToCopy:n.value?.toString()}})],1):e._e()])})),0):e._e(),t("BrandColorPicker",{attrs:{color:e.internalPalette?.base.value},on:{update:e.updateColor}}),t("NiceButton",{attrs:{"left-icon":"ArrowsRotateSolidIcon",color:"gray"},on:{click:e.shufflePalette}},[e._v(" Shuffle ")])],1)])])],1)])},$F=[],WF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"palette-picker",on:{"click:outside":function(t){e.isOverlayOpen=!1}}},[e.isOverlayOpen?t("div",{staticClass:"palette-picker__overlay"},[t("Chrome",{attrs:{value:e.color,disableAlpha:!0},on:{input:e.updateColor}})],1):e._e(),t("NiceButton",{attrs:{"left-icon":"ColorPickerIcon",color:"gray",expanded:!0},on:{click:function(t){e.isOverlayOpen=!e.isOverlayOpen}}},[e._v(e._s(e.isOverlayOpen?"Hide":"Show")+" Picker")])],1)},UF=[],zF=n(94023);let HF=class extends s.ZP{constructor(){super(...arguments),this.internalColor=this.color,this.isOverlayOpen=!1,this.palette=lR(this.internalColor)}get classes(){return{"is-light":pR(this.internalColor)}}updateColor(e){this.internalColor=e.hex,this.palette=lR(e.hex),this.$emit("update",e.hex)}get inlineStyles(){return{backgroundColor:this.internalColor,color:pR(this.internalColor)?String(this.palette.scale[900].value):String(this.palette.scale[100].value)}}copyColor(e){mu()(e)}onColorChange(e){this.internalColor=e,this.palette=lR(e)}mounted(){this.palette=lR(this.internalColor)}};(0,r.gn)([(0,l.fI)()],HF.prototype,"color",void 0),(0,r.gn)([(0,l.RL)("color")],HF.prototype,"onColorChange",null),HF=(0,r.gn)([(0,FN.ZP)({components:{Chrome:zF.Chrome,NiceButton:Cd.Z}})],HF);const GF=HF,qF=GF;var KF=(0,N.Z)(qF,WF,UF,!1,null,null,null);const jF=KF.exports;let XF=class extends s.ZP{constructor(){super(...arguments),this.internalPalette=this.currentPalette}get currentPalette(){return c.singularityStore.currentPalette?c.singularityStore.currentPalette.palette:null}get currentIndex(){return c.singularityStore.currentPalette?c.singularityStore.currentPalette.index:null}style(e){return this.currentPalette?mR(e,this.currentPalette):{}}updateColor(e){if(!this.internalPalette)return;const t=lR(e);this.internalPalette={...this.internalPalette,base:t.base,scale:t.scale,text:t.text},this.updatePalette()}copyColor(e){mu()(e)}updateLabel(e){this.internalPalette&&(this.internalPalette.label=e)}shufflePalette(){if(!this.internalPalette)return;const e=oR();this.internalPalette={...e,primary:this.internalPalette.primary},this.updatePalette()}updatePalette(){this.internalPalette&&(this.internalPalette.primary?c.singularityStore.setPalette({type:"primary",palette:this.internalPalette}):c.singularityStore.updateSecondaryPalette({index:this.currentIndex??0,palette:this.internalPalette}),tR())}onPaletteChange(e){this.internalPalette={...e}}};(0,r.gn)([(0,l.RL)("currentPalette")],XF.prototype,"onPaletteChange",null),XF=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:IB,IconButton:Ia.Z,BrandColorPicker:jF,TextInput:Oo.Z,Icon:He.Z,NiceButton:Cd.Z,CopyButton:Rm.Z}})],XF);const YF=XF,QF=YF;var JF=(0,N.Z)(QF,VF,$F,!1,null,null,null);const eV=JF.exports;var tV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{backState:"brand",parentTitle:"Brand",childTitle:"Typography"}}),t("div",{staticClass:"singularity-panel__content"},[t("div",{staticClass:"toggle-panel"},e._l(Object.keys(e.filteredFontsByCategory),(function(n){return t("BrandTypographyCategory",{key:n,attrs:{label:n,fonts:e.filteredFontsByCategory[n]},on:{update:e.update,show:e.showCategory}})})),1)])],1)])},nV=[],sV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"typography-category"},[t("div",{staticClass:"typography-category__container"},[e.isOpen?e._e():t("BrandTypographyFont",{attrs:{value:e.representativeFont,description:e.label,label:`${e.filteredFonts.length} fonts`},on:{update:e.open}}),e.isOpen?t("div",{staticClass:"typography-category__picker"},[t("div",{staticClass:"typography-category__header"},[t("span",{staticClass:"typography-category__title"},[e._v(e._s(e.label)+" fonts")]),t("IconButton",{attrs:{small:"true",icon:"CloseIcon"},on:{click:e.close}})],1),t("div",{staticClass:"typography-category__search"},[t("TextInput",{attrs:{placeholder:e.searchInputPlaceholder,value:e.filter},on:{input:e.updateFilter}})],1),t("div",{staticClass:"typography-category__fonts"},e._l(e.filteredFonts,(function(n,s){return t("BrandTypographyFont",{key:"font-"+s,attrs:{value:n},on:{update:e.update}})})),1)]):e._e()],1)])},iV=[];const oV={"sans-serif":"Inter",serif:"Playfair Display",display:"Alfa Slab One",handwriting:"Caveat Brush",monospace:"Roboto Mono"};let aV=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1,this.filter=""}updateFilter(e){this.filter=e}open(){this.isOpen=!0,this.$emit("show",this.label)}close(){this.isOpen=!1,this.$emit("show","")}get filteredFonts(){return this.fonts.filter((e=>e.label.toLowerCase().includes(this.filter.toLowerCase())))}get searchInputPlaceholder(){return`Search ${this.label} fonts`}update(e){this.$emit("update",e)}getRepresentativeFont(e,t){const n=e.find((e=>e.label===oV[t]));return n||null}get representativeFont(){const e=this.label;return this.getRepresentativeFont(this.fonts,e)}};(0,r.gn)([(0,l.fI)()],aV.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],aV.prototype,"fonts",void 0),aV=(0,r.gn)([(0,FN.ZP)({components:{BrandTypographyFont:YR,IconButton:Ia.Z,TextInput:Oo.Z}})],aV);const rV=aV,lV=rV;var cV=(0,N.Z)(lV,sV,iV,!1,null,null,null);const dV=cV.exports;let uV=class extends s.ZP{constructor(){super(...arguments),this.currentCategory=""}get currentFont(){return c.singularityStore.currentFont}get fontsByCategory(){return c.configStore.fonts.reduce(((e,t)=>{const n=t.category||"Other";return e[n]||(e[n]=[]),e[n].push(t),e}),{})}get filteredFontsByCategory(){return this.currentCategory?{[this.currentCategory]:this.fontsByCategory[this.currentCategory]||[]}:this.fontsByCategory}showCategory(e){this.currentCategory=e}update(e){this.currentFont&&(c.singularityStore.setSingularityLeftPanel("brand"),oF(this.currentFont,e.slug))}};uV=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:IB,BrandTypographyPicker:nF,BrandTypographyCategory:dV}})],uV);const pV=uV,hV=pV;var gV=(0,N.Z)(hV,tV,nV,!1,null,null,null);const mV=gV.exports;var vV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{backState:"page_structure",parentTitle:"Add Section",childTitle:e.childTitle}}),t("div",{staticClass:"singularity-panel__content"},[e.addNewSectionPanelState?"breakdance_ai"===e.addNewSectionPanelState.mode?t("div",{staticClass:"form-content"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"section-description"}},[e._v("Section Description")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sectionDescription,expression:"sectionDescription"}],staticClass:"form-textarea",attrs:{id:"section-description",placeholder:"Describe what this section should contain (e.g., 'Hero section for a tech company with a headline, subheadline, and call-to-action button')",rows:"4"},domProps:{value:e.sectionDescription},on:{input:function(t){t.target.composing||(e.sectionDescription=t.target.value)}}})]),t("div",{staticClass:"form-actions"},[t("NiceButton",{attrs:{color:"gray",size:"large"},on:{click:e.goBack}},[e._v(" Back ")]),t("NiceButton",{attrs:{"left-icon":"SparklesSolidIcon",color:"yellow",size:"large",expanded:"true",disabled:!e.sectionDescription.trim()||e.isGenerating},on:{click:e.generateSection}},[e._v(" "+e._s(e.isGenerating?"Generating...":"Generate Section")+" ")])],1)]):e._e():t("div",{staticClass:"singularity-new-section-panel__options"},[t("SingularityOption",{attrs:{icon:"Grid2PlusSolidIcon",title:"Select from Library"},on:{click:e.openLibraryModal}}),t("SingularityOption",{attrs:{icon:"SparklesSolidIcon",title:"Build with AI"},on:{click:e.setBreakdanceAIMode}})],1)])],1)])},fV=[],yV=n(34755),bV=n(44652),SV=n(56888);async function _V(e,t){const n=await xV(e);if(!n)return console.error("Failed to determine section type"),null;const s={type:n.type,sectionFriendlyName:n.friendlyName,description:e},i=(0,Ta.pJ)(s);if(!i)return console.error("Failed to get section template for type:",n.type),null;if(!t)return i;const o=(0,ge.getBlankTree)(),a=(0,ge.copyNode)(o,i);(0,ge.moveNode)(o,a.id,o.root.id,0);const r=await(0,bV.M)([{id:String(a.id),messages:(0,yV.kk)(a)}]),l=(0,_N.hF)(o,r),c=await(0,_N.P2)(l),d=(0,ge.findNode)(c,a.id);return d||null}async function xV(e){const t=c.globalStore.aiSettings.prompt.businessName,n=c.globalStore.aiSettings.prompt.businessDescription,s=(0,Ta.FX)(),i=s.map((e=>`'${e}'`)).join(", "),o=[{role:"system",content:`You are an assistant that determines the appropriate section type for a website based on a description.\n\nWebsite name: ${t}\nWebsite description: ${n}\n\nValid section types are: ${i}\n\nYou must respond with a JSON object containing a "type" field with one of the valid section types, and a "friendlyName" field which is a short friendly name (1 to 3 words) that describes the content of the section.`},{role:"user",content:`Based on the following description, determine which section type to use:\n\n"${e}"\n\nRespond with JSON format: {"type": "chosen_section_type","friendlyName": "Friendly Name For The Section"}`}],a={id:"section-type-determination",messages:o};try{const e=await(0,bV.M)([a]);if(e.length>0&&e[0].content){const t=(0,SV.B)(e[0].content);if(!t)return;return{type:t.type,friendlyName:t.friendlyName}}}catch(r){console.error("Failed to determine section type:",r)}}let CV=class extends s.ZP{constructor(){super(...arguments),this.option=null,this.sectionDescription="",this.isGenerating=!1}openLibraryModal(){c.singularityStore.setSectionAddOrSwapPanelState({mode:"add_after",sectionId:this.currentlyActiveSectionId}),c.singularityStore.setSectionLibraryModalState(!0)}get currentlyActiveSectionId(){return c.uiStore.activeElement?c.uiStore.activeElement.data.type!==Ge.SECTION_SLUG?null:c.uiStore.activeElement.id:null}get childTitle(){return null===this.addNewSectionPanelState?"Add":"breakdance_ai"===this.addNewSectionPanelState.mode?"Build with AI":"Add"}setBreakdanceAIMode(){c.singularityStore.setAddNewSectionPanelState({mode:"breakdance_ai"})}goBack(){c.singularityStore.setAddNewSectionPanelState(null)}get addNewSectionPanelState(){return c.singularityStore.addNewSectionPanelState}async generateSection(){if(!this.sectionDescription.trim()||this.isGenerating)return;this.isGenerating=!0;const e=await _V(this.sectionDescription,!1);if(e){const t=Ra(e,this.currentlyActiveSectionId??-1);t&&c.uiStore.activateElement(t),this.sectionDescription="",c.singularityStore.setAddNewSectionPanelState(null),c.singularityStore.setSingularityLeftPanel("page_structure")}else console.error("Failed to generate section");this.isGenerating=!1}};CV=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:IB,SingularityOption:VB,NiceButton:Cd.Z}})],CV);const wV=CV,PV=wV;var IV=(0,N.Z)(PV,vV,fV,!1,null,null,null);const kV=IV.exports;var EV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{backState:"page_structure",parentTitle:"Edit with AI",childTitle:e.modalTitle}}),t("div",{staticClass:"singularity-panel__content"},[e.option?"content"===e.option?t("div",{staticClass:"form-content"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"page-description"}},[e._v("Section Description")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.internalSectionDescription,expression:"internalSectionDescription"}],staticClass:"form-textarea",attrs:{id:"page-description",placeholder:"Describe what you want the content of this section to be about (e.g., 'A team of professionals collaborating in a modern office environment')",rows:"4"},domProps:{value:e.internalSectionDescription},on:{input:[function(t){t.target.composing||(e.internalSectionDescription=t.target.value)},e.updateDescription]}})]),t("div",{staticClass:"form-actions"},[t("NiceButton",{attrs:{color:"gray",size:"large"},on:{click:function(t){e.option=null}}},[e._v(" Back ")]),t("NiceButton",{class:{"is-spinning":e.isSectionCurrentlyRewritingWithAi},attrs:{disabled:e.isSectionCurrentlyRewritingWithAi,"left-icon":e.isSectionCurrentlyRewritingWithAi?"CircleNotchSolidIcon":"SparklesIconSolid",color:"yellow",size:"large",expanded:"true"},on:{click:e.rewrite}},[e._v(" "+e._s(e.isSectionCurrentlyRewritingWithAi?"Working...":"Rewrite With AI")+" ")])],1)]):"images"===e.option?t("div",{staticClass:"form-content"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"page-description"}},[e._v("Images Description")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.internalImagesDescription,expression:"internalImagesDescription"}],staticClass:"form-textarea",attrs:{id:"page-description",placeholder:"Describe what kind of images should be in this section (e.g., 'A modern office space with people collaborating')",rows:"4"},domProps:{value:e.internalImagesDescription},on:{input:function(t){t.target.composing||(e.internalImagesDescription=t.target.value)}}})]),t("div",{staticClass:"form-actions"},[t("NiceButton",{attrs:{color:"gray",size:"large"},on:{click:function(t){e.option=null}}},[e._v(" Back ")]),t("NiceButton",{class:{"is-spinning":e.isSectionCurrentlyReplacingImagesWithAi},attrs:{"left-icon":e.isSectionCurrentlyReplacingImagesWithAi?"CircleNotchSolidIcon":"SparklesIconSolid",color:"yellow",size:"large",expanded:"true"},on:{click:e.repopulateImages}},[e._v(e._s(e.isSectionCurrentlyReplacingImagesWithAi?"Updating...":"Replace All Images")+" ")])],1)]):e._e():t("div",{staticClass:"singularity-new-section-panel__options"},[t("SingularityOption",{attrs:{icon:"SparklesIcon",title:"Rewrite Content",description:"Let AI help you rewrite the text content of this section."},on:{click:function(t){return e.setOption("content")}}}),t("SingularityOption",{attrs:{icon:"ImageIcon",title:"Replace Images",description:"Regenerate all images in this section using AI."},on:{click:function(t){return e.setOption("images")}}})],1)])],1)])},TV=[];let DV=class extends s.ZP{constructor(){super(...arguments),this.option=null,this.internalSectionDescription="",this.internalImagesDescription=""}closeDialog(){this.$emit("close")}setOption(e){this.option=e}get modalTitle(){return"content"===this.option?"Content":"images"===this.option?"Images":"Select"}get section(){return c.singularityStore.sectionRewritePanelState?c.singularityStore.sectionRewritePanelState.section:null}rewrite(){this.section&&(Da.P.addJob((async e=>{this.section&&await(0,Aa.H2)(this.section.nodeId,e)}),"section rewrite from PageStructureSectionNew.vue rewrite button",this.section.nodeId),this.closeDialog())}repopulateImages(){if(!this.section)return;const e=(0,ge.findNode)(c.documentStore.document.tree,this.section.nodeId);e&&(Da.P.addJob((async t=>{await(0,Za.q)(e,t)}),"image repopulation from PageStructureSectionNew.vue rewrite button",this.section.nodeId),this.closeDialog())}get isSectionCurrentlyRewritingWithAi(){return!!this.section&&c.singularityStore.aiJobs.filter((e=>e.affectedElement===this.section?.nodeId&&"running"===e.status&&e.jobName.includes("section rewrite"))).length>0}get isSectionCurrentlyReplacingImagesWithAi(){return!!this.section&&c.singularityStore.aiJobs.filter((e=>e.affectedElement===this.section?.nodeId&&"running"===e.status&&e.jobName.includes("image"))).length>0}updateDescription(){this.section&&lO(this.section.nodeId,this.internalSectionDescription)}onSectionChange(e){this.internalSectionDescription=e?.description||"",this.internalImagesDescription=""}};(0,r.gn)([(0,l.RL)("section",{immediate:!0})],DV.prototype,"onSectionChange",null),DV=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:IB,SingularityOption:VB,NiceButton:Cd.Z,TextInput:Oo.Z,IconButton:Ia.Z,Icon:He.Z}})],DV);const AV=DV,ZV=AV;var MV=(0,N.Z)(ZV,EV,TV,!1,null,null,null);const OV=MV.exports;let BV=class extends s.ZP{get isLeftPanelHighlighted(){return c.singularityStore.singularityUiState.isSingularityLeftPanelHighlighted}get singularityLeftPanelState(){return c.singularityStore.singularityUiState.singularityLeftPanel}get singularityDebugPanelOpen(){return!!c.singularityStore.singularityUiState.singularityDebugPanel}get imageEditorKey(){return c.singularityStore.imageEditorPanelState?.elementId||"no-image"}mounted(){XN()}};BV=(0,r.gn)([(0,l.wA)({components:{SectionWriter:XM,AIJobManager:sO,PageStructureNew:YO,ImageEditor:rL,BackgroundImageEditor:xL,IconEditor:AL,TextEditor:RL,LinkEditor:GL,ContentPropertiesEditor:JL,HeaderAndFooterEditor:rN,WPPageManagerNew:ZN,BrandPanel:FF,BrandPanelColorEdit:eV,BrandPanelTypographyEdit:mV,NewSectionPanel:kV,RewriteSectionPanel:OV}})],BV);const LV=BV,NV=LV;var RV=(0,N.Z)(NV,WM,UM,!1,null,null,null);const FV=RV.exports;var VV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-panel vscroll-wrap borderOnRight singularity-debug-panel"},[e._v(" "+e._s(e.backgroundGeneratingHeadersAndFooters)+" "),t(Do.Z,{on:{click:e.generateSitemapPopulatePagesWithSectionsWriteContentAndUpdateImages}},[e._v("generateSitemapPopulatePagesWithSectionsWriteContentAndUpdateImages")]),t("div",{staticClass:"singularity-debug-panel-content vscroll-wrap vscroll-scroll"},[t("SectionWriter"),t("AIJobManager"),e._v(" AI Server: "+e._s(e.aiServer)+" ")],1),t("div",[t(Do.Z,{on:{click:e.replaceImagesInSectionWithAi}},[e._v("replaceImagesInSectionWithAi")]),t(Do.Z,{on:{click:e.replaceImagesInSectionWithAiMutating}},[e._v("defensiveCopy and then replaceImagesInSectionWithAiMutating")])],1)],1)},$V=[],WV=n(39443);let UV=class extends s.ZP{generateSitemapPopulatePagesWithSectionsWriteContentAndUpdateImages(){(0,WV.$)()}get aiServer(){return c.singularityStore.aiServer}async replaceImagesInSectionWithAi(){const e=c.uiStore.activeElement;if(!e)return void alert("no active node");const t=await(0,Za.q)(e,new AbortController);console.log("Result is:",t)}async replaceImagesInSectionWithAiMutating(){const e=c.uiStore.activeElement;if(!e)return void alert("no active node");const t=(0,Gc.Z)(e);await(0,Za._)(t,new AbortController),console.log("phantomNode after mutation:",t)}get backgroundGeneratingHeadersAndFooters(){return c.singularityStore.backgroundGeneratingHeadersAndFooters}};UV=(0,r.gn)([(0,l.wA)({components:{SectionWriter:XM,AIJobManager:sO}})],UV);const zV=UV,HV=zV;var GV=(0,N.Z)(HV,VV,$V,!1,null,null,null);const qV=GV.exports;var KV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity",class:e.classes},["step1"!==e.singularityUiState.singularityRightPanel?t("TopNavBuilder"):e._e(),"step1"===e.singularityUiState.singularityRightPanel?t("Step1"):"settings"===e.singularityUiState.singularityLeftPanel?t("Settings"):e._e(),e.singularityUiState.singularityDebugPanel?t("SingularityDebugPanel"):e.singularityUiState.singularityLeftPanel?t("SingularityLeftPanelNew"):e._e(),t("SingularityCanvas",{class:{"is-visually-hidden":e.isFullWidthState},on:{loaded:function(t){return e.$emit("loaded")}}}),e.isSectionLibraryModalOpen?t("SingularitySectionLibraryModal",{on:{close:e.closeSectionLibraryModal}}):e._e()],1)},jV=[],XV=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-prompt",class:{"singularity-prompt--loading":!e.waitingForThingsToBeReadyDone||e.creating}},[t("div",{staticClass:"singularity-prompt__wrapper"},[t("div",{staticClass:"singularity-prompt__title-wrapper"},[t("img",{staticClass:"singularity-prompt__logo",attrs:{src:"https://breakdance.com/wp-content/uploads/2022/09/breakdance-logo-inverted.svg"}}),t("h1",{staticClass:"singularity-prompt__title"},[e.creating?t("Icon",{staticClass:"animate-spin",attrs:{icon:"CircleNotchSolidIcon",size:"38"}}):e._e(),e._v(" "+e._s(e.creating?"Building your new website...":"Let's get started")+" ")],1),t("p",{staticClass:"singularity-prompt__tagline"},[e._v(" "+e._s(e.creating?"This may take a minute, please be patient.":"Create a website in minutes with AI.")+" ")])]),e.creating?e._e():t("div",{staticClass:"singularity-prompt__prompt-wrapper"},[t("TextInput",{staticClass:"singularity-prompt__prompt-input",attrs:{value:e.businessName,label:"Website Name",multiline:!0,id:"businessName",placeholder:"Enter your website name"},on:{input:e.updateBusinessName}}),t("div",{staticClass:"singularity-prompt__description-wrapper"},[t("TextInput",{staticClass:"singularity-prompt__prompt-input",attrs:{value:e.businessDescription,multiline:!0,id:"Description",label:"Description",placeholder:"Create a website for..."},on:{input:e.updateBusinessDescription}}),t("div",{staticClass:"singularity-prompt__prompt-buttons"},[t("NiceButton",{class:{"is-spinning":e.creating},attrs:{loading:e.creating,disabled:e.creating,color:"yellow",size:"large","left-icon":"SparklesSolidIcon"},on:{click:e.generate}},[e._v("Start Building")])],1)],1)],1)])])},YV=[],QV=n(71491),JV=n(76007);async function e$(e,t){const n=(0,Ic.pipe)(await(0,pl.Dl)(e),(0,kc.fold)((()=>{}),(e=>"document"in e&&e.document.documentMeta.singularityMeta&&e.document.documentMeta.singularityMeta.singularityInitialSections?e.document.documentMeta.singularityMeta.singularityInitialSections:void 0)));if(!n)return void console.error("No initial sections found for page ID:",e);await(0,pl.ZR)(),await(0,JV.c)();const s=(0,ge.getBlankTree)();for(let i=0;i<n.length;i++){const e=n[i],t=(0,Ta.pJ)(e);if(!t)continue;const o=(0,ge.copyNode)(s,t);(0,ge.moveNode)(s,o.id,s.root.id,i)}console.log("page populated with sections",s);for(const i of s.root.children)console.log("rewriteContentInPhantomSection",i.id),await t$(s,i.id,t),console.log("populateImagesInPhantomSection",i.id),await n$(s,i.id,t);console.log("content rewritten with AI"),console.log("images updated AI"),await u$(s,e,void 0),await p$(e,{singularityInitialSections:n,initialSectionsAlreadyPopulated:!0}),console.log("tree saved and singularity meta updated for page",e)}async function t$(e,t,n){const s=(0,ge.findNode)(e,t);if(console.log("found node",s),!s)return;const i=(0,Ma.E)(s),o=(0,hD.LX)(s),a=(0,gD.ee)(o),r=(0,gD.r1)(a,i,c.globalStore.aiSettings.prompt);if(console.log({fields:o,fieldsToFill:a,prompt:r}),o.length)try{const t=await(0,Aa.iW)(r,o,n);console.log("parsedCompletion",t),t.elements.forEach((t=>{const n=(0,ge.findNode)(e,t.nodeId);n&&Uc()(n.data.properties,t.controlPath,t.value)})),i.singularity.shouldGenerateOnInitialLoad=!1,i.singularity.unsplashKeywords=t.unsplash_keywords,Uc()(s.data.properties,"meta.promptInfo",i)}catch(l){(0,hD.Qm)(l)}}async function n$(e,t,n){alert("dont use this, use replaceImagesInSectionWithAiMutating instead");const s=(0,ge.findNode)(e,t);if(!s)return;const i=(0,Ma.E)(s),o=i.singularity.unsplashKeywords.length?i.singularity.unsplashKeywords:["generic"],a=(0,hD.ho)(s);if(!(a.length>0))return;const r=await(0,sB.O)({query:o.join(", "),page:1,per_page:a.length});console.log("unsplashResults",r),console.log("imageFieldsToComplete",a);for(let l=0;l<a.length;l++){const t=a[l],n=r[l],s=(0,ge.findNode)(e,t.nodeId);console.log("nodeToUpdate",s),s&&(Uc()(s.data.properties,t.controlPath,{id:-1,type:"external_image",url:n.urls.regular,alt:n.alt_description||"",caption:n.description||""}),console.log(`Updated node ${s.id} with image from Unsplash: ${n.urls.regular} at control path ${t.controlPath}`))}}var s$=n(81626);async function i$(e,t){const n=e.map((e=>({title:e.title,id:e.id}))),s=await(0,s$.C)(`what are the most important pages for the header menu for our website in this list of pages? return them in the order they should appear in a header menu. return up to ${t} pages\n\n        ${(0,vg.g)(n)}\n\n        `,kd.dt({pageIds:kd.IX(kd.pk)}));if(!s)return console.error("No important pages found"),[];const i=s.pageIds;return i}async function o$(e){const t=await i$(e,5);return(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_singularity_sync_pages_to_default_wp_menu",decoder:kd.dt({success:kd.Z_}),dataToPost:{pageIds:(0,vg.g)(t)}}),(0,kc.fold)((()=>null),(e=>{console.log("Menu updated successfully:",e.success)})))}async function a$(e){console.log("Rebuilding from URL:",e);const t=(0,Ic.pipe)(await(0,Ec.D)({action:"breakdance_singularity_website_intake_service",friendlyName:"Website Service Thing",dataToPost:{url:e},decoder:kd.IX(r$),resultKey:"data"}),(0,kc.fold)((()=>{}),(e=>e)));await l$("we are rebuilding an existing website, and here is the info on the existing website. we want the new website to be as similar as possible to the existing one. here is data on the existing website: "+(0,vg.g)(t))}const r$=kd.dt({url:kd.Z_,originalTitle:kd.Z_,analysis:kd.G0([kd.lB,kd.dt({title:kd.Z_,sections:kd.IX(kd.dt({title:kd.Z_,content:kd.Z_}))})]),images:kd.dt({images:kd.IX(kd.dt({url:kd.Z_,description:kd.Z_}))}),error:kd.G0([kd.S1,kd.Z_])});async function l$(e=""){await(0,pN.np)();const t=await(0,QV.NI)(e);if(!t)return;const n=[];for(const i of t){const e=await(0,pN.Le)(i.title,{singularityInitialSections:i.sections},"page");e&&(n.push(e),i.title.toLowerCase().includes("home")||Da.P.addJob((async t=>{await e$(e.id,t)}),"behind the scenes page generation for "+i.title,!1))}await o$(n),await c$();const s=c.singularityStore.pagesInWP.find((e=>e.title.toLowerCase().includes("home")));s?(c.uiStore.setUnsavedChangesPresent(!1),await(0,pl.rI)(s.id)):(c.uiStore.setUnsavedChangesPresent(!1),await(0,pl.rI)(c.singularityStore.pagesInWP[0].id)),c.singularityStore.setSingularityUiState({...c.singularityStore.singularityUiState,singularityLeftPanel:"page_structure"})}async function c$(){await d$("Header",pd.kl,"head"),await d$("Footer",pd.WZ,"foot")}async function d$(e,t,n){const s=await(0,pN.Le)(e,{},t);if(!s)return;const i=(0,Ta.FX)().find((e=>e.toLowerCase().includes(n)));if(!i)return;const o=(0,Ta.pJ)({type:i,sectionFriendlyName:e,description:""});if(!o)return;await(0,pl.ZR)();const a=(0,ge.getBlankTree)(),r=(0,ge.copyNode)(a,o);(0,ge.moveNode)(a,r.id,a.root.id,0);const l={type:"everywhere",priority:1,ruleGroups:[],disabled:!1};u$(a,s.id,l)}async function u$(e,t,n){const s={id:t,tree:(0,yh.J)((0,ge.exportTree)(e)),templateSettings:n?(0,yh.J)(n):void 0},i=(0,Ic.pipe)(await(0,Ec.D)({friendlyName:"Saving to WordPress",action:"breakdance_save",dataToPost:s,decoder:kd._4}),(0,kc.fold)((e=>((0,wp.UE)(e),(0,kc.left)(e))),(e=>(0,kc.right)(e))));return i}async function p$(e,t){const n={id:e,singularityMeta:t?(0,yh.J)(t):void 0},s=(0,Ic.pipe)(await(0,Ec.D)({friendlyName:"Update Singularity Meta",action:"breakdance_singularity_update_singularity_meta",dataToPost:n,decoder:kd._4}),(0,kc.fold)((e=>((0,wp.UE)(e),(0,kc.left)(e))),(e=>(0,kc.right)(e))));return s}var h$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("header",{staticClass:"singularity-top-nav",class:{"is-compact":e.compact}},[t("div",{staticClass:"singularity-top-nav__logo"},[t("Logo",{attrs:{color:"var(--yellow600)",fill:"black",size:"40"}})],1),t("nav",{staticClass:"singularity-top-nav__menu"},[t("ul",[e._t("menu")],2)]),t("div",{staticClass:"singularity-top-nav__actions"},[e._t("actions")],2)])},g$=[],m$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{width:"32",height:"32",rx:"2.44706",fill:e.color}}),t("path",{attrs:{d:"M17.1379 19.454L11.4485 19.4543C10.823 19.4539 10.3107 18.9238 10.3106 18.3024C10.3111 17.6811 10.8234 17.1514 11.4487 17.1512H13.732C14.3544 17.1467 14.8621 16.6182 14.8623 15.9997V9.09117C14.8627 8.47005 15.3748 7.94037 16 7.93998C16.6253 7.94024 17.1375 8.46996 17.1379 9.09117V12.3473C17.1383 12.9598 17.6766 13.4981 18.2755 13.4985C18.9009 13.4982 19.4132 12.9683 19.4134 12.347V9.09117C19.4138 8.46996 19.926 7.94024 20.5513 7.93998C21.1766 7.94024 21.6889 8.46992 21.6894 9.09117V22.9086C21.689 23.5299 21.1767 24.0597 20.5513 24.06C19.9259 24.0597 19.4137 23.5299 19.4134 22.9086V21.7571C19.4134 20.4859 18.3937 19.454 17.1379 19.454Z",fill:e.fill}}),t("path",{attrs:{d:"M16.8779 23.661C17.7748 23.661 18.5019 22.9252 18.5019 22.0176C18.5019 21.11 17.7748 20.3742 16.8779 20.3742C15.9809 20.3742 15.2538 21.11 15.2538 22.0176C15.2538 22.9252 15.9809 23.661 16.8779 23.661Z",fill:e.fill}})])},v$=[];let f$=class extends s.ZP{};(0,r.gn)([(0,l.fI)({default:"#000000"})],f$.prototype,"color",void 0),(0,r.gn)([(0,l.fI)({default:"32"})],f$.prototype,"size",void 0),(0,r.gn)([(0,l.fI)({default:"#ffffff"})],f$.prototype,"fill",void 0),f$=(0,r.gn)([l.wA],f$);const y$=f$,b$=y$;var S$=(0,N.Z)(b$,m$,v$,!1,null,null,null);const _$=S$.exports;let x$=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],x$.prototype,"compact",void 0),x$=(0,r.gn)([(0,l.wA)({components:{Logo:_$}})],x$);const C$=x$,w$=C$;var P$=(0,N.Z)(w$,h$,g$,!1,null,null,null);const I$=P$.exports;var k$=n(5547),E$=n(52666);let T$=class extends s.ZP{constructor(){super(...arguments),this.creating=!1,this.rebuildFromUrl=null,this.waitingForThingsToBeReadyDone=!1,this.isBuildFromUrlMode=!1,this.activeStep=0,this.aiSettings={title:"",description:""},this.promptSteps=[{title:"Start"},{title:"Category"},{title:"Goals"},{title:"Writing Style"}],this.samplePrompts=[{buttonText:"Landing Page",businessName:"Smart Widget",businessDescription:"Create a landing page for a new product called Smart Widget. It should highlight the features and benefits of the product."},{buttonText:"Blog",businessName:"Travel Adventures",businessDescription:"Create a blog page called Travel Adventures which focuses on travel tips and experiences."},{buttonText:"Portfolio",businessName:"Creative Minds",businessDescription:"Create a design portfolio for agency called Creative Minds. It should showcase their best work and include client testimonials."},{buttonText:"Small Business",businessName:"Local Bakery",businessDescription:"Create a website for a small business called Local Bakery. It should include information about their products, location, and hours of operation."}]}generate(){this.isBuildFromUrlMode?this.rebuild():this.create()}async mounted(){await(0,k$.d2)(),this.aiSettings=(0,E$.Np)(),this.waitingForThingsToBeReadyDone=!0}async create(){this.creating=!0,await(0,k$.GL)(this.aiSettings),this.creating=!1}async rebuild(){if(this.creating=!0,!this.rebuildFromUrl)return alert("Please enter a URL to rebuild from."),void(this.creating=!1);const e=await a$(this.rebuildFromUrl);console.log(e),console.log("Rebuild from URL completed"),c.singularityStore.setSingularityLeftPanel("page_structure"),this.creating=!1}nextStep(){this.activeStep<this.promptSteps.length-1&&this.activeStep++}setSamplePrompt(e){this.isBuildFromUrlMode=!1,this.updateBusinessDescription(e.businessDescription),this.updateBusinessName(e.businessName)}selectRandomPrompt(){const e=this.samplePrompts[Math.floor(Math.random()*this.samplePrompts.length)];this.setSamplePrompt(e)}get businessName(){return this.aiSettings.title}updateBusinessName(e){this.aiSettings.title=e}updateBusinessDescription(e){this.aiSettings.description=e}get businessDescription(){return this.aiSettings.description}};T$=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,TopNav:I$,NiceButton:Cd.Z,Icon:He.Z}})],T$);const D$=T$,A$=D$;var Z$=(0,N.Z)(A$,XV,YV,!1,null,null,null);const M$=Z$.exports;var O$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopNav",{scopedSlots:e._u([{key:"menu",fn:function(){return e._l(e.primaryNav,(function(e){return t("TopNavButton",{key:e.name,attrs:{link:e}})}))},proxy:!0},{key:"actions",fn:function(){return[t("TopNavSave"),e.isFullWidthState?e._e():[t("TopNavUndoRedo"),t("TopNavToggleMobile"),t("TopNavToggleZoom")],t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{size:16,icon:"EllipsisSolidIcon"}},n))]}}])},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:e.toggleSingularityDebugPanel}},[t(Xl.V9,[e._v(" Open Debug ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.toggleAdvancedMode}},[t(Xl.V9,[e._v(" Open in Breakdance ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.openFrontend}},[t(Xl.V9,[e._v(" Open in New Tab ")])],1)],1)],1)]},proxy:!0}])})},B$=[],L$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{class:{"is-active":e.isActive},on:{click:e.handleClick}},[e._v(" "+e._s(e.link.name)+" ")])},N$=[];let R$=class extends s.ZP{openPanel(e){e&&c.singularityStore.setSingularityLeftPanel(e)}get isActive(){return c.singularityStore.singularityUiState.singularityLeftPanel===this.link.panelState}handleClick(){this.link.action?this.link.action():this.openPanel(this.link.panelState)}};(0,r.gn)([(0,l.fI)()],R$.prototype,"link",void 0),R$=(0,r.gn)([(0,l.wA)({components:{Icon:He.Z}})],R$);const F$=R$,V$=F$;var $$=(0,N.Z)(V$,L$,N$,!1,null,null,null);const W$=$$.exports;var U$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-save__indicator"},[e.unsavedChangesPresent?t("span",{staticClass:"singularity-save__item singularity-save__item--saving"},[t("span",{staticClass:"singularity-save__dot"}),e._v("Saving...")]):t("span",{staticClass:"singularity-save__item singularity-save__item--saved"},[t("span",{staticClass:"singularity-save__dot"}),e._v("Saved")])])},z$=[];let H$=class extends s.ZP{constructor(){super(...arguments),this.lastSaved=new Date,this.unsubscribe=null}get unsavedChangesPresent(){return c.uiStore.unsavedChangesPresent}mounted(){this.unsubscribe=this.$store.subscribe((e=>{Pe.n.shouldMutationBeIgnored(e)||c.uiStore.setUnsavedChangesPresent(!0)}))}beforeDestroy(){this.unsubscribe&&this.unsubscribe()}};H$=(0,r.gn)([(0,l.wA)({components:{Save:ql,Icon:He.Z}})],H$);const G$=H$,q$=G$;var K$=(0,N.Z)(q$,U$,z$,!1,null,null,null);const j$=K$.exports;var X$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-top-nav-icon-button",class:{"is-active":e.isMobile}},[t("IconButton",{attrs:{size:16,icon:"MobileIcon",active:e.isMobile},on:{click:e.toggleMobileBreakpoint}})],1)},Y$=[];const Q$="breakpoint_phone_portrait";let J$=class extends s.ZP{get currentBreakpoint(){return c.uiStore.currentBreakpoint.id}get isMobile(){return c.uiStore.currentBreakpoint.id===Q$}toggleMobileBreakpoint(){const e=this.isMobile?c.configStore.breakpoints.find((e=>e.id===Ie.Wp)):c.configStore.breakpoints.find((e=>e.id===Q$));e&&(c.singularityStore.setCanvasZoom(!1),c.uiStore.changeBreakpoint(e))}};J$=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z}})],J$);const eW=J$,tW=eW;var nW=(0,N.Z)(tW,X$,Y$,!1,null,null,null);const sW=nW.exports;var iW=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-top-nav-mobile",class:{"is-active":e.isPreviewMode}},[t("IconButton",{attrs:{size:16,icon:"PlaySolidIcon",active:e.isPreviewMode},on:{click:e.togglePreviewMode}})],1)},oW=[];let aW=class extends s.ZP{get currentBreakpoint(){return c.uiStore.currentBreakpoint.id}get isPreviewMode(){return c.singularityStore.previewMode}togglePreviewMode(){c.singularityStore.togglePreviewMode()}};aW=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z}})],aW);const rW=aW,lW=rW;var cW=(0,N.Z)(lW,iW,oW,!1,null,null,null);const dW=cW.exports;var uW=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"signularity-top-nav-undo-redo"},[t("IconButton",{attrs:{disabled:!e.canUndo,icon:"UndoIconSolid",size:"16"},on:{click:e.undo}}),t("IconButton",{attrs:{disabled:!e.canRedo,icon:"RedoIconSolid",size:"16"},on:{click:e.redo}})],1)},pW=[];let hW=class extends s.ZP{mounted(){qe.uq.register(Ke.r.CMD_Z,this.undo),qe.uq.register(Ke.r.CMD_SHIFT_Z,this.redo)}get canUndo(){return c.snapshotStore.canUndo}get canRedo(){return c.snapshotStore.canRedo}undo(){this.canUndo&&Pe.n.undo()}redo(){this.canRedo&&Pe.n.redo()}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_Z),qe.uq.unbind(Ke.r.CMD_SHIFT_Z)}get builderMode(){return c.configStore.builderMode}};hW=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z,TopBarSection:hc}})],hW);const gW=hW,mW=gW;var vW=(0,N.Z)(mW,uW,pW,!1,null,null,null);const fW=vW.exports;var yW=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-top-nav-icon-button",class:{"is-active":e.isActive,"is-hidden":e.isMobile}},[t("IconButton",{attrs:{size:16,icon:"MinifyGlassIcon",active:e.isActive},on:{click:e.toggleZoomLevel}})],1)},bW=[];const SW="breakpoint_phone_portrait";let _W=class extends s.ZP{get isActive(){return c.singularityStore.canvasZoom}get isMobile(){return c.uiStore.currentBreakpoint.id===SW}toggleZoomLevel(){c.singularityStore.toggleCanvasZoom()}};_W=(0,r.gn)([(0,l.wA)({components:{IconButton:Ia.Z}})],_W);const xW=_W,CW=xW;var wW=(0,N.Z)(CW,yW,bW,!1,null,null,null);const PW=wW.exports;let IW=class extends s.ZP{constructor(){super(...arguments),this.primaryNav=[{panelState:"page_structure",name:"Build"},{panelState:"brand",name:"Brand"},{panelState:"page_manager",name:"Pages"}]}get singularityDebugPanelOpen(){return!!c.singularityStore.singularityUiState.singularityDebugPanel}get unsavedChangesPresent(){return c.uiStore.unsavedChangesPresent}get singularityUiState(){return c.singularityStore.singularityUiState}get isFullWidthState(){return"page_manager"===this.singularityUiState.singularityLeftPanel||"settings"===this.singularityUiState.singularityLeftPanel||"step1"===this.singularityUiState.singularityRightPanel||"publish"===this.singularityUiState.singularityLeftPanel}get isPageStructureOrBrandPanelOpen(){return"page_structure"===c.singularityStore.singularityUiState.singularityLeftPanel||"brand"===c.singularityStore.singularityUiState.singularityLeftPanel}toggleSingularityDebugPanel(){c.singularityStore.setSingularityDebugPanel(this.singularityDebugPanelOpen?null:"debug")}get frontendUrl(){return(0,hu.j)()}openFrontend(){const e=this.frontendUrl;e&&window.open(e,"_blank")}openPageStructure(){c.singularityStore.setSingularityLeftPanel("page_structure")}toggleAdvancedMode(){(0,Nr.Cr)()}};IW=(0,r.gn)([(0,l.wA)({components:{TopNav:I$,TopNavButton:W$,TopNavSave:j$,Dropdown:Jl.Z,IconButton:Ia.Z,TopNavToggleMobile:sW,TopNavPreviewMode:dW,TopNavUndoRedo:fW,TopNavToggleZoom:PW}})],IW);const kW=IW,EW=kW;var TW=(0,N.Z)(EW,O$,B$,!1,null,null,null);const DW=TW.exports;var AW=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-builder-canvas",class:{"is-mobile":e.isMobile,"is-zoomed-out":e.isZoomedOut}},[t("div",{staticClass:"singularity-browser-ui"},[e._m(0),t("IframeCanvas",{on:{loaded:function(t){return e.$emit("loaded")}}})],1)])},ZW=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-browser-ui__panel"},[t("div",{staticClass:"singularity-browser-ui__dots"},[t("span"),t("span"),t("span")])])}];let MW=class extends s.ZP{get isMobile(){return c.uiStore.currentBreakpoint.id===Q$}get isZoomedOut(){return!this.isMobile&&c.singularityStore.canvasZoom}};MW=(0,r.gn)([(0,l.wA)({components:{IframeCanvas:Al}})],MW);const OW=MW,BW=OW;var LW=(0,N.Z)(BW,AW,ZW,!1,null,null,null);const NW=LW.exports;var RW=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-wp-page-manager"},[t("div",{staticClass:"singularity-wp-page-manager__wrapper"},[t("div",{staticClass:"singularity-wp-page-manager__header"},[t("h1",{staticClass:"singularity-wp-page-manager__header-title"},[e._v("Settings")]),t("TopNavSave")],1),t("div",{staticClass:"singularity-settings__content"},[t("div",{staticClass:"settings-section"},[t("h2",[e._v("Site Information")]),t("div",{staticClass:"settings-form"},[t("TextInput",{staticClass:"settings-input",attrs:{label:"Site Title",placeholder:"Enter your site title"},on:{blur:e.saveSettings},model:{value:e.aiSettings.title,callback:function(t){e.$set(e.aiSettings,"title",t)},expression:"aiSettings.title"}}),t("TextInput",{staticClass:"settings-input",attrs:{label:"Site Description",multiline:!0,placeholder:"Enter your site description"},on:{blur:e.saveSettings},model:{value:e.aiSettings.description,callback:function(t){e.$set(e.aiSettings,"description",t)},expression:"aiSettings.description"}})],1)])])])])},FW=[];let VW=class extends s.ZP{constructor(){super(...arguments),this.aiSettings={title:"",description:""},this.saveInProgress=!1}mounted(){this.aiSettings=(0,E$.Np)()}async saveSettings(){this.saveInProgress=!0,await(0,E$.ZT)(this.aiSettings),this.saveInProgress=!1}};VW=(0,r.gn)([(0,l.wA)({components:{TextInput:Oo.Z,TopNavSave:j$}})],VW);const $W=VW,WW=$W;var UW=(0,N.Z)(WW,RW,FW,!1,null,null,null);const zW=UW.exports,HW=!1,GW=1e3;let qW=!1;function KW(...e){HW&&console.log(...e)}function jW(){return c.uiStore.unsavedChangesPresent}async function XW(){c.uiStore.isSingularityMode&&(c.uiStore.saveInProgress?KW("Save in progress, skipping autosave."):jW()?(KW("Unsaved changes detected, performing autosave."),c.uiStore.inlineEditingContext?.elementId&&(KW("Inline editing context detected, triggering inline editor save."),await(0,wr.PF)(c.uiStore.inlineEditingContext.elementId)),await(0,ul.$)()):KW("No unsaved changes present, skipping autosave."))}function YW(){qW?KW("Autosave service already started, skipping initialization."):(setInterval(XW,GW),qW=!0,KW("Autosave service started with interval:",GW))}let QW=class extends s.ZP{get singularityUiState(){return c.singularityStore.singularityUiState}get isSectionLibraryModalOpen(){return c.singularityStore.isSectionLibraryModalOpen}mounted(){YW()}closeSectionLibraryModal(){c.singularityStore.setSectionLibraryModalState(!1)}get isPreviewMode(){return c.singularityStore.previewMode}get isFullWidthState(){return"settings"===this.singularityUiState.singularityLeftPanel||"step1"===this.singularityUiState.singularityRightPanel||"publish"===this.singularityUiState.singularityLeftPanel}get classes(){return{"singularity--builder":!this.isFullWidthState,"singularity--full-width":this.isFullWidthState,[this.singularityUiState.singularityLeftPanel?`singularity--${this.singularityUiState.singularityLeftPanel}`:""]:!0,"singularity--preview-mode":this.isPreviewMode}}};QW=(0,r.gn)([(0,l.wA)({components:{Step1:M$,SingularityCanvas:NW,SingularityLeftPanelNew:FV,TopNavBuilder:DW,SingularityDebugPanel:qV,WPPageManagerNew:ZN,Settings:zW,SingularitySectionLibraryModal:ar}})],QW);const JW=QW,eU=JW;var tU=(0,N.Z)(eU,KV,jV,!1,null,null,null);const nU=tU.exports;let sU=class extends s.ZP{constructor(){super(...arguments),this.showTemplateDialog=!1}mounted(){c.uiStore.hasFullAccess&&(0,Ke.c)().register()}beforeDestroy(){(0,Ke.c)().unbind(),(0,So.uV)().unbind()}get classList(){return{[`has-permission:${this.permission}`]:!0,["no-top-bar"]:this.isSingularityMode}}get isPreviewMode(){return c.uiStore.isPreviewMode}get preferencesModalOpen(){return c.uiStore.panelState.preferencesModalOpen}get elementStudioOpen(){return c.uiStore.panelState.elementStudioOpen}get singularityUiState(){return c.singularityStore.singularityUiState}get isSingularityMode(){return c.uiStore.isSingularityMode}updatePreferencesModal(e){c.uiStore.setPreferencesModalOpen(e)}get keyboardShortcutsHelpModalOpen(){return c.uiStore.panelState.keyboardShortcutsHelpModalOpen}updateKeyboardShortcutsHelpModal(e){c.uiStore.setKeyboardShortcutHelpModalOpen(e)}get activeElementId(){return c.uiStore.activeElementId}get leftSidebarPanelState(){return c.uiStore.panelState.leftSidebarPanel}get rightSidebarPanelState(){return c.uiStore.panelState.rightSidebarPanel}get permission(){return c.configStore.permission?.slug}onIframeLoaded(){requestIdleCallback((()=>{(0,pl.gn)()})),this.isRenderedWithTemplate()&&!this.containsTemplateContentArea&&(this.showTemplateDialog=!0),(0,So.uV)().register()}get showInvalidPostDialog(){return!!c.configStore.invalidPostData}isRenderedWithTemplate(){return null!==window.Breakdance?.canvas?.document?.querySelector("[data-rendered-with-template]")}getTemplateAttribute(e){if(!this.isRenderedWithTemplate())return null;const t=window.Breakdance?.canvas?.document?.querySelector("[data-rendered-with-template]");return t?.getAttribute(e)}get templateName(){return this.getTemplateAttribute("data-template-name")??""}get templateId(){const e=this.getTemplateAttribute("data-template-id");return e?parseInt(e):null}get isTemplateFallback(){return"true"===this.getTemplateAttribute("data-template-is-fallback")}get templatesPageUrl(){return this.getTemplateAttribute("data-template-page-url")}get containsTemplateContentArea(){return null!==window.Breakdance?.canvas?.document?.querySelector(".bde-themeless-template-content-area")}get builderMode(){return c.configStore.builderMode}get singularityModeStep1(){return this.isSingularityMode&&"step1"===this.singularityUiState.singularityRightPanel}};sU=(0,r.gn)([(0,l.wA)({components:{ComponentRootTagWarning:OM,PreviewModeCloseButton:$M,FirstTimeVisit:kM,DesignLibraryModal:Mw,InvalidPostDialog:SM,TemplateDialog:hM,ClosingConfirmations:aM,IframeCanvasWrapper:Ll,BuilderTopBar:yp,PreferencesModal:Tg,ElementStudio:h_,KeyboardShortcutsHelpModal:Lg,SidebarPanels:GZ,ConfirmDialog:Vp,AppLayout:JZ,SingularityDebugPanel:qV,SingularityLeftPanelNew:FV,Singularity:nU}})],sU);const iU=sU,oU=iU;var aU=(0,N.Z)(oU,m,v,!1,null,null,null);const rU=aU.exports;var lU=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h1",[e._v("Unrecoverable Errors")]),e._l(e.errors,(function(n,s){return t("div",{key:s,staticClass:"unrecoverable-errors"},[e._v(" "+e._s(n)+" ")])}))],2)},cU=[];let dU=class extends s.ZP{get errors(){return c.uiStore.unrecoverableErrorMessages}};dU=(0,r.gn)([l.wA],dU);const uU=dU,pU=uU;var hU=(0,N.Z)(pU,lU,cU,!1,null,null,null);const gU=hU.exports;var mU=n(90878);let vU=class extends s.ZP{constructor(){super(...arguments),this.broadcastChannel=null}async beforeMount(){if("builder"===window.Breakdance.initialMode){const e=await(0,pl.Dl)(window.Breakdance.initialDocumentToLoadId);(0,pl.PX)(e)}this.broadcastChannel=(0,mU.a)()}beforeDestroy(){this.broadcastChannel&&this.broadcastChannel.close()}get interfaceState(){return c.uiStore.interfaceState}get errorsPresent(){return c.uiStore.unrecoverableErrorMessages.length}get currentDocumentMetaId(){return c.documentStore.document.documentMeta.id}get builderMode(){return c.configStore.builderMode}handleCurrentDocumentChange(e){const t=[g()(this.builderMode||"")];if(e!==NP.VY){const e=(0,yl.aV)(c.documentStore.document.documentMeta.titleLabel);t.push(e)}window.document.title=t.join(" | ")}get unsavedChangesPresent(){return c.uiStore.unsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestClosingConfirmation():this.removeClosingConfirmation()}requestClosingConfirmation(){c.uiStore.requestClosingConfirmation({subject:"builder",confirmationDefinition:{title:"You must save your changes first",actionText:"Save and continue",type:"warning",hasCancel:!0,hasDiscard:!1}})}removeClosingConfirmation(){c.uiStore.noClosingConfirmationIsNeededFor("builder")}get confirmationChosenOption(){return c.uiStore.closingConfirmations.builder?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(this.removeClosingConfirmation(),(0,Xw.w7)()):"save"===e&&(c.uiStore.setClosingConfirmationIsSaving({subject:"builder",isSaving:!0}),(0,Ic.pipe)(await(0,ul.$)(),(0,kc.fold)((()=>{c.uiStore.setClosingConfirmationIsSaving({subject:"builder",isSaving:!1})}),(()=>{this.removeClosingConfirmation(),(0,Xw.w7)()}))))}};(0,r.gn)([(0,l.RL)("currentDocumentMetaId")],vU.prototype,"handleCurrentDocumentChange",null),(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],vU.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],vU.prototype,"handleConfirmationChosenOptionChange",null),vU=(0,r.gn)([(0,l.wA)({components:{BuilderLayout:rU,Loading:bl.Z,UnrecoverableErrors:gU}})],vU);const fU=vU,yU=fU;var bU=(0,N.Z)(yU,u,p,!1,null,null,null);const SU=bU.exports;var _U=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["normal"===e.interfaceState?t("AppLayout",{scopedSlots:e._u([{key:"topbar",fn:function(){return[t("TopBar",[t("TopBarSection",[t("div",{staticClass:"browse-mode-address-bar"},[t("h2",[e._v("Viewing Page")]),t("a",{staticClass:"ellipsis-text breakdance-browse-mode__url-to-display",attrs:{title:e.iframeUrlToDisplay,href:e.iframeUrlToDisplay,target:"_blank"}},[e._v(" "+e._s(e.iframeUrlToDisplay)+" ")])])]),t(Nl.Z),t("TopBarSection",{attrs:{"border-left":"true","border-right":"true"}},[t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t(Nl.Z),t("UndoRedo"),t("TopBarSection",{attrs:{"border-left":"true"}},[t("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{active:e.isAnyBrowseModeSupportedPanelOpen,size:"18",icon:"EllipsisStrokeIcon"}},n))]}}],null,!1,2694485179)},[t(Kl.Z,[t(jl.Z,{attrs:{dense:""},on:{click:e.toggleGlobalSettingsPanel}},[t(Xl.V9,[e._v(" Global Settings ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.toggleSelectorsPanel}},[t(Xl.V9,[e._v(" Selectors ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.togglePresetsPanel}},[t(Xl.V9,[e._v(" Design Presets ")])],1),t(jl.Z,{attrs:{dense:""},on:{click:e.toggleHistoryAndRevisionsPanel}},[t(Xl.V9,[e._v(" History ")])],1)],1)],1)],1),t("TopBarSection",{attrs:{borderLeft:!0}},[t("BrowseModeSave")],1),t("TopBarSection",{attrs:{"border-left":"true"}},[t("IconButton",{attrs:{icon:"ArrowLeftIcon",size:"18"},on:{click:e.exitBrowseMode}})],1)],1)]},proxy:!0},{key:"body",fn:function(){return[t("ClosingConfirmations"),t("BrowseModeSidebarPanels",{attrs:{"panel-state":e.leftSidebarPanelState,position:"left"}}),t("IframeWrapper",{attrs:{"iframe-state":e.iframeState,"iframe-url":e.iframeUrl,"iframe-preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,"iframe-exited":!1,"iframe-id":e.iframeID,"min-width":e.iframeMinWidth},on:{iframeLoaded:e.handleIframeLoaded,previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,resetPreviewWidth:e.handleResetPreviewWidth}}),t("BrowseModeSidebarPanels",{attrs:{"panel-state":e.rightSidebarPanelState,position:"right"}})]},proxy:!0}],null,!1,4123666753)}):"loading"===e.interfaceState?t("Loading"):e._e()],1)},xU=[],CU=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},["globalSettings"===e.panelState?t("GlobalSettingsPanel"):e._e(),"selectors"===e.panelState?t("SelectorsPanel"):e._e(),"history"===e.panelState?t("HistoryAndRevisionsPanel",{attrs:{"disable-revisions":!0}}):e._e(),"presets"===e.panelState?t("PresetsPanel"):e._e()],1)},wU=[];let PU=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],PU.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],PU.prototype,"panelState",void 0),PU=(0,r.gn)([(0,l.wA)({components:{HistoryAndRevisionsPanel:oE,AppLayoutBodyPanelArea:pE,GlobalSettingsPanel:sI,SelectorsPanel:JI,PresetsPanel:lD}})],PU);const IU=PU,kU=IU;var EU=(0,N.Z)(kU,CU,wU,!1,null,null,null);const TU=EU.exports;var DU=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80"},on:{click:e.save}},[e._v(" Save ")])},AU=[];let ZU=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1}get unsavedChangesPresent(){return c.uiStore.unsavedChangesPresent}async save(){this.saveInProgress=!0,await(0,UP.T)(),await(0,uI.zF)(),this.saveInProgress=!1}mounted(){qe.uq.register(Ke.r.CMD_S,this.save)}beforeDestroy(){qe.uq.unbind(Ke.r.CMD_S)}};ZU=(0,r.gn)([(0,l.wA)({components:{StandardButton:ol}})],ZU);const MU=ZU,OU=MU;var BU=(0,N.Z)(OU,DU,AU,!1,null,null,null);const LU=BU.exports;let NU=class extends s.ZP{constructor(){super(...arguments),this.iframeID="breakdance-browser-iframe",this.iframeDocument=null,this.broadcastChannel=null}async beforeMount(){if("browse"===window.Breakdance.initialMode){const e=await(0,pl.x2)();(0,pl.Oc)(e,{returnUrl:window.Breakdance.returnUrl,browseModeOpenUrl:window.Breakdance.browseModeOpenUrl})}this.broadcastChannel=(0,mU.a)()}get interfaceState(){return c.uiStore.interfaceState}mounted(){this.warnIfUnsavedFunction=(0,Wl.$)((()=>c.globalStore.settingsHasUnsavedChangesPresent||c.globalStore.selectorsHasUnsavedChangesPresent))}beforeDestroy(){(0,Wl.e)(this.warnIfUnsavedFunction),this.broadcastChannel&&this.broadcastChannel.close()}handleIframeLoaded(e){if(!e)throw this.iframeDocument=null,"Unable to proceed  iframe element is missing";this.iframeDocument=(0,Xw.RL)(e)}handlePreviewWidthChange(e){c.uiStore.changePreviewWidthMutation(e)}handlePreviewWidthChangeWithAdjustmentBar(e){c.uiStore.changePreviewWidthWithAdjustmentBar(e)}handleResetPreviewWidth(){c.uiStore.selectBaseBreakpoint()}get iframeUrl(){return c.browseModeStore.iframeUrl}get iframeState(){return c.browseModeStore.iframeState}get iframeDocumentTitleToDisplay(){return c.browseModeStore.iframeDocumentTitleToDisplay}get iframeUrlToDisplay(){return c.browseModeStore.iframeUrlToDisplay}get iframePreviewWidth(){return c.uiStore.canvasPreviewWidth}get iframeMinWidth(){return(0,Ie.GV)(c.globalStore)}get leftSidebarPanelState(){return c.uiStore.panelState.leftSidebarPanel}get rightSidebarPanelState(){return c.uiStore.panelState.rightSidebarPanel}get globalProperties(){return c.globalStore.globalProperties}get selectors(){return c.globalStore.cssSelectors}get presets(){return c.globalStore.presets}get oxySelectors(){return c.globalStore.oxySelectors}get isAnyBrowseModeSupportedPanelOpen(){return(0,iu.O_)("globalSettings")||(0,iu.O_)("selectors")||(0,iu.O_)("history")}get currentBreakpoint(){return c.uiStore.currentBreakpoint}set currentBreakpoint(e){c.uiStore.changeBreakpoint(e)}exitBrowseMode(){(0,Xw.os)()}toggleGlobalSettingsPanel(){(0,iu._y)("globalSettings")}toggleSelectorsPanel(){(0,iu._y)("selectors")}togglePresetsPanel(){(0,iu._y)("presets")}toggleHistoryAndRevisionsPanel(){(0,iu.oM)("history")}handleCurrentDocumentChange(){(0,Xw.r1)()}onGlobalSettingsChanged(){this.iframeDocument&&(0,br.TK)(this.iframeDocument)}onSelectorsChanged(){this.iframeDocument&&(0,br.EO)(this.iframeDocument)}onPresetsChanged(){this.iframeDocument&&(0,br.aL)(this.iframeDocument)}onOxySelectorsChanged(){this.iframeDocument&&(0,Sr.V)(this.iframeDocument)}};(0,r.gn)([(0,l.RL)("iframeDocumentTitleToDisplay",{immediate:!0})],NU.prototype,"handleCurrentDocumentChange",null),(0,r.gn)([(0,l.RL)("globalProperties",{deep:!0,immediate:!0})],NU.prototype,"onGlobalSettingsChanged",null),(0,r.gn)([(0,l.RL)("selectors",{deep:!0,immediate:!0})],NU.prototype,"onSelectorsChanged",null),(0,r.gn)([(0,l.RL)("presets",{deep:!0,immediate:!0})],NU.prototype,"onPresetsChanged",null),(0,r.gn)([(0,l.RL)("oxySelectors",{deep:!0,immediate:!0})],NU.prototype,"onOxySelectorsChanged",null),NU=(0,r.gn)([(0,l.wA)({components:{UndoRedo:yc,BrowseModeSave:LU,BrowseModeSidebarPanels:TU,BreakpointsSelection:ic,Icon:He.Z,StandardButton:ol,IframeWrapper:Il,TopBarSection:hc,AppLayoutBodyPanelArea:pE,TopBar:Bu,AppLayout:JZ,IconButton:Ia.Z,ClosingConfirmations:aM,Dropdown:Jl.Z,Loading:bl.Z}})],NU);const RU=NU,FU=RU;var VU=(0,N.Z)(FU,_U,xU,!1,null,null,null);const $U=VU.exports;async function WU(e){if(e.origin!==window.location.origin)return void console.warn("Message received from untrusted origin:",e.origin);const t=e.data,{id:n,type:s,payload:i}=t;if("REQUEST"===s&&n&&i?.action)try{switch(i.action){case"saveDocumentToWordPress":await(0,ul.$)();break;case"updateGlobalSettingsPerPath":Pe.n.ignore((async()=>{c.globalStore.updateGlobalSettingsPerPath(i.data)}));break;case"updateBreakpoint":Pe.n.ignore((async()=>{c.uiStore.changeBreakpoint(i.data.breakpoint)}));break;case"importSectionFromOnboarding":(0,Ea.AE)([i.data.sectionTree],"pasting",{},{mode:"replace",targetElementId:c.uiStore.activeElementId||i.data.targetElementId});break;case"onboardingActivateElement":Pe.n.ignore((async()=>{c.uiStore.activateElement(i.data.elementId)}));break;case"updateSectionPrompt":c.documentStore.unthrottledPropertyChanged({elementId:i.data.elementId,path:"meta.promptInfo.sectionDescription",meta:{snapshotLabel:"Updated prompt info for element"},value:i.data.sectionDescription}),await(0,Et.H2)(i.data.elementId);break;case"shuffleSection":(0,Nt.R4)(i.data.elementId);break;case"toggleSectionColors":(0,bt.x3)(i.data.elementId,i.data.colorGroup);break;default:throw new Error(`Unknown action: ${i.action}`)}const t={activeElementId:c.uiStore.activeElementId,document:c.documentStore.document};window.parent.postMessage({id:n,type:"RESPONSE",payload:{success:!0,payload:t}},e.origin)}catch(o){window.parent.postMessage({id:n,type:"RESPONSE",payload:{success:!1,error:o.message||"Unknown iframe error"}},e.origin)}}var UU=n(41720);let zU=class extends s.ZP{beforeMount(){window.Breakdance.singularity?((0,Nr.VH)(),"step1"===window.Breakdance.singularity?(0,UU.B)("step1"):"step2"===window.Breakdance.singularity&&(0,UU.B)("step2")):c.uiStore.setMode({mode:window.Breakdance.initialMode})}mounted(){(0,Tt.K)("Builder Loaded",{subscriptionMode:window.Breakdance.subscriptionMode,builderMode:window.Breakdance.initialMode,theme:c.uiStore.settings.theme,url:location.href,title:document.title,viewport:{width:window.innerWidth,height:window.innerHeight}}),window.Breakdance.isOnboarding&&window.addEventListener("message",WU)}get isBrowseModeEnabled(){return"browse"===c.uiStore.mode?.mode}get useCustomScrollbar(){if("breakdance"===c.configStore.builderMode)return!1;const e=(0,Co.X)().toLowerCase();return/windows/.test(e)}get useThinScrollbar(){return"breakdance"!==c.configStore.builderMode&&!this.useCustomScrollbar}get useDarkMode(){return"oxygen"===c.configStore.builderMode||"dark"===c.uiStore.settings.theme}get isOnboardingMode(){return window.Breakdance.isOnboarding}get classList(){return{"breakdance-dark-mode":this.useDarkMode,"breakdance-preview-mode":this.isPreviewMode,"oxygen-custom-scrollbar":this.useCustomScrollbar,"oxygen-thin-scrollbar":this.useThinScrollbar,"breakdance-onboarding":this.isOnboardingMode}}get isPreviewMode(){return c.uiStore.isPreviewMode}darkModeWatcher(e){this.$vuetify.theme.dark=e}};(0,r.gn)([(0,l.RL)("useDarkMode",{immediate:!0})],zU.prototype,"darkModeWatcher",null),zU=(0,r.gn)([(0,l.wA)({components:{BrowseMode:$U,Builder:SU,Notifications:d.Z}})],zU);const HU=zU,GU=HU;var qU=(0,N.Z)(GU,o,a,!1,null,null,null);const KU=qU.exports;var jU=n(74604),XU=n(18082);s.ZP.config.productionTip=!1,s.ZP.config.ignoredElements=["lite-vimeo","lite-youtube"],s.ZP.directive("permission",jU.Z),s.ZP.use(XU.k,{getTranslations:XU.F}),new s.ZP({store:c["default"],vuetify:al.Z,render:e=>e(KU)}).$mount("#app")},59810:(e,t,n)=>{n.d(t,{kq:()=>i});var s=n(90889);function i(e,t={}){if(e){if("function"===typeof e)return e();const n=e.some((e=>"string"===typeof e)),s=n?[e]:e;return s.map((e=>a(e,t))).every(Boolean)}return!0}function o(e,t){const n=t?.[e]?.value;if((0,s.Hk)(n)){const e=(0,s.X_)(n);if(e?.value)return e.value}return n}function a(e,t){const[n,s,i]=e,a=o(n,t);return"=="===s&&a===i||("!="===s&&a!==i||(">"===s&&a>i||("<"===s&&a<i||(">="===s&&a>=i||("<="===s&&a<=i||(!("in"!==s||!i.includes(a))||("not in"===s&&!i.includes(a)||(!("contains"!==s||!a.includes(i))||("not contains"===s&&!a.includes(i)||(!("starts with"!==s||!a.startsWith(i))||!("ends with"!==s||!a.endsWith(i))))))))))))}},37156:(e,t,n)=>{n.d(t,{C:()=>p,G:()=>u});var s=n(85450),i=n(22218);function o(e){return""===e||null===e||void 0===e}function a(e){return"object"===typeof e&&null!==e&&"unit"in e&&"number"in e&&"style"in e}function r(e){return"object"===typeof e&&null!==e&&!a(e)}function l(e,t){return t>e?i.eV.AFTER:t===e?i.eV.CURRENT:i.eV.BEFORE}function c(e,t,n,s,i,a,l,d){for(const u in t){const p=`${e}.${u}`,h=t[u];if(r(h))for(const e in h){const t=Array.isArray(h)?`${p}[${e}]`:`${p}.${e}`,u=h[e];r(u)?c(t,u,n,s,i,a,l,d):o(u)||(s[t]={value:u,position:i,breakpoint:a,from:n,fromBreakpoint:d<l})}else o(h)||(s[p]={value:h,position:i,breakpoint:a,from:n,fromBreakpoint:d<l})}}function d(e,t,n,s,i,a,l){for(const d in e){const u=e[d];r(u)?c(d,u,t,n,s,i,a,l):o(u)||(n[d]={value:u,position:s,breakpoint:i,from:t,fromBreakpoint:l<a})}}function u(e,t,n){const i={},o=s.globalStore.oxySelectors.flatMap((e=>[e,...e.children||[]])),a=e.map((e=>{const t=o.find((t=>t.id===e));return t||null})).filter((e=>null!==e)),r=[...a].sort(((e,t)=>{const n=o.findIndex((t=>t.id===e.id)),s=o.findIndex((e=>e.id===t.id));return n-s})),c=r.findIndex((e=>e.id===t)),u=s.configStore.breakpointIds.findIndex((e=>e===n)),p=s.configStore.breakpointIds.slice(0,u+1);for(let s=0;s<r.length;s++){const e=r[s],t=l(c,s);for(let n=0;n<p.length;n++){const s=p[n],o=e.properties?.[s];o&&d(o,e.id,i,t,s,u,n)}}return i}function p(e,t){if(e){if("function"===typeof e)return e;const n=e.some((e=>"string"===typeof e));if(n){const[n,s,i]=e;return[[n.replace("[]",`[${t}]`),s,i]]}return e.map((e=>{const[n,s,i]=e;return[n.replace("[]",`[${t}]`),s,i]}))}return e}},24111:(e,t,n)=>{function s(e){const t=i(e);return{...e,children:e.children?.map((e=>{const n=e.name.includes("&")?e.name:`& ${e.name}`;return{...e,name:n.replace(/&/g,t)}}))}}function i(e){return"class"===e.type?`.${e.name}`:e.name}n.d(t,{I:()=>i,r:()=>s})},41836:(e,t,n)=>{n.d(t,{$Q:()=>v,Ap:()=>m,Ds:()=>g,u7:()=>f});var s=n(98851),i=n(3735),o=n(48973),a=n(51168),r=n(31044),l=n(65669),c=n(32521),d=n(95690),u=n(69137),p=n(17582);function h(e){u.n.transaction((()=>{const t=r.cr.variables;let n=t.length;for(let i=t.length-1;i>=0;i--)if(t[i].collection===e.collection){n=i+1;break}const s=[...t.slice(0,n),e,...t.slice(n)];r.cr.setVariables(s)}),"Add Variable")}function g(e){h(e),(0,d.O_)("variables")||v()}async function m(){const e=await(0,s.D)({action:"breakdance_load_variables",decoder:p.r6});return(0,i.zG)(e,(0,o.g_)((e=>((0,a.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(u.n.ignore((()=>{r.cr.setVariables(e.variables),r.cr.setVariablesCollections(e.collections),r.cr.markCurrentVariablesAsUntouched()})),!0))))}async function v(){return(0,i.zG)(await(0,s.D)({friendlyName:"Saving variables to WordPress",action:"breakdance_save_variables",dataToPost:{variables:(0,l.J)({variables:r.cr.variables,collections:r.cr.variablesCollections})},decoder:c._4}),(0,o.g_)((e=>((0,a.UE)(e),!1)),(()=>(u.n.ignore((()=>r.cr.markCurrentVariablesAsUntouched())),!0))))}async function f(){return(0,i.zG)(await(0,s.D)({action:"breakdance_retrieve_variables_revisions",decoder:p.SD}),(0,o.Vn)((()=>null)),o.i$)}},67132:(e,t,n)=>{n.d(t,{Qu:()=>a,rf:()=>r});var s=n(98851),i=n(48262),o=(n(9665),n(39664),n(65669));async function a(e){return await(0,s.D)({action:"breakdance_manage_templates_save",dataToPost:{id:e.id,title:e.title,postType:e.postType,settings:(0,o.J)(e.settings)},decoder:i.t0,resultKey:"data",friendlyName:"Save template"})}async function r(e){return await(0,s.D)({action:"breakdance_manage_templates_load_data",dataToPost:{post_type:e},decoder:i.YL,resultKey:"data",friendlyName:"Get templates data"})}},47187:(e,t,n)=>{n.d(t,{aA:()=>o});n(23128);var s=n(18446),i=n.n(s);function o(e,t,n){const s=e.find((e=>i()(e.settings,t)));return!s||confirm(`You already have a ${n} with the same settings called "${s.title}". Continue anyway?`)}},48262:(e,t,n)=>{n.d(t,{YL:()=>f,t0:()=>g});var s=n(99697),i=n(47902),o=n(32521),a=n(73336),r=n(20918);const l=o.jV([o.dt({slug:o.Z_,label:o.Z_}),o.r$({defaultPriority:o.pk})]),c=(o.IX(o.dt({text:o.Z_,value:o.pk})),o.IX(o.dt({label:o.Z_,types:o.IX(l)}))),d=o.r$({parentId:o.pk,type:o.Z_,ruleGroups:o.IX(s.ZQ),triggers:s.Gc,priority:o.pk,disabled:o.O7,fallback:o.O7,onlyShowOnce:o.O7,avoidMultiple:o.O7,limitPageLoad:o.G0([o.pk,o.lB]),limitSession:o.G0([o.pk,o.lB]),limitForever:o.G0([o.pk,o.lB])}),u=o.G0([o.i0(r.AZ),o.i0(r.lM),o.i0(r.kl),o.i0(r.Nn),o.i0(r.WZ),o.i0(r.$v),o.i0(r.hF),o.i0(r.Zr),o.i0("breakdance_popup"),o.i0("breakdance_acf_block")]),p=o.dt({id:o.pk,title:o.Z_,editInBreakdanceLink:o.Z_,postType:u,status:o.G0([o.i0("publish"),o.i0("trash"),o.S1])}),h=o.jV([p,o.dt({settings:o.G0([d,o.lB])})]),g=o.jV([p,o.dt({settings:d})]),m=o.dt({text:o.Z_,value:o.Z_,proOnly:o.G0([o.S1,o.O7])}),v=o.dt({conditions:o.IX(s.dV),dynamicFields:o.IX(i.pG),templateTypeCategories:c,popupTriggers:o.G0([o.lB,o.IX(m)])}),f=o.dt({templates:o.IX(h),templatesManagementData:v,isWooCommerceActive:o.O7,environment:a.Pt})},43981:(e,t,n)=>{n.d(t,{Z:()=>s});const s="form.breakdance-unbrowsable,\nform.breakdance-unbrowsable input,\nform.breakdance-unbrowsable select,\nform.breakdance-unbrowsable button,\na.breakdance-unbrowsable,\narea.breakdance-unbrowsable {\n    cursor: not-allowed !important;\n}"}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,s,i,o)=>{if(!s){var a=1/0;for(d=0;d<e.length;d++){for(var[s,i,o]=e[d],r=!0,l=0;l<s.length;l++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](s[l])))?s.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,i,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.j=143})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var i,o,[a,r,l]=s,c=0;if(a.some((t=>0!==e[t]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var d=l(n)}for(t&&t(s);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},s=globalThis["webpackChunkbuilder"]=globalThis["webpackChunkbuilder"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[998,64],(()=>n(27602)));s=n.O(s)})();
//# sourceMappingURL=app.bf4a19ad.js.map