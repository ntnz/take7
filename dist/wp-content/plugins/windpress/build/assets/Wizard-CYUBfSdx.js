import"./dist-gE_XXzPp.min.js";import{O,S as W,Xt as d,at as G,b as S,gt as w,ir as _,j as T,jn as y,k as o,s as K,v as U,vt as D,wt as q,xn as z,y as f}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import"./vue.runtime.esm-bundler-BlWQ9Hv9.min.js";import"./dist-CyCkKGye.min.js";import{n as F,t as R,v as J}from"./Button-DgwZaK7A.min.js";import"./log-BpAY2Wg4.js";import"./core-8AzxaLAT.min.js";import{i as V,o as X}from"./vue-router-D04l_ZRW.min.js";import{t as B}from"./Tooltip-8BMqxvlv.min.js";import"./namespaced-B-zXBPDg.min.js";import"./nullish-CIhdMTNW.min.js";import{t as H}from"./NavigationMenu-zVBF5NDS.min.js";import"./usePrimitiveElement-VQ4eLKTw.min.js";import"./useOverlay-HL-7cGpt.min.js";import"./floating-ui.core-BwRAMOlv.min.js";import"./Label-B229t_lK.min.js";import"./useToast-DGTAcHwR.min.js";import"./DashboardSidebarToggle-CAjPFrv6.min.js";import"./Modal-DIkGyv2s.min.js";import"./Popover-B9FrsX9q.min.js";import"./api-j1hi8yn9.js";import"./index.browser-DQZXIZaU.min.js";import{t as Q}from"./settings-EuhnKFOO.js";import"./isObject-DkMBgCmn.min.js";import"./_toKey-lf-76zFF.min.js";import"./_initCloneObject-7WDIrBbB.min.js";import"./set-D10waSiW.min.js";import"./get-CMyps7rf.min.js";import{r as Y,t as Z}from"./useFileAction-BQxNGo9Y.js";import"./virtualRef-CZBazqxr.js";import"./Input-CwtauoHz.min.js";import"./preload-helper-hRiy8xQv.min.js";import"./base64-F91Q3Zd1.min.js";import"./dist-DHrCA_qW.min.js";import"./lib-DdqEuSaZ.min.js";import"./dist-7RENR6RM.min.js";import"./path-browserify-QbCHt7ci.min.js";import"./vfs-Nkm45dX9.js";import{n as ee,t as N}from"./adobe-css-tools-Cq8Zs2rG.min.js";import"./dist-DNqxA4Wq.min.js";import{n as E,t as te}from"./DashboardNavbar-BRQwxYnM.min.js";import{t as ie}from"./DashboardSidebarCollapse-DN6G1xm0.min.js";import"./dayjs.min-BAjIZEkX.min.js";import"./FormField-3McXbx6Q.min.js";var I={color:{supportsNesting:!0},text:{supportsNesting:!0},font:{supportsNesting:!0,excludePatterns:["weight"]},spacing:{supportsNesting:!0},breakpoint:{supportsNesting:!0}},p={INITIAL_MARKER:"--*",SPACING_MULTIPLIER:"--spacing"};function L(r,i,a){let t=r;for(let n=0;n<i.length-1;n++){let s=i[n];t[s]?typeof t[s]=="string"&&(t[s]={$value:t[s]}):t[s]={},t=t[s]}let e=i[i.length-1];t[e]&&typeof t[e]=="object"&&t[e].$value===void 0||t[e]&&typeof t[e]=="object"&&t[e].$value!==void 0?t[e].$value=a:t[e]=a}function g(r,i){let a=[];for(let[t,e]of Object.entries(r))if(typeof e=="string")e&&e.trim()!==""&&a.push({property:`--${i}-${t}`,value:e});else if(typeof e=="object"&&e){let n=e;if("$value"in n&&typeof n.$value=="string"){n.$value&&n.$value.trim()!==""&&a.push({property:`--${i}-${t}`,value:n.$value});let s={...n};if(delete s.$value,Object.keys(s).length>0){let l=g(s,`${i}-${t}`);a.push(...l)}}else{let s=g(e,`${i}-${t}`);a.push(...s)}}return a}function h(r,i,a){let t=r.findIndex(e=>e.property===i);if(!a||a.trim()===""){t!==-1&&r.splice(t,1);return}t===-1?r.push({type:"declaration",property:i,value:a}):r[t].value=a}function re(r,i){var t;let a=I[r];return!a||!("excludePatterns"in a)?!1:((t=a.excludePatterns)==null?void 0:t.some(e=>i.startsWith(e)))??!1}function P(){return{namespaces:{color:{},text:{},font:{},spacing:{},breakpoint:{}}}}function se(r){var a;let i=P();i.source=r;try{let t=ee(r);if(i.ast=t,(a=t.stylesheet)==null?void 0:a.rules){for(let e of t.stylesheet.rules)if(e.type==="rule"&&e.selectors){let n=e.selectors.find(s=>s.startsWith("@theme"));if(n){if(n==="@theme static"&&(i.isStatic=!0),e.declarations)for(let s of e.declarations)s.type==="declaration"&&s.property.startsWith("--")&&ae(i,s.property,s.value);break}}}}catch(t){console.error("Error parsing CSS:",t)}return i}function ae(r,i,a){if(i===p.INITIAL_MARKER&&a==="initial"){r.isInitial=!0;return}if(i===p.SPACING_MULTIPLIER){r.spacing=a;return}let t=i.match(/^--([^-]+)-(.+)$/);if(!t)return;let[,e,n]=t;if(e in I&&!re(e,n))if(e==="breakpoint"){let s=n.split("-");L(r.namespaces.breakpoint,s,a)}else{let s=n.split("-");L(r.namespaces[e],s,a)}}function A(r,i){let{namespaces:a}=r;Object.entries(a).forEach(([t,e])=>{!e||Object.keys(e).length===0||g(e,t).forEach(({property:n,value:s})=>{h(i,n,s)})})}function ne(r){try{return r.ast?le(r):oe(r)}catch(i){return console.error("Error stringifying theme:",i),""}}function le(r){var a;let i=JSON.parse(JSON.stringify(r.ast));if((a=i.stylesheet)!=null&&a.rules){for(let t of i.stylesheet.rules)if(t.type==="rule"&&t.selectors&&t.selectors.find(e=>e.startsWith("@theme"))){t.selectors=[r.isStatic?"@theme static":"@theme"];let e=[...t.declarations||[]];r.isInitial?h(e,p.INITIAL_MARKER,"initial"):h(e,p.INITIAL_MARKER,""),r.spacing?h(e,p.SPACING_MULTIPLIER,r.spacing):h(e,p.SPACING_MULTIPLIER,""),A(r,e);let n=new Set;r.isInitial&&n.add(p.INITIAL_MARKER),r.spacing&&n.add(p.SPACING_MULTIPLIER),Object.entries(r.namespaces).forEach(([s,l])=>{l&&Object.keys(l).length>0&&g(l,s).forEach(({property:v})=>{n.add(v)})}),t.declarations=e.filter(s=>{if(s.type==="declaration"&&(!s.value||s.value.trim()===""))return!1;if(s.type!=="declaration"||!s.property.startsWith("--"))return!0;let l=s.property.match(/^--([^-]+)-/);return l&&l[1]in I?n.has(s.property):n.has(s.property)||!l});break}}return N(i)}function oe(r){let i=[];r.isInitial&&i.push({type:"declaration",property:p.INITIAL_MARKER,value:"initial"}),r.spacing&&i.push({type:"declaration",property:p.SPACING_MULTIPLIER,value:r.spacing}),A(r,i);let a=i.filter(e=>e.value&&e.value.trim()!==""),t={type:"stylesheet",stylesheet:{rules:[{type:"rule",selectors:[r.isStatic?"@theme static":"@theme"],declarations:a}]}};return N(t)}function pe(){return{getDefaultTheme:P,parseWizardFile:se,stringifyTheme:ne}}var ce={class:"flex flex-col items-center justify-center h-full p-8 text-center"},ue={class:"max-w-md mx-auto"},me={class:"text-2xl font-bold text-highlighted mb-4"},de={class:"text-dimmed mb-6 leading-relaxed"},fe={class:"space-y-4"},he={class:"text-sm text-dimmed"},ve=T({__name:"VersionRequirement",setup(r){return(i,a)=>{let t=J,e=R,n=F,s=E;return w(),S(s,{class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:d(()=>[f("div",ce,[f("div",ue,[o(t,{name:"lucide:info",class:"size-16 text-primary mx-auto mb-6"}),f("h2",me,_(y(wp.i18n.__)("Tailwind CSS v4 Required","windpress")),1),f("p",de,_(y(wp.i18n.__)("The Wizard feature is only available when using Tailwind CSS version 4. Please switch to Tailwind CSS v4 in your settings to access this feature.","windpress")),1),f("div",fe,[o(e,{label:y(wp.i18n.__)("Go to Settings","windpress"),color:"primary",icon:"lucide:settings",to:{name:"settings.general"}},null,8,["label"]),f("div",he,[o(n,{to:"https://wind.press/docs/guide/configuration/tailwind-version",target:"_blank",class:"underline hover:no-underline"},{default:d(()=>[O(_(y(wp.i18n.__)("Learn more about Tailwind version configuration","windpress")),1)]),_:1})])])])])]),_:1})}}}),ye=T({__name:"Wizard",setup(r){let i=Y(),a=Z(),t=pe(),e=X(),n=Q(),s=z(t.getDefaultTheme());D("theme",s);let l=U(()=>n.virtualOptions("general.tailwindcss.version",4).value===4);G(async()=>{var c;if(await Promise.all([i.initPull(),n.initPull()]),l.value){let u=((c=i.data.entries.find(m=>m.relative_path==="wizard.css"))==null?void 0:c.content)||"";u.includes("@theme")||(u+=`
@theme {

}`),s.value=t.parseWizardFile(u)}});function v(){let c=t.stringifyTheme(s.value),u=i.data.entries.find(m=>m.relative_path==="wizard.css");u?u.content=c:i.data.entries.push({name:"wizard.css",relative_path:"wizard.css",content:c,handler:"internal"}),a.save()}let b=z([[{label:wp.i18n.__("Namespaces","windpress"),type:"label"},{label:wp.i18n.__("Screens","windpress"),icon:"lucide:monitor-smartphone",to:e.resolve({name:"wizard.screens"})},{label:wp.i18n.__("Spacing","windpress"),icon:"lucide:align-horizontal-space-around",to:e.resolve({name:"wizard.spacing"})},{label:wp.i18n.__("Typography","windpress"),icon:"lucide:a-large-small",to:e.resolve({name:"wizard.typography"})},{label:wp.i18n.__("Colors","windpress"),icon:"lucide:swatch-book",to:e.resolve({name:"wizard.colors"})}],[{label:wp.i18n.__("Theme Configuration","windpress"),type:"label"},{label:wp.i18n.__("Theme Settings","windpress"),icon:"lucide:settings",to:e.resolve({name:"wizard.theme"})}]]);return V((c,u,m)=>{l.value&&v(),m()}),(c,u)=>{let m=ie,$=R,k=B,j=te,x=H,C=E,M=q("RouterView");return l.value?(w(),W(K,{key:1},[o(C,{id:"wizard-1","default-size":20,"min-size":15,"max-size":30,resizable:"",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:d(()=>[o(j,{title:c.i18n.__("Wizard","windpress"),class:"text-sm"},{leading:d(()=>[o(m)]),right:d(()=>[o(k,{text:c.i18n.__("Save the changes to wizard.css file","windpress")},{default:d(()=>[o($,{icon:"i-lucide-save",color:"primary",variant:"subtle",onClick:v})]),_:1},8,["text"])]),_:1},8,["title"]),o(x,{items:b.value[1],orientation:"vertical",class:"my-2"},null,8,["items"]),o(x,{items:b.value[0],orientation:"vertical"},null,8,["items"])]),_:1}),o(M)],64)):(w(),S(ve,{key:0}))}}});export{ye as default};
