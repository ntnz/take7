import{Bt as R,Ct as n,Dn as D,O as v,Pt as T,S as x,V as S,Xt as d,b as u,er as p,gt as o,ir as _,jn as l,k as A,nr as C,nt as E,v as F,x as i,y as U}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import{G as W,j as X,t as J,y as G}from"./Button-DgwZaK7A.min.js";import{_ as Q}from"./core-8AzxaLAT.min.js";import{a as Y,f as Z,y as I}from"./Tooltip-8BMqxvlv.min.js";import{a as ee,c as te,i as se,l as ae,n as le,o as K,r as M,s as oe}from"./useOverlay-HL-7cGpt.min.js";var ie={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},re={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:P}){let e=a,m=P,s=R(),{t:V}=X(),b=W(),z=I(Q(e,"open","defaultOpen","modal"),m),H=Y(D(()=>e.portal)),L=D(()=>e.content),N=F(()=>{let t={closeAutoFocus:r=>r.preventDefault()};return e.dismissible?t:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((r,h)=>(r[h]=f=>{f.preventDefault(),m("close:prevent")},r),t)}),c=F(()=>{var t;return G({extend:G(ie),...((t=b.ui)==null?void 0:t.modal)||{}})({transition:e.transition,fullscreen:e.fullscreen})});return(t,r)=>(o(),u(l(ae),C(S(l(z))),{default:d(({open:h,close:f})=>[s.default?(o(),u(l(le),{key:0,"as-child":"",class:p(e.class)},{default:d(()=>[n(t.$slots,"default",{open:h})]),_:2},1032,["class"])):i("",!0),A(l(se),C(S(l(H))),{default:d(()=>{var g,k;return[a.overlay?(o(),u(l(ee),{key:0,class:p(c.value.overlay({class:(g=e.ui)==null?void 0:g.overlay}))},null,8,["class"])):i("",!0),A(l(oe),E({class:c.value.content({class:[!s.default&&e.class,(k=e.ui)==null?void 0:k.content]})},L.value,{onAfterEnter:r[0]||(r[0]=y=>m("after:enter")),onAfterLeave:r[1]||(r[1]=y=>m("after:leave"))},T(N.value)),{default:d(()=>[s.content&&(a.title||s.title||a.description||s.description)?(o(),u(l(Z),{key:0},{default:d(()=>[a.title||s.title?(o(),u(l(M),{key:0},{default:d(()=>[n(t.$slots,"title",{},()=>[v(_(a.title),1)])]),_:3})):i("",!0),a.description||s.description?(o(),u(l(K),{key:1},{default:d(()=>[n(t.$slots,"description",{},()=>[v(_(a.description),1)])]),_:3})):i("",!0)]),_:3})):i("",!0),n(t.$slots,"content",{close:f},()=>{var y,q,w;return[s.header||a.title||s.title||a.description||s.description||e.close||s.close?(o(),x("div",{key:0,class:p(c.value.header({class:(y=e.ui)==null?void 0:y.header}))},[n(t.$slots,"header",{close:f},()=>{var B,$,O;return[U("div",{class:p(c.value.wrapper({class:(B=e.ui)==null?void 0:B.wrapper}))},[a.title||s.title?(o(),u(l(M),{key:0,class:p(c.value.title({class:($=e.ui)==null?void 0:$.title}))},{default:d(()=>[n(t.$slots,"title",{},()=>[v(_(a.title),1)])]),_:3},8,["class"])):i("",!0),a.description||s.description?(o(),u(l(K),{key:1,class:p(c.value.description({class:(O=e.ui)==null?void 0:O.description}))},{default:d(()=>[n(t.$slots,"description",{},()=>[v(_(a.description),1)])]),_:3},8,["class"])):i("",!0)],2),n(t.$slots,"actions"),e.close||s.close?(o(),u(l(te),{key:0,"as-child":""},{default:d(()=>[n(t.$slots,"close",{close:f,ui:c.value},()=>{var j;return[e.close?(o(),u(J,E({key:0,icon:a.closeIcon||l(b).ui.icons.close,color:"neutral",variant:"ghost","aria-label":l(V)("modal.close")},typeof e.close=="object"?e.close:{},{class:c.value.close({class:(j=e.ui)==null?void 0:j.close})}),null,16,["icon","aria-label","class"])):i("",!0)]})]),_:2},1024)):i("",!0)]})],2)):i("",!0),s.body?(o(),x("div",{key:1,class:p(c.value.body({class:(q=e.ui)==null?void 0:q.body}))},[n(t.$slots,"body",{close:f})],2)):i("",!0),s.footer?(o(),x("div",{key:2,class:p(c.value.footer({class:(w=e.ui)==null?void 0:w.footer}))},[n(t.$slots,"footer",{close:f})],2)):i("",!0)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:3},16))}};export{re as t};
