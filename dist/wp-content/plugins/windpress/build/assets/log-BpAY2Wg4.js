import{n as rt,t as k}from"./dist-gE_XXzPp.min.js";import{En as st,Gt as it,On as lt,W as ct,X as ut,cn as ft,dn as W,gn as pt,hn as X,pn as S,rt as dt,sn as B,v as ht,xn as D,yn as bt}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import{f as yt}from"./core-8AzxaLAT.min.js";import{n as vt}from"./index.browser-DQZXIZaU.min.js";rt();var I,T=t=>I=t,q=Symbol();function $(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var L;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(L||(L={}));var gt=typeof window<"u",G=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof k=="object"&&k.global===k?k:typeof globalThis=="object"?globalThis:{HTMLElement:null};function mt(t,{autoBom:n=!1}={}){return n&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function x(t,n,o){let e=new XMLHttpRequest;e.open("GET",t),e.responseType="blob",e.onload=function(){wt(e.response,n,o)},e.onerror=function(){console.error("could not download file")},e.send()}function J(t){let n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function A(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{let n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});t.dispatchEvent(n)}}var R=typeof navigator=="object"?navigator:{userAgent:""},C=/Macintosh/.test(R.userAgent)&&/AppleWebKit/.test(R.userAgent)&&!/Safari/.test(R.userAgent),wt=gt?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!C?Ot:"msSaveOrOpenBlob"in R?jt:Et:()=>{};function Ot(t,n="download",o){let e=document.createElement("a");e.download=n,e.rel="noopener",typeof t=="string"?(e.href=t,e.origin===location.origin?A(e):J(e.href)?x(t,n,o):(e.target="_blank",A(e))):(e.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(e.href)},4e4),setTimeout(function(){A(e)},0))}function jt(t,n="download",o){if(typeof t=="string")if(J(t))x(t,n,o);else{let e=document.createElement("a");e.href=t,e.target="_blank",setTimeout(function(){A(e)})}else navigator.msSaveOrOpenBlob(mt(t,o),n)}function Et(t,n,o,e){if(e||(e=open("","_blank")),e&&(e.document.title=e.document.body.innerText="downloading..."),typeof t=="string")return x(t,n,o);let i=t.type==="application/octet-stream",c=/constructor/i.test(String(G.HTMLElement))||"safari"in G,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&c||C)&&typeof FileReader<"u"){let u=new FileReader;u.onloadend=function(){let l=u.result;if(typeof l!="string")throw e=null,Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=l:location.assign(l),e=null},u.readAsDataURL(t)}else{let u=URL.createObjectURL(t);e?e.location.assign(u):location.href=u,e=null,setTimeout(function(){URL.revokeObjectURL(u)},4e4)}}var{assign:Pt}=Object;function _t(){let t=B(!0),n=t.run(()=>D({})),o=[],e=[],i=X({install(c){T(i),i._a=c,c.provide(q,i),c.config.globalProperties.$pinia=i,e.forEach(a=>o.push(a)),e=[]},use(c){return this._a?o.push(c):e.push(c),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return i}var Y=()=>{};function N(t,n,o,e=Y){t.push(n);let i=()=>{let c=t.indexOf(n);c>-1&&(t.splice(c,1),e())};return!o&&ft()&&pt(i),i}function w(t,...n){t.slice().forEach(o=>{o(...n)})}var kt=t=>t(),V=Symbol(),U=Symbol();function P(t,n){for(let o in t instanceof Map&&n instanceof Map?n.forEach((e,i)=>t.set(i,e)):t instanceof Set&&n instanceof Set&&n.forEach(t.add,t),n){if(!n.hasOwnProperty(o))continue;let e=n[o],i=t[o];$(i)&&$(e)&&t.hasOwnProperty(o)&&!S(e)&&!W(e)?t[o]=P(i,e):t[o]=e}return t}var St=Symbol();function Tt(t){return!$(t)||!Object.prototype.hasOwnProperty.call(t,St)}var{assign:y}=Object;function Lt(t){return!!(S(t)&&t.effect)}function At(t,n,o,e){let{state:i,actions:c,getters:a}=n,u=o.state.value[t],l;function b(){u||(o.state.value[t]=i?i():{});let v=lt(o.state.value[t]);return y(v,c,Object.keys(a||{}).reduce((g,m)=>(g[m]=X(ht(()=>{T(o);let h=o._s.get(t);return a[m].call(h,h)})),g),{}))}return l=z(t,b,n,o,e,!0),l}function z(t,n,o={},e,i,c){let a,u=y({actions:{}},o),l={deep:!0},b,v,g=[],m=[],h=e.state.value[t];!c&&!h&&(e.state.value[t]={}),D({});let H;function K(r){let s;b=v=!1,typeof r=="function"?(r(e.state.value[t]),s={type:L.patchFunction,storeId:t,events:void 0}):(P(e.state.value[t],r),s={type:L.patchObject,payload:r,storeId:t,events:void 0});let d=H=Symbol();dt().then(()=>{H===d&&(b=!0)}),v=!0,w(g,s,e.state.value[t])}let tt=c?function(){let{state:r}=o,s=r?r():{};this.$patch(d=>{y(d,s)})}:Y;function et(){a.stop(),g=[],m=[],e._s.delete(t)}let F=(r,s="")=>{if(V in r)return r[U]=s,r;let d=function(){T(e);let _=Array.from(arguments),j=[],M=[];function ot(f){j.push(f)}function at(f){M.push(f)}w(m,{args:_,name:d[U],store:p,after:ot,onError:at});let E;try{E=r.apply(this&&this.$id===t?this:p,_)}catch(f){throw w(M,f),f}return E instanceof Promise?E.then(f=>(w(j,f),f)).catch(f=>(w(M,f),Promise.reject(f))):(w(j,E),E)};return d[V]=!0,d[U]=s,d},nt={_p:e,$id:t,$onAction:N.bind(null,m),$patch:K,$reset:tt,$subscribe(r,s={}){let d=N(g,r,s.detached,()=>_()),_=a.run(()=>it(()=>e.state.value[t],j=>{(s.flush==="sync"?v:b)&&r({storeId:t,type:L.direct,events:void 0},j)},y({},l,s)));return d},$dispose:et},p=bt(nt);e._s.set(t,p);let O=(e._a&&e._a.runWithContext||kt)(()=>e._e.run(()=>(a=B()).run(()=>n({action:F}))));for(let r in O){let s=O[r];S(s)&&!Lt(s)||W(s)?c||(h&&Tt(s)&&(S(s)?s.value=h[r]:P(s,h[r])),e.state.value[t][r]=s):typeof s=="function"&&(O[r]=F(s,r),u.actions[r]=s)}return y(p,O),y(st(p),O),Object.defineProperty(p,"$state",{get:()=>e.state.value[t],set:r=>{K(s=>{y(s,r)})}}),e._p.forEach(r=>{y(p,a.run(()=>r({store:p,app:e._a,pinia:e,options:u})))}),h&&c&&o.hydrate&&o.hydrate(p.$state,h),b=!0,v=!0,p}/*! #__NO_SIDE_EFFECTS__ */function Q(t,n,o){let e,i=typeof n=="function";e=i?o:n;function c(a,u){let l=ct();return a||(a=l?ut(q,null):null),a&&T(a),a=I,a._s.has(t)||(i?z(t,n,e,a):At(t,e,a)),a._s.get(t)}return c.$id=t,c}function Z(){let t={id:"JqhEkI6VK0",timestamp:1742407548572,type:"debug",message:'Thank you for using WindPress! Join us on the Facebook Group: <a href="https://wind.press/go/facebook" target="_blank" class="underline">https://wind.press/go/facebook</a>',options:{raw:!0}},n=yt("windpress.dashboard.store.logs",[t]);function o(a){let u=vt(10);return n.value.push({id:u,timestamp:Date.now(),...a}),u}function e(a,u){let l=n.value.find(b=>b.id===a);l&&Object.assign(l,u)}function i(a,u="id"){switch(u){case"message":n.value=n.value.filter(l=>!l.message.includes(a));break;case"type":n.value=n.value.filter(l=>l.type!==a);break;case"group":n.value=n.value.filter(l=>l.group!==a);break;case"id":default:n.value=n.value.filter(l=>l.id!==a);break}}function c(){n.value=[],n.value.push(t)}return{logs:n,add:o,update:e,remove:i,clear:c}}const Rt=Q("log",()=>({...Z()}));export{Q as i,Rt as n,_t as r,Z as t};
