import{s as $}from"./chunk-BP1tGd43.min.js";import"./dist-gE_XXzPp.min.js";import{Gt as I,rt as u,xn as v}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import"./vue.runtime.esm-bundler-BlWQ9Hv9.min.js";import"./dist-CyCkKGye.min.js";import"./isObject-DkMBgCmn.min.js";import{t as z}from"./debounce-DmqvMdin.min.js";import{t as p}from"./preload-helper-hRiy8xQv.min.js";import"./dist-7RENR6RM.min.js";import{t as W}from"./logger-B3j_KY2M.js";import{n as H,t as V}from"./tippy.esm-CtRNZGHn.min.js";import{n as j,t as B}from"./dist-DNqxA4Wq.min.js";import{n as g,t as G}from"./highlight-in-textarea-By4lYHKb.js";import{t as X}from"./tribute.min-CuxQbPzU.min.js";import{n as f,r as q,t as r}from"./constant-au7B0x8B.js";(async()=>{var T=$(X()),w=null;(async()=>w=await j({themes:[p(()=>import("./dark-plus-DUxK4Phe.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url),p(()=>import("./light-plus-D1Qkc2mD.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url)],langs:[p(()=>import("./css-CZ_P402v.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url)],engine:B(p(()=>import("./wasm-AKcBxSw7.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url))}))();var s=document.createRange().createContextualFragment(`
    <textarea id="windpressoxygen-plc-input" class="windpressoxygen-plc-input" rows="2" spellcheck="false"></textarea>
`).querySelector("#windpressoxygen-plc-input"),y=document.createRange().createContextualFragment(`
    <div class="windpressoxygen-plc-action-container">
        <div class="actions">
        </div>
    </div>
`).querySelector(".windpressoxygen-plc-action-container"),F=y.querySelector(".actions"),b=document.createRange().createContextualFragment(`
        <span id="windpressoxygen-plc-class-sort" class="oxygen-svg-wrapper windpressoxygen-plc-class-sort">
            <svg  xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round" class="oxygen-svg icon icon-tabler icons-tabler-outline icon-tabler-reorder"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M17 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M5 11v-3a3 3 0 0 1 3 -3h8a3 3 0 0 1 3 3v3" /><path d="M16.5 8.5l2.5 2.5l2.5 -2.5" /></svg>    
        </span>
`).querySelector("#windpressoxygen-plc-class-sort");F.appendChild(b);var x=v(!1),h=v(null),_=null;g(s);var C=[];wp.hooks.addAction("windpressoxygen-autocomplete-items-refresh","windpressoxygen",()=>{C=wp.hooks.applyFilters("windpressoxygen-autocomplete-items",[],s.value)}),wp.hooks.doAction("windpressoxygen-autocomplete-items-refresh");var c=new T.default({containerClass:"windpressoxygen-tribute-container",autocompleteMode:!0,menuItemLimit:40,noMatchTemplate:"",values:async function(t,n){let e=await wp.hooks.applyFilters("windpressoxygen-autocomplete-items-query",C,t);n(e)},lookup:"value",itemClass:"class-item",menuItemTemplate:function(t){let n="";return t.original.color!==void 0&&(n+=`background-color: ${t.original.color};`),t.original.fontWeight!==void 0&&(n+=`font-weight: ${t.original.fontWeight};`),`
            <span class="class-name" data-tribute-class-name="${t.original.value}">${t.string}</span>
            <span class="class-hint" style="${n}"></span>
        `}});c.setMenuContainer=function(t){this.menuContainer=t};var N=c.events.callbacks;c.events.callbacks=function(){return{...N.call(this),up:(t,n)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();let e=this.tribute.current.filteredItems.length,i=this.tribute.menuSelected;e>i&&i>0?(this.tribute.menuSelected--,this.setActiveLi()):i===0&&(this.tribute.menuSelected=e-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight),A()}},down:(t,n)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();let e=this.tribute.current.filteredItems.length-1,i=this.tribute.menuSelected;e>i?(this.tribute.menuSelected++,this.setActiveLi()):e===i&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0),A()}}}},c.attach(s),new MutationObserver(function(t){x.value=!t[0].target.classList.contains("ng-hide")}).observe(document.querySelector(".oxygen-sidebar-currently-editing"),{attributes:!0,attributeFilter:["class"]});var O=r.activateComponent;r.activateComponent=function(t,n,e){O(t,n,e),h.value=r.component.active.id};function L(t){let n=r.component.active.id,e=r.component.active.name;if(n===0)return;let i=r.component.options[n];if(i.model===void 0)return;i.model["custom-attributes"]===void 0&&q.addCustomAttribute("plainclass",t);let a=i.model["custom-attributes"],o=a.find(l=>l.name==="plainclass");o?o.value=t:a.push({name:"plainclass",value:t}),r.component.options[n].model["custom-attributes"]=a,r.setOption(n,e,"custom-attributes"),r.applyCustomAttributes(n)}I([h,x],(t,n)=>{t[0]!==n[0]&&u(()=>{var a,o;let e=r.component.active.id;if(e===0)return;let i=r.component.options[e];i.model!==void 0&&(i.model["custom-attributes"]===void 0&&q.addCustomAttribute("plainclass",""),s.value=((o=(a=i.model["custom-attributes"])==null?void 0:a.find(l=>l.name==="plainclass"))==null?void 0:o.value)||"",E())}),t[0]&&t[1]&&u(()=>{let e=document.querySelector(".oxygen-sidebar-currently-editing");e.querySelector(".windpressoxygen-plc-input")===null&&(e.appendChild(y),window.tippy(".windpressoxygen-plc-class-sort",{content:"Automatic Class Sorting",animation:"shift-toward",placement:"right"}),e.appendChild(s),_=new G(s,{highlight:[{highlight:new RegExp("(?<=\\s|^)(?:(?!\\s).)+(?=\\s|$)","g"),className:"word"},{highlight:new RegExp("(?<=\\s)\\s","g"),className:"multispace",blank:!0}]}),g.update(s))})}),s.addEventListener("input",function(t){L(t.target.value)});function E(){u(()=>{try{_.handleInput()}catch{}g.update(s),c.hideMenu()})}s.addEventListener("highlights-updated",function(t){P()});var d=H(document.createElement("div"),{plugins:[V],allowHTML:!0,arrow:!1,duration:[500,0],followCursor:!0,trigger:"manual"});function P(){let t=document.querySelector(".hit-container");if(t===null)return;d.reference=t;async function n(a){let o=a.textContent,l=await f.contentWindow.windpress.module.classnameToCss.generate(o);if(l===null||l.trim()==="")return null;d.setContent(w.codeToHtml(l,{lang:"css",theme:"dark-plus"})),d.show()}let e=v(null),i=z(function(a){let o=a.clientX,l=a.clientY;e.value=document.elementsFromPoint(o,l).find(D=>D.matches('mark[class="word"]'))||null},10);t.addEventListener("mousemove",i),t.addEventListener("mouseleave",function(a){i.cancel(),e.value=null}),I(e,(a,o)=>{a&&a!==o?n(a):d.hide()})}var R=new MutationObserver(function(t){t.forEach(function(n){n.type==="childList"&&n.addedNodes.length>0&&n.addedNodes.forEach(e=>{e.addEventListener("mouseenter",i=>{let a=e.querySelector(".class-name").dataset.tributeClassName;k(a)}),e.addEventListener("mouseleave",i=>{S()}),e.addEventListener("click",i=>{S()})})})}),m=null;s.addEventListener("tribute-active-true",function(t){m===null&&(m=document.querySelector(".windpressoxygen-tribute-container>ul")),u(()=>{m&&R.observe(m,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})})}),b.addEventListener("click",async function(t){s.value=await f.contentWindow.windpress.module.classSorter.sort(s.value),L(s.value),E()});function k(t){M({action:"windpressoxygen-preview-class",do:"add",elementId:h.value,className:t})}function S(){M({action:"windpressoxygen-preview-class",do:"remove"})}function A(){u(()=>{let t=c.menu.querySelector("li.highlight>span.class-name");k(t.dataset.tributeClassName)})}function M(t){f.contentWindow.postMessage(t,"*")}W("Module loaded!",{module:"plain-classes"})})();
