import{s as E}from"./chunk-BP1tGd43.min.js";import"./dist-gE_XXzPp.min.js";import{Gt as v,rt as L,xn as f}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import"./vue.runtime.esm-bundler-BlWQ9Hv9.min.js";import"./dist-CyCkKGye.min.js";import"./isObject-DkMBgCmn.min.js";import{t as I}from"./debounce-DmqvMdin.min.js";import{t as c}from"./preload-helper-hRiy8xQv.min.js";import"./dist-7RENR6RM.min.js";import{t as T}from"./logger-B3j_KY2M.js";import{n as k,t as S}from"./tippy.esm-CtRNZGHn.min.js";import{n as C,t as M}from"./dist-DNqxA4Wq.min.js";import{n as g,t as P}from"./highlight-in-textarea-By4lYHKb.js";import{t as D}from"./tribute.min-CuxQbPzU.min.js";import{t as $}from"./constant-Cr6G0kc1.js";(async()=>{var w=E(D()),m=null;(async()=>m=await C({themes:[c(()=>import("./dark-plus-DUxK4Phe.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url),c(()=>import("./light-plus-D1Qkc2mD.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url)],langs:[c(()=>import("./css-CZ_P402v.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url)],engine:M(c(()=>import("./wasm-AKcBxSw7.min.js").then(async t=>(await t.__tla,t)),[],import.meta.url))}))();var a=document.querySelector('div#sidepanel>section[item-type="edit-properties"]>form>div.common-form-fields>div.common-form-fields-content textarea[attribute-name="class"]'),p=new P(a,{highlight:[{highlight:new RegExp("(?<=\\s|^)(?:(?!\\s).)+(?=\\s|$)","g"),className:"word"},{highlight:new RegExp("(?<=\\s)\\s","g"),className:"multispace",blank:!0}]});p.handleInput(),g(a);var d=[];wp.hooks.addAction("windpresslivecanvas-autocomplete-items-refresh","windpresslivecanvas",()=>{d=wp.hooks.applyFilters("windpresslivecanvas-autocomplete-items",[],a.value)}),wp.hooks.doAction("windpresslivecanvas-autocomplete-items-refresh");var s=new w.default({containerClass:"windpresslivecanvas-tribute-container",autocompleteMode:!0,menuItemLimit:50,noMatchTemplate:"",values:async function(t,e){let i=await wp.hooks.applyFilters("windpresslivecanvas-autocomplete-items-query",t,d);e(i)},lookup:"value",itemClass:"class-item",menuItemTemplate:function(t){let e="";return t.original.color!==void 0&&(e+=`background-color: ${t.original.color};`),t.original.fontWeight!==void 0&&(e+=`font-weight: ${t.original.fontWeight};`),`
            <span class="class-name" data-tribute-class-name="${t.original.value}">${t.string}</span>
            <span class="class-hint" style="${e}"></span>
        `}});s.setMenuContainer=function(t){this.menuContainer=t};var b=s.events.callbacks;s.events.callbacks=function(){return{...b.call(this),up:(t,e)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();let i=this.tribute.current.filteredItems.length,n=this.tribute.menuSelected;i>n&&n>0?(this.tribute.menuSelected--,this.setActiveLi()):n===0&&(this.tribute.menuSelected=i-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(t,e)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();let i=this.tribute.current.filteredItems.length-1,n=this.tribute.menuSelected;i>n?(this.tribute.menuSelected++,this.setActiveLi()):i===n&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}}}},s.attach(a);var h=f("");function _(){L(()=>{try{p.handleInput()}catch{}g.update(a),s.hideMenu()})}new MutationObserver(t=>{t.forEach(e=>{e.type==="attributes"&&e.attributeName==="selector"&&(h.value=e.target.getAttribute("selector"))})}).observe(document.querySelector('div#sidepanel>section[item-type="edit-properties"]'),{attributes:!0,attributeFilter:["selector"]}),v(h,(t,e)=>{t!==e&&_()}),a.addEventListener("highlights-updated",function(t){y()});var u=k(document.createElement("div"),{plugins:[S],allowHTML:!0,arrow:!1,duration:[500,0],followCursor:!0,trigger:"manual"});function y(){let t=document.querySelector(".hit-container");if(t===null)return;u.reference=t;async function e(r){let o=r.textContent,l=await $.contentWindow.windpress.module.classnameToCss.generate(o);if(l===null||l.trim()==="")return null;u.setContent(m.codeToHtml(l,{lang:"css",theme:"dark-plus"})),u.show()}let i=f(null),n=I(function(r){let o=r.clientX,l=r.clientY;i.value=document.elementsFromPoint(o,l).find(A=>A.matches('mark[class="word"]'))||null},10);t.addEventListener("mousemove",n),t.addEventListener("mouseleave",function(r){n.cancel(),i.value=null}),v(i,(r,o)=>{r&&r!==o?e(r):u.hide()})}T("Module loaded!",{module:"plain-classes"})})();
