import{rt as c,xn as m}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import{k as p}from"./Button-DgwZaK7A.min.js";function h(){let e=p("toasts",()=>[]),u=m(!1),l=[],i=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`;async function o(){if(!(u.value||l.length===0)){for(u.value=!0;l.length>0;){let t=l.shift();await c(),e.value=[...e.value,t].slice(-5)}u.value=!1}}function r(t){let a={id:i(),open:!0,...t};return l.push(a),o(),a}function s(t,a){let n=e.value.findIndex(d=>d.id===t);n!==-1&&(e.value[n]={...e.value[n],...a})}function v(t){let a=e.value.findIndex(n=>n.id===t);a!==-1&&(e.value[a]={...e.value[a],open:!1}),setTimeout(()=>{e.value=e.value.filter(n=>n.id!==t)},200)}function f(){e.value=[]}return{toasts:e,add:r,update:s,remove:v,clear:f}}export{h as t};
