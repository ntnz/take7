import{Ct as v,On as $,Sn as k,V as x,Xt as f,b as y,gt as m,hn as K,j as O,jn as o,k as F,nr as R,nt as g,ut as P,x as T,xn as B,yn as j}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import{b as C}from"./Button-DgwZaK7A.min.js";import{m as S}from"./core-8AzxaLAT.min.js";import{G as V,O as G,_ as E,b as _,g as I,m as N,p as U,x as w}from"./Tooltip-8BMqxvlv.min.js";import{E as M,S as z,_ as H,v as L,w as W}from"./namespaced-B-zXBPDg.min.js";var[q,X]=V("DialogRoot"),J=O({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(u,{emit:i}){let s=u,a=G(s,"open",i,{defaultValue:s.defaultOpen,passive:s.open===void 0}),l=B(),d=B(),{modal:c}=$(s);return X({open:a,modal:c,openModal:()=>{a.value=!0},onOpenChange:n=>{a.value=n},onOpenToggle:()=>{a.value=!a.value},contentId:"",titleId:"",descriptionId:"",triggerElement:l,contentElement:d}),(n,e)=>v(n.$slots,"default",{open:o(a),close:()=>a.value=!1})}}),Q=O({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(u){let i=u;_();let s=q();return(a,l)=>(m(),y(o(C),g(i,{type:a.as==="button"?"button":void 0,onClick:l[0]||(l[0]=d=>o(s).onOpenChange(!1))}),{default:f(()=>[v(a.$slots,"default")]),_:3},16,["type"]))}}),A=O({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:i}){let s=u,a=i,l=q(),{forwardRef:d,currentElement:c}=_();return l.titleId||(l.titleId=E(void 0,"reka-dialog-title")),l.descriptionId||(l.descriptionId=E(void 0,"reka-dialog-description")),P(()=>{l.contentElement=c,M()!==document.body&&(l.triggerElement.value=M())}),(n,e)=>(m(),y(o(L),{"as-child":"",loop:"",trapped:s.trapFocus,onMountAutoFocus:e[5]||(e[5]=t=>a("openAutoFocus",t)),onUnmountAutoFocus:e[6]||(e[6]=t=>a("closeAutoFocus",t))},{default:f(()=>[F(o(N),g({id:o(l).contentId,ref:o(d),as:n.as,"as-child":n.asChild,"disable-outside-pointer-events":n.disableOutsidePointerEvents,role:"dialog","aria-describedby":o(l).descriptionId,"aria-labelledby":o(l).titleId,"data-state":o(H)(o(l).open.value)},n.$attrs,{onDismiss:e[0]||(e[0]=t=>o(l).onOpenChange(!1)),onEscapeKeyDown:e[1]||(e[1]=t=>a("escapeKeyDown",t)),onFocusOutside:e[2]||(e[2]=t=>a("focusOutside",t)),onInteractOutside:e[3]||(e[3]=t=>a("interactOutside",t)),onPointerDownOutside:e[4]||(e[4]=t=>a("pointerDownOutside",t))}),{default:f(()=>[v(n.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Y=O({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:i}){let s=u,a=i,l=q(),d=w(a),{forwardRef:c,currentElement:n}=_();return z(n),(e,t)=>(m(),y(A,g({...s,...o(d)},{ref:o(c),"trap-focus":o(l).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:t[0]||(t[0]=r=>{var p;r.defaultPrevented||(r.preventDefault(),(p=o(l).triggerElement.value)==null||p.focus())}),onPointerDownOutside:t[1]||(t[1]=r=>{let p=r.detail.originalEvent,D=p.button===0&&p.ctrlKey===!0;(p.button===2||D)&&r.preventDefault()}),onFocusOutside:t[2]||(t[2]=r=>{r.preventDefault()})}),{default:f(()=>[v(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),Z=O({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:i}){let s=u,a=w(i);_();let l=q(),d=B(!1),c=B(!1);return(n,e)=>(m(),y(A,g({...s,...o(a)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:e[0]||(e[0]=t=>{var r;t.defaultPrevented||(d.value||((r=o(l).triggerElement.value)==null||r.focus()),t.preventDefault()),d.value=!1,c.value=!1}),onInteractOutside:e[1]||(e[1]=t=>{var p;t.defaultPrevented||(d.value=!0,t.detail.originalEvent.type==="pointerdown"&&(c.value=!0));let r=t.target;(p=o(l).triggerElement.value)!=null&&p.contains(r)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&c.value&&t.preventDefault()})}),{default:f(()=>[v(n.$slots,"default")]),_:3},16))}}),ee=O({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:i}){let s=u,a=i,l=q(),d=w(a),{forwardRef:c}=_();return(n,e)=>(m(),y(o(I),{present:n.forceMount||o(l).open.value},{default:f(()=>[o(l).modal.value?(m(),y(Y,g({key:0,ref:o(c)},{...s,...o(d),...n.$attrs}),{default:f(()=>[v(n.$slots,"default")]),_:3},16)):(m(),y(Z,g({key:1,ref:o(c)},{...s,...o(d),...n.$attrs}),{default:f(()=>[v(n.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),te=O({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(u){let i=u;_();let s=q();return(a,l)=>(m(),y(o(C),g(i,{id:o(s).descriptionId}),{default:f(()=>[v(a.$slots,"default")]),_:3},16,["id"]))}}),oe=O({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){let i=q();return W(!0),_(),(s,a)=>(m(),y(o(C),{as:s.as,"as-child":s.asChild,"data-state":o(i).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:f(()=>[v(s.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ae=O({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){let i=q(),{forwardRef:s}=_();return(a,l)=>{var d;return(d=o(i))!=null&&d.modal.value?(m(),y(o(I),{key:0,present:a.forceMount||o(i).open.value},{default:f(()=>[F(oe,g(a.$attrs,{ref:o(s),as:a.as,"as-child":a.asChild}),{default:f(()=>[v(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):T("v-if",!0)}}}),se=O({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(u){let i=u;return(s,a)=>(m(),y(o(U),R(x(i)),{default:f(()=>[v(s.$slots,"default")]),_:3},16))}}),re=O({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(u){let i=u,s=q();return _(),(a,l)=>(m(),y(o(C),g(i,{id:o(s).titleId}),{default:f(()=>[v(a.$slots,"default")]),_:3},16,["id"]))}}),le=O({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(u){let i=u,s=q(),{forwardRef:a,currentElement:l}=_();return s.contentId||(s.contentId=E(void 0,"reka-dialog-content")),P(()=>{s.triggerElement.value=l.value}),(d,c)=>(m(),y(o(C),g(i,{ref:o(a),type:d.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":o(s).open.value||!1,"aria-controls":o(s).open.value?o(s).contentId:void 0,"data-state":o(s).open.value?"open":"closed",onClick:o(s).onOpenToggle}),{default:f(()=>[v(d.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}});function ue(){let u=k([]),i=(e,t)=>{let{props:r,defaultOpen:p,destroyOnClose:D}=t||{},b=j({id:Symbol(import.meta.dev?"useOverlay":""),isOpen:!!p,component:K(e),isMounted:!!p,destroyOnClose:!!D,originalProps:r||{},props:{...r}});return u.push(b),{...b,open:h=>s(b.id,h),close:h=>a(b.id,h),patch:h=>c(b.id,h)}},s=(e,t)=>{let r=n(e);t?r.props={...r.originalProps,...t}:r.props={...r.originalProps},r.isOpen=!0,r.isMounted=!0;let p=new Promise(D=>r.resolvePromise=D);return Object.assign(p,{id:e,isMounted:r.isMounted,isOpen:r.isOpen,result:p})},a=(e,t)=>{let r=n(e);r.isOpen=!1,r.resolvePromise&&(r.resolvePromise=(r.resolvePromise(t),void 0))},l=()=>{u.forEach(e=>a(e.id))},d=e=>{let t=n(e);if(t.isMounted=!1,t.destroyOnClose){let r=u.findIndex(p=>p.id===e);u.splice(r,1)}},c=(e,t)=>{let r=n(e);r.props={...r.props,...t}},n=e=>{let t=u.find(r=>r.id===e);if(!t)throw Error("Overlay not found");return t};return{overlays:u,open:s,close:a,closeAll:l,create:i,patch:c,unmount:d,isOpen:e=>n(e).isOpen}}const ie=S(ue);export{ae as a,Q as c,se as i,J as l,le as n,te as o,re as r,ee as s,ie as t};
