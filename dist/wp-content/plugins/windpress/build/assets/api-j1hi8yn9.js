var b=(function f(d){function l(t,r,i){var o,u={};if(Array.isArray(t))return t.concat(r);for(o in t)u[i?o.toLowerCase():o]=t[o];for(o in r){var c=i?o.toLowerCase():o,a=r[o];u[c]=c in u&&typeof a=="object"?l(u[c],a,c=="headers"):a}return u}function e(t,r,i,o,u){var c=typeof t=="string"?t:(r=t).url,a={config:r},n=l(d,r),p={};o||(o=n.data),(n.transformRequest||[]).map(function(s){o=s(o,n.headers)||o}),n.auth&&(p.authorization=n.auth),o&&typeof o=="object"&&typeof o.append!="function"&&typeof o.text!="function"&&(o=JSON.stringify(o),p["content-type"]="application/json");try{p[n.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+n.xsrfCookieName+"=([^;]*)"))[2])}catch{}return n.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,n.baseURL+"/")),n.params&&(c+=(~c.indexOf("?")?"&":"?")+(n.paramsSerializer?n.paramsSerializer(n.params):new URLSearchParams(n.params))),(n.fetch||fetch)(c,{method:(i||n.method||"get").toUpperCase(),body:o,headers:l(n.headers,p,!0),credentials:n.withCredentials?"include":u}).then(function(s){for(var h in s)typeof s[h]!="function"&&(a[h]=s[h]);return n.responseType=="stream"?(a.data=s.body,a):s[n.responseType||"text"]().then(function(m){a.data=m,a.data=JSON.parse(m)}).catch(Object).then(function(){return(n.validateStatus?n.validateStatus(s.status):s.ok)?a:Promise.reject(a)})})}return d||(d={}),e.request=e,e.get=function(t,r){return e(t,r,"get")},e.delete=function(t,r){return e(t,r,"delete")},e.head=function(t,r){return e(t,r,"head")},e.options=function(t,r){return e(t,r,"options")},e.post=function(t,r,i){return e(t,i,"post",r)},e.put=function(t,r,i){return e(t,i,"put",r)},e.patch=function(t,r,i){return e(t,i,"patch",r)},e.all=Promise.all.bind(Promise),e.spread=function(t){return t.apply.bind(t,t)},e.CancelToken=typeof AbortController=="function"?AbortController:Object,e.defaults=d,e.create=f,e})(),y;function w(f={}){return y||(y=b.create(Object.assign({baseURL:window.windpress.rest_api.url||"",headers:{"content-type":"application/json",accept:"application/json","X-WP-Nonce":window.windpress.rest_api.nonce||""}},f))),y}export{w as t};
