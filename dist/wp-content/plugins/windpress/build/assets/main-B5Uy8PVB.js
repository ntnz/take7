import"./source-map-generator-CYV46cXA.min.js";import"./dist-gE_XXzPp.min.js";import{Ct as N,Gt as R,O as ze,Qt as T,S as v,St as j,Tt as X,X as C,Xt as $,b as qe,er as je,gt as u,ir as Y,jn as P,k as h,rr as M,s as O,u as Me,ut as Z,wt as Oe,x as F,xn as x,y as g}from"./runtime-core.esm-bundler-DRZAYnQ2.min.js";import{n as Fe,r as Ve,s as De}from"./vue.runtime.esm-bundler-BlWQ9Hv9.min.js";import"./dist-CyCkKGye.min.js";import"./log-BpAY2Wg4.js";import"./chunk-HTB5LLOP-BErhSb2z.min.js";import{f as Ue}from"./core-8AzxaLAT.min.js";import"./floating-ui.core-BwRAMOlv.min.js";import"./api-j1hi8yn9.js";import"./index.browser-DQZXIZaU.min.js";import"./isObject-DkMBgCmn.min.js";import"./_toKey-lf-76zFF.min.js";import{t as Be}from"./set-D10waSiW.min.js";import"./preload-helper-hRiy8xQv.min.js";import"./base64-F91Q3Zd1.min.js";import"./lib-DdqEuSaZ.min.js";import"./dist-7RENR6RM.min.js";import"./path-browserify-QbCHt7ci.min.js";import"./pre-process-DdabCSb9.js";import{__tla as He}from"./cssesc-CRBmtthf.js";import{__tla as Re}from"./lightningcss-wasm-Dq7A3rEr.min.js";import"./build-CCjEc_ld.js";import{t as Xe}from"./vfs-Nkm45dX9.js";import{c as Ye,i as Ge}from"./intellisense-Dz5eHkgp.js";import"./adobe-css-tools-Cq8Zs2rG.min.js";import"./dlv.umd-ByGaGM3P.min.js";import{__tla as Ke}from"./tailwindcss-D1kdoqZn.js";import{t as ee}from"./logger-B3j_KY2M.js";import{t as A}from"./_plugin-vue_export-helper-89dl49sx.min.js";import{a as Qe,i as Je,n as Ne,r as Ze,t as et}from"./chevron-right-iAp4ISoK.min.js";import{n as tt}from"./constant-au7B0x8B.js";Promise.all([(()=>{try{return He}catch{}})(),(()=>{try{return Re}catch{}})(),(()=>{try{return Ke}catch{}})()]).then(async()=>{var te={id:"windpressoxygen-variable-app-header",class:"bg:$(oxy-dark) cursor:grab bb:1|solid|gray-60"},oe={class:"header-container flex gap:10 align-items:center fg:$(oxy-light-text)"},ae={class:"header-logo flex align-items:center px:12 py:2"},ne={class:"header-title text-transform:none font:medium text:center flex-grow:1 gap:10 align-items:center cursor:default px:12 py:2"},ie=A({__name:"PanelHeader",setup(o){let t=C("variableApp"),a=C("isOpen");function m(){let n=t.querySelector("#windpressoxygen-variable-app-header"),p=x(!1),i=0,d=0;R(p,b=>{b?(document.body.style.userSelect="none",document.body.querySelector("#ct-viewport-container").style.pointerEvents="none",n.style.cursor="grabbing"):(document.body.style.removeProperty("user-select"),document.body.querySelector("#ct-viewport-container").style.removeProperty("pointer-events"),n.style.cursor="grab")});let l=b=>{p.value=!0;let k=n.getBoundingClientRect();i=b.clientX-k.left,d=b.clientY-k.top};n.removeEventListener("mousedown",l),n.addEventListener("mousedown",l);let w=b=>{if(!p.value)return;let k=n.getBoundingClientRect(),y=b.clientX,r=b.clientY,s=y-i,f=r-d,L=s<0?0:s>window.innerWidth-k.width?window.innerWidth-k.width:s,E=f<0?0:f>window.innerHeight-k.height?window.innerHeight-k.height:f;t.style.left=`${L}px`,t.style.top=`${E}px`};document.removeEventListener("mousemove",w),document.addEventListener("mousemove",w);let S=b=>{p.value=!1};document.removeEventListener("mouseup",S),document.addEventListener("mouseup",S)}return Z(()=>{m()}),(n,p)=>{let i=Oe("inline-svg"),d=Ze,l=X("tooltip");return u(),v("div",te,[g("div",oe,[g("div",ae,[h(i,{src:P(Ne),class:"inline-svg fill:current font:24"},null,8,["src"])]),T((u(),v("div",ne,[...p[1]||(p[1]=[ze(" WindPress ",-1)])])),[[l,{placement:"top",content:`v${n.windpressoxygen._version}`}]]),T((u(),v("button",{class:"header-exit flex align-items:center py:10 px:12 b:none fg:$(oxy-light-text) bg:transparent bg:$(oxy-hover):hover cursor:pointer",onClick:p[0]||(p[0]=w=>a.value=!P(a))},[h(d,{class:"iconify font:16"})])),[[l,{placement:"top",content:"Close"}]])])])}}},[["__scopeId","data-v-ac3b709b"]]),re={class:"header-slot"},le={key:0,class:"expansion-panel__body"},se={__name:"ExpansionPanel",props:{namespace:{type:String,required:!0},name:{type:String,required:!0}},setup(o,{expose:t}){let a=o,m=x(null),n=Ue(`windpressoxygen-variable-app.ui.expansion-panels.${a.namespace}`,{[`${a.name}`]:!1},void 0,{mergeDefaults:!0});function p(d){n.value[a.name]=d===null?!n.value[a.name]:d}function i(){m.value.scrollIntoView()}return t({togglePanel:p,scrollIntoView:i}),(d,l)=>{let w=et;return u(),v("div",{ref_key:"sectionRef",ref:m,class:"expansion-panel mx:10 py:8 mr:4"},[g("div",{class:je([{},"expansion-panel__header flex justify-content:space-between p:10 r:8 cursor:pointer"]),onClick:l[0]||(l[0]=S=>P(n)[o.name]=!P(n)[o.name])},[g("div",re,[N(d.$slots,"header",{},void 0,!0)]),g("div",null,[h(w,{style:M({transform:P(n)[o.name]?"rotate(-90deg)":"rotate(0deg)"}),class:"iconify ~duration:300 font:18"},null,8,["style"])])]),h(Fe,null,{default:$(()=>[P(n)[o.name]?(u(),v("div",le,[N(d.$slots,"default",{},void 0,!0)])):F("",!0)]),_:3})],512)}}},V=A(se,[["__scopeId","data-v-e02c9ac0"]]),ce={class:"{m:10;pb:15}>div"},pe={class:"variable-section-title font:14 my:10"},ue={class:"variable-section-items flex flex:row gap:8 flex-wrap:wrap"},de=["onClick","onMouseenter"],ve={class:"font:14"},me={__name:"CommonVariableItems",props:{variableItems:{type:Object,required:!0}},setup(o){return(t,a)=>{let m=X("tooltip");return u(),v("div",ce,[(u(!0),v(O,null,j(o.variableItems,(n,p)=>(u(),v("div",{key:p,class:"var-item"},[g("div",pe,Y(p.replace("_","-")),1),g("div",ue,[n.length>0?(u(!0),v(O,{key:0},j(n,(i,d)=>T((u(),v("button",{key:d,class:"px:12 py:8 r:8 font:medium fg:$(oxy-light-text) bg:$(oxy-mid) bg:$(oxy-hover):hover b:0 flex-grow:1 flex-shrink:1 flex-basis:30% cursor:pointer {opacity:.5}>span opacity:100:hover>span",onClick:l=>t.$emit("previewChose",l,i.key),onMouseenter:l=>t.$emit("previewEnter",l,i.key),onMouseleave:a[0]||(a[0]=l=>t.$emit("previewLeave"))},[g("span",ve,Y(i.label),1)],40,de)),[[m,{placement:"top",content:`var(${i.key}, ${i.value})`}]])),128)):F("",!0)])]))),128))])}}},G=A(me,[["__scopeId","data-v-5f29ac5c"]]),ye={class:"{m:10;pb:15}>div"},fe={class:"variable-section-title font:14 my:10"},ge={key:0,class:"variable-section-items default-color"},be=["onClick","onMouseenter"],he=["onClick","onMouseenter"],ke={__name:"ColorVariableItems",props:{variableItems:{type:Object,required:!0}},setup(o){return(t,a)=>{let m=X("tooltip");return u(),v("div",ye,[(u(!0),v(O,null,j(o.variableItems,(n,p)=>(u(),v("div",{key:p,class:""},[g("div",fe,Y(p),1),n.DEFAULT?(u(),v("div",ge,[T(g("button",{style:M(`--wp-b-v-item-bg: var(--${n.DEFAULT.key.slice(2)});`),class:"",onClick:i=>t.$emit("previewChose",i,n.DEFAULT.key),onMouseenter:i=>t.$emit("previewEnter",i,n.DEFAULT.key),onMouseleave:a[0]||(a[0]=i=>t.$emit("previewLeave"))},null,44,be),[[m,{placement:"top",content:`var(${n.DEFAULT.key}, ${n.DEFAULT.value})`}]])])):F("",!0),n.shades&&Object.keys(n.shades).length>0?(u(),v("div",{key:1,style:M(`--wp-b-v-items-grid: ${Object.keys(n.shades).length}`),class:"variable-section-items shades-colors grid r:4 overflow:hidden"},[(u(!0),v(O,null,j(n.shades,(i,d)=>(u(),v("div",{key:d,class:"flex gap:10"},[T(g("button",{style:M(`--wp-b-v-item-bg: var(--${i.key.slice(2)})`),onClick:l=>t.$emit("previewChose",l,i.key),onMouseenter:l=>t.$emit("previewEnter",l,i.key),onMouseleave:a[1]||(a[1]=l=>t.$emit("previewLeave"))},null,44,he),[[m,{placement:"top",content:`var(${i.key}, ${i.value})`}]])]))),128))],4)):F("",!0)]))),128))])}}},we=A(ke,[["__scopeId","data-v-06e69824"]]),xe={id:"windpressoxygen-variable-app-body",class:"var-body bg:$(oxy-dark) fg:$(oxy-light-text) rel w:full h:full overflow-y:scroll! bb:1|solid|gray-60>div:not(:last-child)"},_e=1e3,Ee=A({__name:"PanelBody",setup(o){let t=x({colors:{},typography:{},sizing:{}}),a=C("focusedInput"),m=C("recentVariableSelectionTimestamp"),n=C("tempInputValue"),p=C("variableApp");async function i(){let y=tt.contentWindow.document.querySelector('script#windpress\\:vfs[type="text/plain"]'),r=Xe(y.textContent),s=await Ge(await Ye({volume:r})),f=p.querySelector("style#windpressoxygen-variable-app-body-style");f||(f=document.createElement("style"),f.id="windpressoxygen-variable-app-body-style",p.appendChild(f)),f.innerHTML=`
        #windpressoxygen-variable-app-body, #oxygen-sidebar {
            ${s.map(e=>`${e.key}:${e.value};`).join("")}
        }
    `;let L={};s.filter(e=>e.key.startsWith("--color")).forEach(e=>{let c=e.key.slice(8),B=c.split("-"),H="";if(B.length>1){let Ae=B[0],We=B.slice(1).join("-");H=`${Ae}.shades.'${We}'`}else H=`${c}.DEFAULT`;Be(L,H,e)}),t.value.colors=Object.keys(L).sort().reduce((e,c)=>(e[c]=L[c],e),{});let E={font_size:[],line_height:[],letter_spacing:[]};s.filter(e=>e.key.startsWith("--text-")&&!e.key.endsWith("--line-height")).forEach(e=>{let c=e.key.slice(7);E.font_size.push({key:e.key,label:c,value:e.value})}),s.filter(e=>e.key.startsWith("--leading-")||e.key.endsWith("--leading")).forEach(e=>{let c=e.key.startsWith("--leading-")?e.key.slice(10):e.key.slice(2,-9);E.line_height.push({key:e.key,label:c,value:e.value})}),E.line_height.sort((e,c)=>e.label.startsWith("font-size-")&&!c.label.startsWith("font-size-")?1:!e.label.startsWith("font-size-")&&c.label.startsWith("font-size-")?-1:0),s.filter(e=>e.key.startsWith("--tracking-")).forEach(e=>{let c=e.key.slice(11);E.letter_spacing.push({key:e.key,label:c,value:e.value})}),t.value.typography=E;let I={container:[],breakpoint:[]};s.filter(e=>e.key.startsWith("--container-")).forEach(e=>{let c=e.key.slice(12);I.container.push({key:e.key,label:c,value:e.value})}),s.filter(e=>e.key.startsWith("--breakpoint-")).forEach(e=>{let c=e.key.slice(13);I.breakpoint.push({key:e.key,label:c,value:e.value})}),t.value.sizing=I}let d=x(null),l=x(null),w=x(null);R(a,y=>{var r;if(y){let s=y,f=(r=s==null?void 0:s.parentElement)==null?void 0:r.classList.contains("oxygen-color-picker"),L=["font-size"].some(e=>{var c;return(c=s==null?void 0:s.getAttribute("data-option"))==null?void 0:c.includes(e)}),E=["padding","margin","gap","width","height"].some(e=>{var c;return(c=s==null?void 0:s.getAttribute("data-option"))==null?void 0:c.includes(e)});l.value.togglePanel(!1),w.value.togglePanel(!1),d.value.togglePanel(!1);async function I(){y.parentElement.querySelector(".oxygen-measure-box-unit-selector .oxygen-measure-box-units .oxygen-measure-box-unit:last-child").click(),setTimeout(()=>{y.focus()},100)}f?(d.value.togglePanel(!0),d.value.scrollIntoView()):L?(l.value.togglePanel(!0),l.value.scrollIntoView(),I()):E&&(w.value.togglePanel(!0),w.value.scrollIntoView(),I())}});function S(y,r){performance.now()-m.value<_e||a.value&&(a.value.value=`var(${r})`,a.value.dispatchEvent(new Event("input")),a.value.focus())}function b(y){!a.value||n.value===null||(a.value.value=n.value,a.value.dispatchEvent(new Event("input")),a.value.focus())}function k(y,r){var s,f;a.value&&(a.value.value=`var(${r})`,a.value.dispatchEvent(new Event("input")),a.value.focus(),n.value=`var(${r})`,m.value=performance.now(),(f=(s=a.value)==null?void 0:s.parentElement)!=null&&f.classList.contains("oxygen-color-picker")&&a.value.parentElement.querySelector(".oxygen-color-picker-color button")&&(a.value.parentElement.querySelector(".oxygen-color-picker-color button").style.backgroundColor=`var(${r})`))}return Z(()=>{i()}),new BroadcastChannel("windpress").addEventListener("message",async y=>{let r=y.data;r.source==="windpress/intellisense"&&r.task==="windpress.code-editor.saved.done"&&setTimeout(()=>{i()},1e3)}),(y,r)=>(u(),v("div",xe,[h(V,{ref_key:"sectionColor",ref:d,namespace:"variable",name:"color"},{header:$(()=>[...r[0]||(r[0]=[g("span",{class:"var-body-title"},"Color",-1)])]),default:$(()=>[h(we,{"variable-items":t.value.colors,onPreviewEnter:S,onPreviewLeave:b,onPreviewChose:k},null,8,["variable-items"])]),_:1},512),h(V,{ref_key:"sectionTypography",ref:l,namespace:"variable",name:"typography"},{header:$(()=>[...r[1]||(r[1]=[g("span",{class:"var-body-title"},"Typography",-1)])]),default:$(()=>[h(G,{"variable-items":t.value.typography,onPreviewEnter:S,onPreviewLeave:b,onPreviewChose:k},null,8,["variable-items"])]),_:1},512),h(V,{ref_key:"sectionSpacing",ref:w,namespace:"variable",name:"spacing",class:""},{header:$(()=>[...r[2]||(r[2]=[g("span",{class:"var-body-title"},"Sizing",-1)])]),default:$(()=>[h(G,{"variable-items":t.value.sizing,onPreviewEnter:S,onPreviewLeave:b,onPreviewChose:k},null,8,["variable-items"])]),_:1},512)]))}},[["__scopeId","data-v-3f4afbd6"]]),$e={id:"windpressoxygen-variable-app-container"},Se=A({__name:"App",setup(o){let t=C("isOpen");return(a,m)=>T((u(),v("div",$e,[h(ie),(u(),qe(Me,null,{default:$(()=>[h(Ee)]),_:1}))],512)),[[De,P(t)]])}},[["__scopeId","data-v-6d9c3575"]]);function Le({selector:o,callback:t,options:a}){let m=new MutationObserver(t),n=document.querySelector(o);if(!n){ee(`Target not found for selector: ${o}`,{module:"variable-picker",type:"error"});return}m.observe(n,Object.assign(Object.assign({},{childList:!0,subtree:!0}),a))}var z=document.createElement("windpressoxygen-variable-app");z.id="windpressoxygen-variable-app",document.body.appendChild(z);var W=x(!1),q=x(null),D=x(null),Ce=x(0),_=Ve(Se);_.config.globalProperties.windpressoxygen=window.windpressoxygen,_.provide("variableApp",z),_.provide("isOpen",W),_.provide("focusedInput",q),_.provide("tempInputValue",D),_.provide("recentVariableSelectionTimestamp",Ce),_.use(Je,{container:"#windpressoxygen-variable-app"}),_.component("InlineSvg",Qe),_.mount("#windpressoxygen-variable-app");function K(o){var t;!o.shiftKey||!o.target||((t=document==null?void 0:document.getSelection())==null||t.removeAllRanges(),o.preventDefault(),o.stopPropagation(),q.value=o.target,D.value=o.target.value,W.value=!0)}function Q(o){q.value=o.target}var Pe=["iframeScope.component.options[iframeScope.component.active.id]['model']['background-image']","iframeScope.component.options[iframeScope.component.active.id]['model']['icon-size']","iframeScope.fontsFilter","postsFilter","currentlyEditingFilter","iframeScope.iconFilter.title","iframeScope.component.options[iframeScope.component.active.id]['model']['z-index']","iframeScope.component.options[iframeScope.component.active.id]['model']['src']","iframeScope.component.options[iframeScope.component.active.id]['model']['rel']","iframeScope.component.options[iframeScope.component.active.id]['model']['url']","iframeScope.component.options[iframeScope.component.active.id]['model']['testimonial_photo']","iframeScope.component.options[iframeScope.component.active.id]['model']['pricing_box_price"],Ie=["iframeScope.component.options[iframeScope.component.active.id]['model']['title-*']","iframeScope.component.options[iframeScope.component.active.id]['model']['icon-*']","duration","url","speed","time","address","zoom"].map(o=>o.replace("*']","")),Te=`.oxygen-control input[type="text"]:not(.ct-iris-colorpicker):not([ng-model*="shortcode"])${Pe.map(o=>`:not([ng-model="${o}"])`).join("")}${Ie.map(o=>`:not([ng-model*="${o}"])`).join("")}`;function J(){setTimeout(()=>{let o=!1;[...document.querySelectorAll(Te)].forEach(t=>{(t==null?void 0:t.getAttribute("windpressoxygen-variable-app"))!=="listened"&&(t==null||t.removeEventListener("click",K),t==null||t.addEventListener("click",K),t==null||t.removeEventListener("focus",Q),t==null||t.addEventListener("focus",Q),t==null||t.setAttribute("windpressoxygen-variable-app","listened"),o=!0)}),o&&(q.value=null,D.value=null)},100)}var U=!1;Le({selector:"#oxygen-sidebar",options:{subtree:!0,childList:!0},callback(o){U||(U=!0,J(),setTimeout(()=>{U=!1},100))}}),J(),document.addEventListener("keydown",o=>{o.key==="Escape"&&W.value&&(W.value=!1)}),R(W,o=>{z.style.zIndex=o?"calc(Infinity)":"-1"}),ee("Module loaded!",{module:"variable-picker"})});
