import{s as M}from"./chunk-BP1tGd43.min.js";import{t as j}from"./lib-DdqEuSaZ.min.js";function A(r,o,l){if(r==null)return"";let n,u={},e={},f="",g="",a="",p=2,m=3,s=2,h=[],t=0,i=0;for(let c=0;c<r.length;c+=1)if(f=r.charAt(c),Object.prototype.hasOwnProperty.call(u,f)||(u[f]=m++,e[f]=!0),g=a+f,Object.prototype.hasOwnProperty.call(u,g))a=g;else{if(Object.prototype.hasOwnProperty.call(e,a)){if(a.charCodeAt(0)<256){for(let C=0;C<s;C++)t<<=1,i==o-1?(i=0,h.push(l(t)),t=0):i++;n=a.charCodeAt(0);for(let C=0;C<8;C++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1}else{n=1;for(let C=0;C<s;C++)t=t<<1|n,i==o-1?(i=0,h.push(l(t)),t=0):i++,n=0;n=a.charCodeAt(0);for(let C=0;C<16;C++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1}p--,p==0&&(p=2**s,s++),delete e[a]}else{n=u[a];for(let C=0;C<s;C++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1}p--,p==0&&(p=2**s,s++),u[g]=m++,a=String(f)}if(a!==""){if(Object.prototype.hasOwnProperty.call(e,a)){if(a.charCodeAt(0)<256){for(let c=0;c<s;c++)t<<=1,i==o-1?(i=0,h.push(l(t)),t=0):i++;n=a.charCodeAt(0);for(let c=0;c<8;c++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1}else{n=1;for(let c=0;c<s;c++)t=t<<1|n,i==o-1?(i=0,h.push(l(t)),t=0):i++,n=0;n=a.charCodeAt(0);for(let c=0;c<16;c++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1}p--,p==0&&(p=2**s,s++),delete e[a]}else{n=u[a];for(let c=0;c<s;c++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1}p--,p==0&&(p=2**s,s++)}n=2;for(let c=0;c<s;c++)t=t<<1|n&1,i==o-1?(i=0,h.push(l(t)),t=0):i++,n>>=1;let d=!0;do t<<=1,i==o-1?(h.push(l(t)),d=!1):i++;while(d);return h.join("")}function y(r,o,l){let n=[],u=[],e={val:l(0),position:o,index:1},f=4,g=4,a=3,p="",m,s=0,h=2**2,t=1;for(let d=0;d<3;d+=1)n[d]=String(d);for(;t!=h;){let d=e.val&e.position;e.position>>=1,e.position==0&&(e.position=o,e.val=l(e.index++)),s|=(d>0?1:0)*t,t<<=1}switch(s){case 0:for(s=0,h=2**8,t=1;t!=h;){let d=e.val&e.position;e.position>>=1,e.position==0&&(e.position=o,e.val=l(e.index++)),s|=(d>0?1:0)*t,t<<=1}m=String.fromCharCode(s);break;case 1:for(s=0,h=2**16,t=1;t!=h;){let d=e.val&e.position;e.position>>=1,e.position==0&&(e.position=o,e.val=l(e.index++)),s|=(d>0?1:0)*t,t<<=1}m=String.fromCharCode(s);break;case 2:return""}if(m===void 0)throw Error("No character found");n[3]=String(m);let i=String(m);for(u.push(String(m));;){if(e.index>r)return"";for(s=0,h=2**a,t=1;t!=h;){let d=e.val&e.position;e.position>>=1,e.position==0&&(e.position=o,e.val=l(e.index++)),s|=(d>0?1:0)*t,t<<=1}switch(m=s){case 0:for(s=0,h=2**8,t=1;t!=h;){let d=e.val&e.position;e.position>>=1,e.position==0&&(e.position=o,e.val=l(e.index++)),s|=(d>0?1:0)*t,t<<=1}n[g++]=String.fromCharCode(s),m=g-1,f--;break;case 1:for(s=0,h=2**16,t=1;t!=h;){let d=e.val&e.position;e.position>>=1,e.position==0&&(e.position=o,e.val=l(e.index++)),s|=(d>0?1:0)*t,t<<=1}n[g++]=String.fromCharCode(s),m=g-1,f--;break;case 2:return u.join("")}if(f==0&&(f=2**a,a++),n[m])p=String(n[m]);else if(m===g)p=i+i.charAt(0);else return null;u.push(p),n[g++]=i+p.charAt(0),f--,i=p,f==0&&(f=2**a,a++)}}var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function k(r){if(r==null)return"";let o=A(r,6,l=>F.charAt(l));switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}}var v={};function x(r,o){if(!v[r]){v[r]={};for(let l=0;l<r.length;l++)v[r][r.charAt(l)]=l}return v[r][o]}function B(r){return r==null?"":r==""?null:y(r.length,32,o=>x(F,r.charAt(o)))}function S(r){return r==null?"":A(r,16,o=>String.fromCharCode(o))}function P(r,o){if(r==null)return"";let l=S(r),n=Math.ceil(Math.log(65536)/Math.log(o.length)),u="";for(let e=0,f=l.length;e<f;e++){let g=l.charCodeAt(e);for(let a=n-1;a>=0;a--){let p=Math.floor(g/o.length**+a);g%=o.length**+a,u+=o.charAt(p)}}return u}function w(r){return r==null?"":r==""?null:y(r.length,32768,o=>r.charCodeAt(o))}function E(r,o){if(r==null)return"";if(r==""||o.length<2)return null;let l=Math.ceil(Math.log(65536)/Math.log(o.length));if(r.length%l!=0)return null;let n="",u,e;for(let f=0,g=r.length;f<g;f+=l){u=0;for(let a=0;a<l;a++)e=o.indexOf(r[f+a]),u+=e*o.length**(l-1-a);n+=String.fromCharCode(u)}return w(n)}var U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";function L(r){return r==null?"":A(r,6,o=>U.charAt(o))}function I(r){return r==null?"":r==""?null:(r=r.replace(/ /g,"+"),y(r.length,32,o=>x(U,r.charAt(o))))}function O(r,o){if(typeof r=="string"){let l=!o&&r.charCodeAt(r.length-1)%256==0,n=new Uint8Array(r.length*2-(l?1:0));for(let u=0;u<r.length;u++){let e=r.charCodeAt(u);n[u*2]=e>>>8,(!l||u<r.length-1)&&(n[u*2+1]=e%256)}return n}return r}function b(r){let o=Math.floor(r.byteLength/2),l=[];for(let n=0;n<o;n++)l.push(String.fromCharCode(r[n*2]*256+r[n*2+1]));return r.byteLength&1&&l.push(String.fromCharCode(r[r.byteLength-1]*256)),l.join("")}var T=M(j());function R(r,o){(0,T.writeFileSync)(r,typeof o=="string"?O(o):o,null)}function N(r){return b((0,T.readFileSync)(r,null))}function _(r){let o=S(r),l=new Uint8Array(o.length*2);for(let n=0,u=o.length;n<u;n++){let e=o.charCodeAt(n);l[n*2]=e>>>8,l[n*2+1]=e%256}return l}function q(r){return w(r==null?r:b(r))}function z(r){return r==null?"":A(r,15,o=>String.fromCharCode(o+32))+" "}function D(r){return r==null?"":r==""?null:y(r.length,16384,o=>r.charCodeAt(o)-32)}var G={_compress:A,_decompress:y,compress:S,compressToBase64:k,compressToCustom:P,compressToEncodedURIComponent:L,compressToUint8Array:_,compressToUTF16:z,convertFromUint8Array:b,convertToUint8Array:O,decompress:w,decompressFromBase64:B,decompressFromCustom:E,decompressFromEncodedURIComponent:I,decompressFromUint8Array:q,decompressFromUTF16:D,loadBinaryFile:N,saveBinaryFile:R};export{G as t};
