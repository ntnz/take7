import"./dist-CyCkKGye.min.js";import"./dist-7RENR6RM.min.js";import{m as _t}from"./editor.api-D7FzMkxp.min.js";/*!-----------------------------------------------------------------------------
* Copyright (c) Microsoft Corporation. All rights reserved.
* Version: 0.53.0(4e45ba0c5ff45fc61c0ccac61c0987369df04a6e)
* Released under the MIT license
* https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
*-----------------------------------------------------------------------------*/var wt=Object.defineProperty,xt=Object.getOwnPropertyDescriptor,It=Object.getOwnPropertyNames,Et=Object.prototype.hasOwnProperty,N=(t,r,i,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of It(r))!Et.call(t,e)&&e!==i&&wt(t,e,{get:()=>r[e],enumerable:!(n=xt(r,e))||n.enumerable});return t},St=(t,r,i)=>(N(t,r,"default"),i&&N(i,r,"default")),l={};St(l,_t);function At(t,r){var n;let i=globalThis.MonacoEnvironment;if(i!=null&&i.createTrustedTypesPolicy)try{return i.createTrustedTypesPolicy(t,r)}catch(e){console.error(e);return}try{return(n=globalThis.trustedTypes)==null?void 0:n.createPolicy(t,r)}catch(e){console.error(e);return}}var U=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?globalThis.workerttPolicy:At("defaultWorkerFactory",{createScriptURL:t=>t});function Ct(t){let r=t.label,i=globalThis.MonacoEnvironment;if(i){if(typeof i.getWorker=="function")return i.getWorker("workerMain.js",r);if(typeof i.getWorkerUrl=="function"){let n=i.getWorkerUrl("workerMain.js",r);return new Worker(U?U.createScriptURL(n):n,{name:r,type:"module"})}}throw Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Rt(t){let r=Promise.resolve(Ct({label:t.label??"monaco-editor-worker",moduleId:t.moduleId})).then(i=>(i.postMessage("ignore"),i.postMessage(t.createData),i));return l.editor.createWebWorker({worker:r,host:t.host,keepIdleModels:t.keepIdleModels})}var Tt=120*1e3,W=class{constructor(t){this._defaults=t,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker=(this._worker.dispose(),null)),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>Tt&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._client=(this._worker=Rt({moduleId:"vs/language/css/cssWorker",label:this._defaults.languageId,createData:{options:this._defaults.options,languageId:this._defaults.languageId}}),this._worker.getProxy())),this._client}getLanguageServiceWorker(...t){let r;return this._getClient().then(i=>{r=i}).then(i=>{if(this._worker)return this._worker.withSyncedResources(t)}).then(i=>r)}},Lt;(function(t){function r(i){return typeof i=="string"}t.is=r})(Lt||(Lt={}));var V;(function(t){function r(i){return typeof i=="string"}t.is=r})(V||(V={}));var Mt;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function r(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}t.is=r})(Mt||(Mt={}));var L;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function r(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}t.is=r})(L||(L={}));var y;(function(t){function r(n,e){return n===Number.MAX_VALUE&&(n=L.MAX_VALUE),e===Number.MAX_VALUE&&(e=L.MAX_VALUE),{line:n,character:e}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&a.uinteger(e.line)&&a.uinteger(e.character)}t.is=i})(y||(y={}));var h;(function(t){function r(n,e,o,s){if(a.uinteger(n)&&a.uinteger(e)&&a.uinteger(o)&&a.uinteger(s))return{start:y.create(n,e),end:y.create(o,s)};if(y.is(n)&&y.is(e))return{start:n,end:e};throw Error(`Range#create called with invalid arguments[${n}, ${e}, ${o}, ${s}]`)}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&y.is(e.start)&&y.is(e.end)}t.is=i})(h||(h={}));var M;(function(t){function r(n,e){return{uri:n,range:e}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&h.is(e.range)&&(a.string(e.uri)||a.undefined(e.uri))}t.is=i})(M||(M={}));var Pt;(function(t){function r(n,e,o,s){return{targetUri:n,targetRange:e,targetSelectionRange:o,originSelectionRange:s}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&h.is(e.targetRange)&&a.string(e.targetUri)&&h.is(e.targetSelectionRange)&&(h.is(e.originSelectionRange)||a.undefined(e.originSelectionRange))}t.is=i})(Pt||(Pt={}));var O;(function(t){function r(n,e,o,s){return{red:n,green:e,blue:o,alpha:s}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&a.numberRange(e.red,0,1)&&a.numberRange(e.green,0,1)&&a.numberRange(e.blue,0,1)&&a.numberRange(e.alpha,0,1)}t.is=i})(O||(O={}));var Dt;(function(t){function r(n,e){return{range:n,color:e}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&h.is(e.range)&&O.is(e.color)}t.is=i})(Dt||(Dt={}));var Ft;(function(t){function r(n,e,o){return{label:n,textEdit:e,additionalTextEdits:o}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&a.string(e.label)&&(a.undefined(e.textEdit)||E.is(e))&&(a.undefined(e.additionalTextEdits)||a.typedArray(e.additionalTextEdits,E.is))}t.is=i})(Ft||(Ft={}));var A;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(A||(A={}));var jt;(function(t){function r(n,e,o,s,u,g){let c={startLine:n,endLine:e};return a.defined(o)&&(c.startCharacter=o),a.defined(s)&&(c.endCharacter=s),a.defined(u)&&(c.kind=u),a.defined(g)&&(c.collapsedText=g),c}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&a.uinteger(e.startLine)&&a.uinteger(e.startLine)&&(a.undefined(e.startCharacter)||a.uinteger(e.startCharacter))&&(a.undefined(e.endCharacter)||a.uinteger(e.endCharacter))&&(a.undefined(e.kind)||a.string(e.kind))}t.is=i})(jt||(jt={}));var K;(function(t){function r(n,e){return{location:n,message:e}}t.create=r;function i(n){let e=n;return a.defined(e)&&M.is(e.location)&&a.string(e.message)}t.is=i})(K||(K={}));var x;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(x||(x={}));var Nt;(function(t){t.Unnecessary=1,t.Deprecated=2})(Nt||(Nt={}));var Ut;(function(t){function r(i){let n=i;return a.objectLiteral(n)&&a.string(n.href)}t.is=r})(Ut||(Ut={}));var P;(function(t){function r(n,e,o,s,u,g){let c={range:n,message:e};return a.defined(o)&&(c.severity=o),a.defined(s)&&(c.code=s),a.defined(u)&&(c.source=u),a.defined(g)&&(c.relatedInformation=g),c}t.create=r;function i(n){var o;let e=n;return a.defined(e)&&h.is(e.range)&&a.string(e.message)&&(a.number(e.severity)||a.undefined(e.severity))&&(a.integer(e.code)||a.string(e.code)||a.undefined(e.code))&&(a.undefined(e.codeDescription)||a.string((o=e.codeDescription)==null?void 0:o.href))&&(a.string(e.source)||a.undefined(e.source))&&(a.undefined(e.relatedInformation)||a.typedArray(e.relatedInformation,K.is))}t.is=i})(P||(P={}));var I;(function(t){function r(n,e,...o){let s={title:n,command:e};return a.defined(o)&&o.length>0&&(s.arguments=o),s}t.create=r;function i(n){let e=n;return a.defined(e)&&a.string(e.title)&&a.string(e.command)}t.is=i})(I||(I={}));var E;(function(t){function r(o,s){return{range:o,newText:s}}t.replace=r;function i(o,s){return{range:{start:o,end:o},newText:s}}t.insert=i;function n(o){return{range:o,newText:""}}t.del=n;function e(o){let s=o;return a.objectLiteral(s)&&a.string(s.newText)&&h.is(s.range)}t.is=e})(E||(E={}));var H;(function(t){function r(n,e,o){let s={label:n};return e!==void 0&&(s.needsConfirmation=e),o!==void 0&&(s.description=o),s}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&a.string(e.label)&&(a.boolean(e.needsConfirmation)||e.needsConfirmation===void 0)&&(a.string(e.description)||e.description===void 0)}t.is=i})(H||(H={}));var S;(function(t){function r(i){let n=i;return a.string(n)}t.is=r})(S||(S={}));var Wt;(function(t){function r(o,s,u){return{range:o,newText:s,annotationId:u}}t.replace=r;function i(o,s,u){return{range:{start:o,end:o},newText:s,annotationId:u}}t.insert=i;function n(o,s){return{range:o,newText:"",annotationId:s}}t.del=n;function e(o){let s=o;return E.is(s)&&(H.is(s.annotationId)||S.is(s.annotationId))}t.is=e})(Wt||(Wt={}));var X;(function(t){function r(n,e){return{textDocument:n,edits:e}}t.create=r;function i(n){let e=n;return a.defined(e)&&G.is(e.textDocument)&&Array.isArray(e.edits)}t.is=i})(X||(X={}));var z;(function(t){function r(n,e,o){let s={kind:"create",uri:n};return e!==void 0&&(e.overwrite!==void 0||e.ignoreIfExists!==void 0)&&(s.options=e),o!==void 0&&(s.annotationId=o),s}t.create=r;function i(n){let e=n;return e&&e.kind==="create"&&a.string(e.uri)&&(e.options===void 0||(e.options.overwrite===void 0||a.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||a.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||S.is(e.annotationId))}t.is=i})(z||(z={}));var $;(function(t){function r(n,e,o,s){let u={kind:"rename",oldUri:n,newUri:e};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),s!==void 0&&(u.annotationId=s),u}t.create=r;function i(n){let e=n;return e&&e.kind==="rename"&&a.string(e.oldUri)&&a.string(e.newUri)&&(e.options===void 0||(e.options.overwrite===void 0||a.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||a.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||S.is(e.annotationId))}t.is=i})($||($={}));var B;(function(t){function r(n,e,o){let s={kind:"delete",uri:n};return e!==void 0&&(e.recursive!==void 0||e.ignoreIfNotExists!==void 0)&&(s.options=e),o!==void 0&&(s.annotationId=o),s}t.create=r;function i(n){let e=n;return e&&e.kind==="delete"&&a.string(e.uri)&&(e.options===void 0||(e.options.recursive===void 0||a.boolean(e.options.recursive))&&(e.options.ignoreIfNotExists===void 0||a.boolean(e.options.ignoreIfNotExists)))&&(e.annotationId===void 0||S.is(e.annotationId))}t.is=i})(B||(B={}));var q;(function(t){function r(i){let n=i;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(e=>a.string(e.kind)?z.is(e)||$.is(e)||B.is(e):X.is(e)))}t.is=r})(q||(q={}));var Vt;(function(t){function r(n){return{uri:n}}t.create=r;function i(n){let e=n;return a.defined(e)&&a.string(e.uri)}t.is=i})(Vt||(Vt={}));var Ot;(function(t){function r(n,e){return{uri:n,version:e}}t.create=r;function i(n){let e=n;return a.defined(e)&&a.string(e.uri)&&a.integer(e.version)}t.is=i})(Ot||(Ot={}));var G;(function(t){function r(n,e){return{uri:n,version:e}}t.create=r;function i(n){let e=n;return a.defined(e)&&a.string(e.uri)&&(e.version===null||a.integer(e.version))}t.is=i})(G||(G={}));var Kt;(function(t){function r(n,e,o,s){return{uri:n,languageId:e,version:o,text:s}}t.create=r;function i(n){let e=n;return a.defined(e)&&a.string(e.uri)&&a.string(e.languageId)&&a.integer(e.version)&&a.string(e.text)}t.is=i})(Kt||(Kt={}));var Q;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function r(i){let n=i;return n===t.PlainText||n===t.Markdown}t.is=r})(Q||(Q={}));var C;(function(t){function r(i){let n=i;return a.objectLiteral(i)&&Q.is(n.kind)&&a.string(n.value)}t.is=r})(C||(C={}));var m;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(m||(m={}));var Y;(function(t){t.PlainText=1,t.Snippet=2})(Y||(Y={}));var Ht;(function(t){t.Deprecated=1})(Ht||(Ht={}));var Xt;(function(t){function r(n,e,o){return{newText:n,insert:e,replace:o}}t.create=r;function i(n){let e=n;return e&&a.string(e.newText)&&h.is(e.insert)&&h.is(e.replace)}t.is=i})(Xt||(Xt={}));var zt;(function(t){t.asIs=1,t.adjustIndentation=2})(zt||(zt={}));var $t;(function(t){function r(i){let n=i;return n&&(a.string(n.detail)||n.detail===void 0)&&(a.string(n.description)||n.description===void 0)}t.is=r})($t||($t={}));var Bt;(function(t){function r(i){return{label:i}}t.create=r})(Bt||(Bt={}));var qt;(function(t){function r(i,n){return{items:i||[],isIncomplete:!!n}}t.create=r})(qt||(qt={}));var D;(function(t){function r(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=r;function i(n){let e=n;return a.string(e)||a.objectLiteral(e)&&a.string(e.language)&&a.string(e.value)}t.is=i})(D||(D={}));var Gt;(function(t){function r(i){let n=i;return!!n&&a.objectLiteral(n)&&(C.is(n.contents)||D.is(n.contents)||a.typedArray(n.contents,D.is))&&(i.range===void 0||h.is(i.range))}t.is=r})(Gt||(Gt={}));var Qt;(function(t){function r(i,n){return n?{label:i,documentation:n}:{label:i}}t.create=r})(Qt||(Qt={}));var Yt;(function(t){function r(i,n,...e){let o={label:i};return a.defined(n)&&(o.documentation=n),a.defined(e)?o.parameters=e:o.parameters=[],o}t.create=r})(Yt||(Yt={}));var R;(function(t){t.Text=1,t.Read=2,t.Write=3})(R||(R={}));var Jt;(function(t){function r(i,n){let e={range:i};return a.number(n)&&(e.kind=n),e}t.create=r})(Jt||(Jt={}));var p;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(p||(p={}));var Zt;(function(t){t.Deprecated=1})(Zt||(Zt={}));var te;(function(t){function r(i,n,e,o,s){let u={name:i,kind:n,location:{uri:o,range:e}};return s&&(u.containerName=s),u}t.create=r})(te||(te={}));var ee;(function(t){function r(i,n,e,o){return o===void 0?{name:i,kind:n,location:{uri:e}}:{name:i,kind:n,location:{uri:e,range:o}}}t.create=r})(ee||(ee={}));var ne;(function(t){function r(n,e,o,s,u,g){let c={name:n,detail:e,kind:o,range:s,selectionRange:u};return g!==void 0&&(c.children=g),c}t.create=r;function i(n){let e=n;return e&&a.string(e.name)&&a.number(e.kind)&&h.is(e.range)&&h.is(e.selectionRange)&&(e.detail===void 0||a.string(e.detail))&&(e.deprecated===void 0||a.boolean(e.deprecated))&&(e.children===void 0||Array.isArray(e.children))&&(e.tags===void 0||Array.isArray(e.tags))}t.is=i})(ne||(ne={}));var re;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(re||(re={}));var F;(function(t){t.Invoked=1,t.Automatic=2})(F||(F={}));var ie;(function(t){function r(n,e,o){let s={diagnostics:n};return e!=null&&(s.only=e),o!=null&&(s.triggerKind=o),s}t.create=r;function i(n){let e=n;return a.defined(e)&&a.typedArray(e.diagnostics,P.is)&&(e.only===void 0||a.typedArray(e.only,a.string))&&(e.triggerKind===void 0||e.triggerKind===F.Invoked||e.triggerKind===F.Automatic)}t.is=i})(ie||(ie={}));var oe;(function(t){function r(n,e,o){let s={title:n},u=!0;return typeof e=="string"?(u=!1,s.kind=e):I.is(e)?s.command=e:s.edit=e,u&&o!==void 0&&(s.kind=o),s}t.create=r;function i(n){let e=n;return e&&a.string(e.title)&&(e.diagnostics===void 0||a.typedArray(e.diagnostics,P.is))&&(e.kind===void 0||a.string(e.kind))&&(e.edit!==void 0||e.command!==void 0)&&(e.command===void 0||I.is(e.command))&&(e.isPreferred===void 0||a.boolean(e.isPreferred))&&(e.edit===void 0||q.is(e.edit))}t.is=i})(oe||(oe={}));var ae;(function(t){function r(n,e){let o={range:n};return a.defined(e)&&(o.data=e),o}t.create=r;function i(n){let e=n;return a.defined(e)&&h.is(e.range)&&(a.undefined(e.command)||I.is(e.command))}t.is=i})(ae||(ae={}));var se;(function(t){function r(n,e){return{tabSize:n,insertSpaces:e}}t.create=r;function i(n){let e=n;return a.defined(e)&&a.uinteger(e.tabSize)&&a.boolean(e.insertSpaces)}t.is=i})(se||(se={}));var ue;(function(t){function r(n,e,o){return{range:n,target:e,data:o}}t.create=r;function i(n){let e=n;return a.defined(e)&&h.is(e.range)&&(a.undefined(e.target)||a.string(e.target))}t.is=i})(ue||(ue={}));var ce;(function(t){function r(n,e){return{range:n,parent:e}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&h.is(e.range)&&(e.parent===void 0||t.is(e.parent))}t.is=i})(ce||(ce={}));var le;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(le||(le={}));var de;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(de||(de={}));var ge;(function(t){function r(i){let n=i;return a.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=r})(ge||(ge={}));var fe;(function(t){function r(n,e){return{range:n,text:e}}t.create=r;function i(n){let e=n;return e!=null&&h.is(e.range)&&a.string(e.text)}t.is=i})(fe||(fe={}));var he;(function(t){function r(n,e,o){return{range:n,variableName:e,caseSensitiveLookup:o}}t.create=r;function i(n){let e=n;return e!=null&&h.is(e.range)&&a.boolean(e.caseSensitiveLookup)&&(a.string(e.variableName)||e.variableName===void 0)}t.is=i})(he||(he={}));var me;(function(t){function r(n,e){return{range:n,expression:e}}t.create=r;function i(n){let e=n;return e!=null&&h.is(e.range)&&(a.string(e.expression)||e.expression===void 0)}t.is=i})(me||(me={}));var pe;(function(t){function r(n,e){return{frameId:n,stoppedLocation:e}}t.create=r;function i(n){let e=n;return a.defined(e)&&h.is(n.stoppedLocation)}t.is=i})(pe||(pe={}));var J;(function(t){t.Type=1,t.Parameter=2;function r(i){return i===1||i===2}t.is=r})(J||(J={}));var Z;(function(t){function r(n){return{value:n}}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&(e.tooltip===void 0||a.string(e.tooltip)||C.is(e.tooltip))&&(e.location===void 0||M.is(e.location))&&(e.command===void 0||I.is(e.command))}t.is=i})(Z||(Z={}));var ve;(function(t){function r(n,e,o){let s={position:n,label:e};return o!==void 0&&(s.kind=o),s}t.create=r;function i(n){let e=n;return a.objectLiteral(e)&&y.is(e.position)&&(a.string(e.label)||a.typedArray(e.label,Z.is))&&(e.kind===void 0||J.is(e.kind))&&e.textEdits===void 0||a.typedArray(e.textEdits,E.is)&&(e.tooltip===void 0||a.string(e.tooltip)||C.is(e.tooltip))&&(e.paddingLeft===void 0||a.boolean(e.paddingLeft))&&(e.paddingRight===void 0||a.boolean(e.paddingRight))}t.is=i})(ve||(ve={}));var be;(function(t){function r(i){return{kind:"snippet",value:i}}t.createSnippet=r})(be||(be={}));var ke;(function(t){function r(i,n,e,o){return{insertText:i,filterText:n,range:e,command:o}}t.create=r})(ke||(ke={}));var ye;(function(t){function r(i){return{items:i}}t.create=r})(ye||(ye={}));var _e;(function(t){t.Invoked=0,t.Automatic=1})(_e||(_e={}));var we;(function(t){function r(i,n){return{range:i,text:n}}t.create=r})(we||(we={}));var xe;(function(t){function r(i,n){return{triggerKind:i,selectedCompletionInfo:n}}t.create=r})(xe||(xe={}));var Ie;(function(t){function r(i){let n=i;return a.objectLiteral(n)&&V.is(n.uri)&&a.string(n.name)}t.is=r})(Ie||(Ie={}));var Ee;(function(t){function r(o,s,u,g){return new Se(o,s,u,g)}t.create=r;function i(o){let s=o;return!!(a.defined(s)&&a.string(s.uri)&&(a.undefined(s.languageId)||a.string(s.languageId))&&a.uinteger(s.lineCount)&&a.func(s.getText)&&a.func(s.positionAt)&&a.func(s.offsetAt))}t.is=i;function n(o,s){let u=o.getText(),g=e(s,(f,b)=>{let k=f.range.start.line-b.range.start.line;return k===0?f.range.start.character-b.range.start.character:k}),c=u.length;for(let f=g.length-1;f>=0;f--){let b=g[f],k=o.offsetAt(b.range.start),d=o.offsetAt(b.range.end);if(d<=c)u=u.substring(0,k)+b.newText+u.substring(d,u.length);else throw Error("Overlapping edit");c=k}return u}t.applyEdits=n;function e(o,s){if(o.length<=1)return o;let u=o.length/2|0,g=o.slice(0,u),c=o.slice(u);e(g,s),e(c,s);let f=0,b=0,k=0;for(;f<g.length&&b<c.length;)s(g[f],c[b])<=0?o[k++]=g[f++]:o[k++]=c[b++];for(;f<g.length;)o[k++]=g[f++];for(;b<c.length;)o[k++]=c[b++];return o}})(Ee||(Ee={}));var Se=class{constructor(t,r,i,n){this._uri=t,this._languageId=r,this._version=i,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),i=this.offsetAt(t.end);return this._content.substring(r,i)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,i=!0;for(let n=0;n<r.length;n++){i&&(i=(t.push(n),!1));let e=r.charAt(n);i=e==="\r"||e===`
`,e==="\r"&&n+1<r.length&&r.charAt(n+1)===`
`&&n++}i&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),i=0,n=r.length;if(n===0)return y.create(0,t);for(;i<n;){let o=Math.floor((i+n)/2);r[o]>t?n=o:i=o+1}let e=i-1;return y.create(e,t-r[e])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let i=r[t.line],n=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(i+t.character,n),i)}get lineCount(){return this.getLineOffsets().length}},a;(function(t){let r=Object.prototype.toString;function i(d){return d!==void 0}t.defined=i;function n(d){return d===void 0}t.undefined=n;function e(d){return d===!0||d===!1}t.boolean=e;function o(d){return r.call(d)==="[object String]"}t.string=o;function s(d){return r.call(d)==="[object Number]"}t.number=s;function u(d,T,yt){return r.call(d)==="[object Number]"&&T<=d&&d<=yt}t.numberRange=u;function g(d){return r.call(d)==="[object Number]"&&-2147483648<=d&&d<=2147483647}t.integer=g;function c(d){return r.call(d)==="[object Number]"&&0<=d&&d<=2147483647}t.uinteger=c;function f(d){return r.call(d)==="[object Function]"}t.func=f;function b(d){return typeof d=="object"&&!!d}t.objectLiteral=b;function k(d,T){return Array.isArray(d)&&d.every(T)}t.typedArray=k})(a||(a={}));var tt=class{constructor(t,r,i){this._languageId=t,this._worker=r,this._disposables=[],this._listener=Object.create(null);let n=o=>{let s=o.getLanguageId();if(s!==this._languageId)return;let u;this._listener[o.uri.toString()]=o.onDidChangeContent(()=>{window.clearTimeout(u),u=window.setTimeout(()=>this._doValidate(o.uri,s),500)}),this._doValidate(o.uri,s)},e=o=>{l.editor.setModelMarkers(o,this._languageId,[]);let s=o.uri.toString(),u=this._listener[s];u&&(u.dispose(),delete this._listener[s])};this._disposables.push(l.editor.onDidCreateModel(n)),this._disposables.push(l.editor.onWillDisposeModel(e)),this._disposables.push(l.editor.onDidChangeModelLanguage(o=>{e(o.model),n(o.model)})),this._disposables.push(i(o=>{l.editor.getModels().forEach(s=>{s.getLanguageId()===this._languageId&&(e(s),n(s))})})),this._disposables.push({dispose:()=>{for(let o in l.editor.getModels().forEach(e),this._listener)this._listener[o].dispose()}}),l.editor.getModels().forEach(n)}dispose(){this._disposables.forEach(t=>t&&t.dispose()),this._disposables.length=0}_doValidate(t,r){this._worker(t).then(i=>i.doValidation(t.toString())).then(i=>{let n=i.map(o=>Ce(t,o)),e=l.editor.getModel(t);e&&e.getLanguageId()===r&&l.editor.setModelMarkers(e,r,n)}).then(void 0,i=>{console.error(i)})}};function Ae(t){switch(t){case x.Error:return l.MarkerSeverity.Error;case x.Warning:return l.MarkerSeverity.Warning;case x.Information:return l.MarkerSeverity.Info;case x.Hint:return l.MarkerSeverity.Hint;default:return l.MarkerSeverity.Info}}function Ce(t,r){let i=typeof r.code=="number"?String(r.code):r.code;return{severity:Ae(r.severity),startLineNumber:r.range.start.line+1,startColumn:r.range.start.character+1,endLineNumber:r.range.end.line+1,endColumn:r.range.end.character+1,message:r.message,code:i,source:r.source}}var et=class{constructor(t,r){this._worker=t,this._triggerCharacters=r}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(t,r,i,n){let e=t.uri;return this._worker(e).then(o=>o.doComplete(e.toString(),_(r))).then(o=>{if(!o)return;let s=t.getWordUntilPosition(r),u=new l.Range(r.lineNumber,s.startColumn,r.lineNumber,s.endColumn),g=o.items.map(c=>{let f={label:c.label,insertText:c.insertText||c.label,sortText:c.sortText,filterText:c.filterText,documentation:c.documentation,detail:c.detail,command:Le(c.command),range:u,kind:Te(c.kind)};return c.textEdit&&(Re(c.textEdit)?f.range={insert:v(c.textEdit.insert),replace:v(c.textEdit.replace)}:f.range=v(c.textEdit.range),f.insertText=c.textEdit.newText),c.additionalTextEdits&&(f.additionalTextEdits=c.additionalTextEdits.map(w)),c.insertTextFormat===Y.Snippet&&(f.insertTextRules=l.languages.CompletionItemInsertTextRule.InsertAsSnippet),f});return{isIncomplete:o.isIncomplete,suggestions:g}})}};function _(t){if(t)return{character:t.column-1,line:t.lineNumber-1}}function j(t){if(t)return{start:{line:t.startLineNumber-1,character:t.startColumn-1},end:{line:t.endLineNumber-1,character:t.endColumn-1}}}function v(t){if(t)return new l.Range(t.start.line+1,t.start.character+1,t.end.line+1,t.end.character+1)}function Re(t){return t.insert!==void 0&&t.replace!==void 0}function Te(t){let r=l.languages.CompletionItemKind;switch(t){case m.Text:return r.Text;case m.Method:return r.Method;case m.Function:return r.Function;case m.Constructor:return r.Constructor;case m.Field:return r.Field;case m.Variable:return r.Variable;case m.Class:return r.Class;case m.Interface:return r.Interface;case m.Module:return r.Module;case m.Property:return r.Property;case m.Unit:return r.Unit;case m.Value:return r.Value;case m.Enum:return r.Enum;case m.Keyword:return r.Keyword;case m.Snippet:return r.Snippet;case m.Color:return r.Color;case m.File:return r.File;case m.Reference:return r.Reference}return r.Property}function w(t){if(t)return{range:v(t.range),text:t.newText}}function Le(t){return t&&t.command==="editor.action.triggerSuggest"?{id:t.command,title:t.title,arguments:t.arguments}:void 0}var nt=class{constructor(t){this._worker=t}provideHover(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.doHover(n.toString(),_(r))).then(e=>{if(e)return{range:v(e.range),contents:Pe(e.contents)}})}};function Me(t){return t&&typeof t=="object"&&typeof t.kind=="string"}function rt(t){return typeof t=="string"?{value:t}:Me(t)?t.kind==="plaintext"?{value:t.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:t.value}:{value:"```"+t.language+`
`+t.value+"\n```\n"}}function Pe(t){if(t)return Array.isArray(t)?t.map(rt):[rt(t)]}var it=class{constructor(t){this._worker=t}provideDocumentHighlights(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.findDocumentHighlights(n.toString(),_(r))).then(e=>{if(e)return e.map(o=>({range:v(o.range),kind:De(o.kind)}))})}};function De(t){switch(t){case R.Read:return l.languages.DocumentHighlightKind.Read;case R.Write:return l.languages.DocumentHighlightKind.Write;case R.Text:return l.languages.DocumentHighlightKind.Text}return l.languages.DocumentHighlightKind.Text}var ot=class{constructor(t){this._worker=t}provideDefinition(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.findDefinition(n.toString(),_(r))).then(e=>{if(e)return[at(e)]})}};function at(t){return{uri:l.Uri.parse(t.uri),range:v(t.range)}}var st=class{constructor(t){this._worker=t}provideReferences(t,r,i,n){let e=t.uri;return this._worker(e).then(o=>o.findReferences(e.toString(),_(r))).then(o=>{if(o)return o.map(at)})}},ut=class{constructor(t){this._worker=t}provideRenameEdits(t,r,i,n){let e=t.uri;return this._worker(e).then(o=>o.doRename(e.toString(),_(r),i)).then(o=>Fe(o))}};function Fe(t){if(!t||!t.changes)return;let r=[];for(let i in t.changes){let n=l.Uri.parse(i);for(let e of t.changes[i])r.push({resource:n,versionId:void 0,textEdit:{range:v(e.range),text:e.newText}})}return{edits:r}}var ct=class{constructor(t){this._worker=t}provideDocumentSymbols(t,r){let i=t.uri;return this._worker(i).then(n=>n.findDocumentSymbols(i.toString())).then(n=>{if(n)return n.map(e=>je(e)?lt(e):{name:e.name,detail:"",containerName:e.containerName,kind:dt(e.kind),range:v(e.location.range),selectionRange:v(e.location.range),tags:[]})})}};function je(t){return"children"in t}function lt(t){return{name:t.name,detail:t.detail??"",kind:dt(t.kind),range:v(t.range),selectionRange:v(t.selectionRange),tags:t.tags??[],children:(t.children??[]).map(r=>lt(r))}}function dt(t){let r=l.languages.SymbolKind;switch(t){case p.File:return r.File;case p.Module:return r.Module;case p.Namespace:return r.Namespace;case p.Package:return r.Package;case p.Class:return r.Class;case p.Method:return r.Method;case p.Property:return r.Property;case p.Field:return r.Field;case p.Constructor:return r.Constructor;case p.Enum:return r.Enum;case p.Interface:return r.Interface;case p.Function:return r.Function;case p.Variable:return r.Variable;case p.Constant:return r.Constant;case p.String:return r.String;case p.Number:return r.Number;case p.Boolean:return r.Boolean;case p.Array:return r.Array}return r.Function}var Ne=class{constructor(t){this._worker=t}provideLinks(t,r){let i=t.uri;return this._worker(i).then(n=>n.findDocumentLinks(i.toString())).then(n=>{if(n)return{links:n.map(e=>({range:v(e.range),url:e.target}))}})}},gt=class{constructor(t){this._worker=t}provideDocumentFormattingEdits(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.format(n.toString(),null,ht(r)).then(o=>{if(!(!o||o.length===0))return o.map(w)}))}},ft=class{constructor(t){this._worker=t,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(t,r,i,n){let e=t.uri;return this._worker(e).then(o=>o.format(e.toString(),j(r),ht(i)).then(s=>{if(!(!s||s.length===0))return s.map(w)}))}};function ht(t){return{tabSize:t.tabSize,insertSpaces:t.insertSpaces}}var mt=class{constructor(t){this._worker=t}provideDocumentColors(t,r){let i=t.uri;return this._worker(i).then(n=>n.findDocumentColors(i.toString())).then(n=>{if(n)return n.map(e=>({color:e.color,range:v(e.range)}))})}provideColorPresentations(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.getColorPresentations(n.toString(),r.color,j(r.range))).then(e=>{if(e)return e.map(o=>{let s={label:o.label};return o.textEdit&&(s.textEdit=w(o.textEdit)),o.additionalTextEdits&&(s.additionalTextEdits=o.additionalTextEdits.map(w)),s})})}},pt=class{constructor(t){this._worker=t}provideFoldingRanges(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.getFoldingRanges(n.toString(),r)).then(e=>{if(e)return e.map(o=>{let s={start:o.startLine+1,end:o.endLine+1};return o.kind!==void 0&&(s.kind=Ue(o.kind)),s})})}};function Ue(t){switch(t){case A.Comment:return l.languages.FoldingRangeKind.Comment;case A.Imports:return l.languages.FoldingRangeKind.Imports;case A.Region:return l.languages.FoldingRangeKind.Region}}var vt=class{constructor(t){this._worker=t}provideSelectionRanges(t,r,i){let n=t.uri;return this._worker(n).then(e=>e.getSelectionRanges(n.toString(),r.map(_))).then(e=>{if(e)return e.map(o=>{let s=[];for(;o;)s.push({range:v(o.range)}),o=o.parent;return s})})}};function We(t){let r=[],i=[],n=new W(t);r.push(n);let e=(...s)=>n.getLanguageServiceWorker(...s);function o(){let{languageId:s,modeConfiguration:u}=t;kt(i),u.completionItems&&i.push(l.languages.registerCompletionItemProvider(s,new et(e,["/","-",":"]))),u.hovers&&i.push(l.languages.registerHoverProvider(s,new nt(e))),u.documentHighlights&&i.push(l.languages.registerDocumentHighlightProvider(s,new it(e))),u.definitions&&i.push(l.languages.registerDefinitionProvider(s,new ot(e))),u.references&&i.push(l.languages.registerReferenceProvider(s,new st(e))),u.documentSymbols&&i.push(l.languages.registerDocumentSymbolProvider(s,new ct(e))),u.rename&&i.push(l.languages.registerRenameProvider(s,new ut(e))),u.colors&&i.push(l.languages.registerColorProvider(s,new mt(e))),u.foldingRanges&&i.push(l.languages.registerFoldingRangeProvider(s,new pt(e))),u.diagnostics&&i.push(new tt(s,e,t.onDidChange)),u.selectionRanges&&i.push(l.languages.registerSelectionRangeProvider(s,new vt(e))),u.documentFormattingEdits&&i.push(l.languages.registerDocumentFormattingEditProvider(s,new gt(e))),u.documentRangeFormattingEdits&&i.push(l.languages.registerDocumentRangeFormattingEditProvider(s,new ft(e)))}return o(),r.push(bt(i)),bt(r)}function bt(t){return{dispose:()=>kt(t)}}function kt(t){for(;t.length;)t.pop().dispose()}export{et as CompletionAdapter,ot as DefinitionAdapter,tt as DiagnosticsAdapter,mt as DocumentColorAdapter,gt as DocumentFormattingEditProvider,it as DocumentHighlightAdapter,Ne as DocumentLinkAdapter,ft as DocumentRangeFormattingEditProvider,ct as DocumentSymbolAdapter,pt as FoldingRangeAdapter,nt as HoverAdapter,st as ReferenceAdapter,ut as RenameAdapter,vt as SelectionRangeAdapter,W as WorkerManager,_ as fromPosition,j as fromRange,We as setupMode,v as toRange,w as toTextEdit};
